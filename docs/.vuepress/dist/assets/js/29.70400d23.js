(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{447:function(t,s,a){"use strict";a.r(s);var n=a(65),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"微信小程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序"}},[t._v("#")]),t._v(" 微信小程序：")]),t._v(" "),a("h3",{attrs:{id:"vscode的插件推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode的插件推荐"}},[t._v("#")]),t._v(" vscode的插件推荐")]),t._v(" "),a("p",[t._v("minapp插件很好用。")]),t._v(" "),a("h3",{attrs:{id:"小程序组织结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序组织结构"}},[t._v("#")]),t._v(" 小程序组织结构")]),t._v(" "),a("p",[t._v("小程序下有三个全局文件，"),a("code",[t._v("app.json")]),t._v("全局配置文件，"),a("code",[t._v("app.wxss")]),t._v("全局样式文件，"),a("code",[t._v("app.js")]),t._v("全局业务文件， 三个文件名字不能更改！")]),t._v(" "),a("p",[t._v("小程序可以有多个Page页面所组成。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220805084802731.png",alt:"image-20220805084802731"}})]),t._v(" "),a("p",[a("code",[t._v("project.config.json")]),t._v("小程序根据用户环境生成的配置文件， 我们不需要关注。")]),t._v(" "),a("p",[t._v("所有页面都要在"),a("code",[t._v("app.json")]),t._v("文件中有配置， 没有配置的页面不会进行显示。")]),t._v(" "),a("h3",{attrs:{id:"前端设计稿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端设计稿"}},[t._v("#")]),t._v(" 前端设计稿")]),t._v(" "),a("p",[t._v("以Iphone6为标准：  750 *  1334")]),t._v(" "),a("ul",[a("li",[t._v("小程序设计稿依据：")])]),t._v(" "),a("p",[t._v("以iphone6为基准，宽度为750个物理像素，对应逻辑分辨率为375pt，高度为667 * 2 个物理像素，即1334个物理像素 对应逻辑分辨率为667pt")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("备注")]),t._v(" "),a("p",[t._v("物理像素的尺寸并不是真实物理尺寸，没有长度概念，指代的是像素点的个数（点是没有尺寸概念的）")]),t._v(" "),a("p",[t._v("px不会自适应，在所有屏幕上大小不变，rpx会根据屏幕自适应，以iphone6为基准的前提下(屏幕显示宽度为375pt)\n在css中写px，和iphone6的pt 是1:1的关系，如375px对应了375pt")]),t._v(" "),a("p",[t._v("写rpx，则是2:1的关系，如750rpx对应了375pt")])]),t._v(" "),a("h3",{attrs:{id:"自定义事件激活"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义事件激活"}},[t._v("#")]),t._v(" 自定义事件激活")]),t._v(" "),a("ul",[a("li",[t._v("首先在页面写一个事件 "),a("code",[t._v('bind:like="onLike"')]),t._v("，在对应的 js 内写入相应事件函数")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<v-like class="like" bind:like="onLike" count="{{likeCount}}" isLike="{{likeStatus}}"></v-like>\n')])])]),a("ul",[a("li",[t._v("组件内")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<view bindtap="onLike" class="container">\n\t<image class="icon" src="{{isLike?like:disLike}}"></image>\n\t<text class="like-num">{{count}}</text>\n</view>\n')])])]),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLike")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" behavior "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isLike "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'like'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cancel'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("triggerEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'like'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        behavior\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"observer函数应用-修改组件属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#observer函数应用-修改组件属性"}},[t._v("#")]),t._v(" observer函数应用（修改组件属性）")]),t._v(" "),a("p",[t._v("监听组件属性变化时触发")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("properties")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("observer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" changedPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" val "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("newVal"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("newVal\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("_index")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("val\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("需要注意千万不要在 "),a("code",[t._v("observer")]),t._v(" 中修改自身属性值， 可增加一个 data 属性 "),a("code",[t._v("_index")]),t._v(" 作为修改变量的值.")]),t._v(" "),a("h3",{attrs:{id:"组件继承-behavior"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件继承-behavior"}},[t._v("#")]),t._v(" 组件继承-Behavior")]),t._v(" "),a("p",[t._v("作用： 可以在多个组件内共用一段代码")]),t._v(" "),a("p",[t._v("写法：")]),t._v(" "),a("p",[t._v("先建立一个js文件")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" classicBeh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Behavior")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("properties")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("img")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hidden")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  classicBeh\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在组件内使用")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  classicBeh\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../classic-beh'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("behaviors")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("classicBeh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \n")])])]),a("h3",{attrs:{id:"页面传值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面传值"}},[t._v("#")]),t._v(" 页面传值")]),t._v(" "),a("ul",[a("li",[t._v("传值：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * 组件的方法列表\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onTap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("book"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id\n      wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/pages/book-detail/index?bid=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("bid"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("接收：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bid\n")])])]),a("h3",{attrs:{id:"slot插槽使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#slot插槽使用"}},[t._v("#")]),t._v(" slot插槽使用")]),t._v(" "),a("ul",[a("li",[t._v("在组件内开启插槽")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("multipleSlots")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("ul",[a("li",[t._v("在组件内定义插槽")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<view class="container tag-class" bind:tap="onClick">\n\t<text class="comment">{{text}}</text>\n\t<slot name="after"></slot>\n</view>\n')])])]),a("ul",[a("li",[t._v("在页面中使用")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<v-tag text="{{item.content}}" tag-class="{{tool.highlight(index)}}">\n  <text class="num" slot="after">{{\'+\'+item.nums}}</text>\n</v-tag>\n')])])]),a("p",[t._v("slot 名字与组件内 slot 的 name 相同即可，可写入多个插槽，name 要不一样")]),t._v(" "),a("h3",{attrs:{id:"自定义组件样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件样式"}},[t._v("#")]),t._v(" 自定义组件样式")]),t._v(" "),a("h4",{attrs:{id:"hack方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hack方式"}},[t._v("#")]),t._v(" hack方式")]),t._v(" "),a("p",[t._v("小程序目前不支持自定义组件的样式， 可以先选中某个组件元素，再向下寻找想要设置样式的子元素进行设置， 尽量使用子元素选择器，以免影响后代元素样式，如下：")]),t._v(" "),a("div",{staticClass:"language-wxss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".comment-container>v-tag:nth-child(1)>view {\n  background-color: #fffbdd;\n}\n")])])]),a("h4",{attrs:{id:"外部样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外部样式"}},[t._v("#")]),t._v(" 外部样式")]),t._v(" "),a("p",[t._v("可以使用 index 获取 for 循环中的第几个元素，这里利用了 wxs 的方式根据 index 来确定不同的类名。")]),t._v(" "),a("ul",[a("li",[t._v("页面wxml：")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<block wx:for="{{util.limit(shortComment,10)}}" wx:key="content">\n  <v-tag text="{{item.content}}" tag-class="{{tool.highlight(index)}}">\n    <text class="num" slot="after">{{\'+\'+item.nums}}</text>\n  </v-tag>\n</block>\n')])])]),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<wxs module=\"tool\">\n\tvar highlight = function(index){\n\t\tif(index===0){\n\t\t\treturn 'ex-tag1'\n\t\t}\n\t\tif(index===1){\n\t\t\treturn 'ex-tag2'\n\t\t}\n\t\treturn ''\n\t}\n\n\tmodule.exports = {\n\t\thighlight:highlight\n\t}\n</wxs>\n")])])]),a("ul",[a("li",[t._v("页面wxss：")])]),t._v(" "),a("div",{staticClass:"language-wxss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".ex-tag1 {\n  background-color: #fffbdd !important;\n}\n\n.ex-tag2 {\n  background-color: #eefbff !important;\n}\n")])])]),a("p",[t._v("如果不用 "),a("code",[t._v("!important")]),t._v(" 要记的提升样式的优先级， 保证修改的样式生效。")]),t._v(" "),a("ul",[a("li",[t._v("组件wxml：")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<view class="container tag-class" bind:tap="onClick">\n\t<text class="comment">{{text}}</text>\n\t<slot name="after"></slot>\n</view>\n')])])]),a("ul",[a("li",[t._v("组件js：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("externalClasses")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tag-class'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n")])])]),a("h3",{attrs:{id:"wxs的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs的使用"}},[t._v("#")]),t._v(" WXS的使用")]),t._v(" "),a("p",[t._v("wxs基本与ES5相同， 但也有细微的差别， 比如不能使用ES6的"),a("code",[t._v("const")]),t._v("等。可以用它来写过滤器。")]),t._v(" "),a("p",[t._v("先创建一个 "),a("strong",[t._v("filter.wxs")]),t._v(" 文件， 在文件写入一下， 使用的是"),a("code",[t._v("module.export")]),t._v("， 而不是ES6的"),a("code",[t._v("export")]),t._v("。而且文件名后缀是 "),a("code",[t._v("wxs")]),t._v("， 而不是 "),a("code",[t._v("js")]),t._v("。")]),t._v(" "),a("p",[t._v("fiter.wxs")]),t._v(" "),a("div",{staticClass:"language-wxs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("var format = function (text) {\n  if (!text) {\n    return\n  }\n  var reg = getRegExp('\\\\\\\\n', 'g')\n  return text.replace(reg, '\\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;')\n}\n\nvar limit = function (array, length) {\n  return array.slice(0, length)\n}\n\nmodule.exports = {\n  format: format,\n  limit: limit\n}\n")])])]),a("ul",[a("li",[t._v("在需要引入的wxml文件中")])]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<wxs src="../../utils/filter.wxs" module="util" />\n')])])]),a("p",[t._v("使用方式如下：")]),t._v(" "),a("div",{staticClass:"language-wxml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<block wx:for="{{util.limit(shortComment,10)}}" wx:key="content">\n')])])])])}),[],!1,null,null,null);s.default=e.exports}}]);