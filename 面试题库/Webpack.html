<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script>var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?87e6dfa24d2735e29aae05a54966e81f";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();</script><title>æ²§æµ·çš„é›¨å­£</title><meta name="description" content="è®°å½•æ—¥å¸¸æ‰€å¾—">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.e1dba4be.css">
    <link rel="modulepreload" href="/blog/assets/app.fd58d3d6.js"><link rel="modulepreload" href="/blog/assets/Webpack.html.324c901e.js"><link rel="modulepreload" href="/blog/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/blog/assets/Webpack.html.188b3235.js"><link rel="prefetch" href="/blog/assets/index.html.03f42a18.js"><link rel="prefetch" href="/blog/assets/Koa2æ–°æµªåšå®¢.html.79d49ccb.js"><link rel="prefetch" href="/blog/assets/Node.js_KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½ æŒæ¡KOA2æœåŠ¡ç«¯å¼€å‘.html.afce3e65.js"><link rel="prefetch" href="/blog/assets/Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›® å‰ç«¯æ™‹å‡å…¨æ ˆå·¥ç¨‹å¸ˆå¿…å¤‡.html.421251b0.js"><link rel="prefetch" href="/blog/assets/Vueå…¨å®¶æ¡¶_SSR_Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘.html.fc2b0d45.js"><link rel="prefetch" href="/blog/assets/vueä½¿ç”¨.html.ae47c623.js"><link rel="prefetch" href="/blog/assets/VUEé¡¹ç›®æ„å»ºä¸å¼€å‘å…¥é—¨.html.5b420c34.js"><link rel="prefetch" href="/blog/assets/Git åŸç†è¯¦è§£åŠå®ç”¨æŒ‡å—.html.1d9a19ab.js"><link rel="prefetch" href="/blog/assets/Git.html.0dc9b5a8.js"><link rel="prefetch" href="/blog/assets/HTTPåè®®åŸç†_å®è·µ Webå¼€å‘å·¥ç¨‹å¸ˆå¿…å­¦.html.e8902f71.js"><link rel="prefetch" href="/blog/assets/JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ.html.7dda8a61.js"><link rel="prefetch" href="/blog/assets/JavaScriptæ­£åˆ™è¿·ä½ ä¹¦.html.c969b56a.js"><link rel="prefetch" href="/blog/assets/linuxå‘½ä»¤.html.ea893578.js"><link rel="prefetch" href="/blog/assets/TypeScript å…¥é—¨å®æˆ˜ç¬”è®°.html.860cfb75.js"><link rel="prefetch" href="/blog/assets/TypeScript.html.95ef3162.js"><link rel="prefetch" href="/blog/assets/å‰å°_ä¸­å°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.aaddce35.js"><link rel="prefetch" href="/blog/assets/åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.ac5fe8de.js"><link rel="prefetch" href="/blog/assets/å›¾è§£HTTP.html.00602da8.js"><link rel="prefetch" href="/blog/assets/æ­£åˆ™è¡¨è¾¾å¼.html.7e4b1c0d.js"><link rel="prefetch" href="/blog/assets/æ·±å…¥ç†è§£ ES6.html.a8c51033.js"><link rel="prefetch" href="/blog/assets/è®¡ç®—æœºç½‘ç»œå¿…çŸ¥å¿…ä¼š.html.5dfe3ab9.js"><link rel="prefetch" href="/blog/assets/é‡å­¦å‰ç«¯.html.5a36eef1.js"><link rel="prefetch" href="/blog/assets/å¾®ä¿¡å°ç¨‹åº.html.8b035fcd.js"><link rel="prefetch" href="/blog/assets/CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.50d80a72.js"><link rel="prefetch" href="/blog/assets/JSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.7ff37d85.js"><link rel="prefetch" href="/blog/assets/CSS.html.c6d43320.js"><link rel="prefetch" href="/blog/assets/HTML.html.20d4300f.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.90a8cef2.js"><link rel="prefetch" href="/blog/assets/Node.js.html.7bda453d.js"><link rel="prefetch" href="/blog/assets/Vue.html.98d3f868.js"><link rel="prefetch" href="/blog/assets/Vue3.html.39daba74.js"><link rel="prefetch" href="/blog/assets/vueçš„diffç®—æ³•.html.4bf94362.js"><link rel="prefetch" href="/blog/assets/å…¶å®ƒ.html.cfbdca30.js"><link rel="prefetch" href="/blog/assets/åŸºç¡€é¢è¯•é¢˜.html.20a16f1b.js"><link rel="prefetch" href="/blog/assets/ç¬”è¯•é¢˜.html.bf947a00.js"><link rel="prefetch" href="/blog/assets/é€šä¿¡ç±».html.dcc24034.js"><link rel="prefetch" href="/blog/assets/é¢è¯•çœŸé¢˜2022.html.e5e23099.js"><link rel="prefetch" href="/blog/assets/index.html.7d7b4b21.js"><link rel="prefetch" href="/blog/assets/404.html.83136f9a.js"><link rel="prefetch" href="/blog/assets/index.html.2947766e.js"><link rel="prefetch" href="/blog/assets/Koa2æ–°æµªåšå®¢.html.bb4277eb.js"><link rel="prefetch" href="/blog/assets/Node.js_KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½ æŒæ¡KOA2æœåŠ¡ç«¯å¼€å‘.html.758a3ec4.js"><link rel="prefetch" href="/blog/assets/Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›® å‰ç«¯æ™‹å‡å…¨æ ˆå·¥ç¨‹å¸ˆå¿…å¤‡.html.60c245fe.js"><link rel="prefetch" href="/blog/assets/Vueå…¨å®¶æ¡¶_SSR_Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘.html.6cfa933b.js"><link rel="prefetch" href="/blog/assets/vueä½¿ç”¨.html.7a754cd3.js"><link rel="prefetch" href="/blog/assets/VUEé¡¹ç›®æ„å»ºä¸å¼€å‘å…¥é—¨.html.745d9947.js"><link rel="prefetch" href="/blog/assets/Git åŸç†è¯¦è§£åŠå®ç”¨æŒ‡å—.html.c5947e57.js"><link rel="prefetch" href="/blog/assets/Git.html.bc01cba4.js"><link rel="prefetch" href="/blog/assets/HTTPåè®®åŸç†_å®è·µ Webå¼€å‘å·¥ç¨‹å¸ˆå¿…å­¦.html.7af510c1.js"><link rel="prefetch" href="/blog/assets/JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ.html.5a71baa5.js"><link rel="prefetch" href="/blog/assets/JavaScriptæ­£åˆ™è¿·ä½ ä¹¦.html.fc54c566.js"><link rel="prefetch" href="/blog/assets/linuxå‘½ä»¤.html.6249d9da.js"><link rel="prefetch" href="/blog/assets/TypeScript å…¥é—¨å®æˆ˜ç¬”è®°.html.7c8bf16c.js"><link rel="prefetch" href="/blog/assets/TypeScript.html.c7e1925f.js"><link rel="prefetch" href="/blog/assets/å‰å°_ä¸­å°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.1bfbd27e.js"><link rel="prefetch" href="/blog/assets/åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.2543b627.js"><link rel="prefetch" href="/blog/assets/å›¾è§£HTTP.html.2b87b6e5.js"><link rel="prefetch" href="/blog/assets/æ­£åˆ™è¡¨è¾¾å¼.html.d2407e80.js"><link rel="prefetch" href="/blog/assets/æ·±å…¥ç†è§£ ES6.html.1039797c.js"><link rel="prefetch" href="/blog/assets/è®¡ç®—æœºç½‘ç»œå¿…çŸ¥å¿…ä¼š.html.df360bc0.js"><link rel="prefetch" href="/blog/assets/é‡å­¦å‰ç«¯.html.d3d040d9.js"><link rel="prefetch" href="/blog/assets/å¾®ä¿¡å°ç¨‹åº.html.9b04e0ff.js"><link rel="prefetch" href="/blog/assets/CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.ce59f0f2.js"><link rel="prefetch" href="/blog/assets/JSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.8708f3f3.js"><link rel="prefetch" href="/blog/assets/CSS.html.e9f150a4.js"><link rel="prefetch" href="/blog/assets/HTML.html.6f84f8c0.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.94732d54.js"><link rel="prefetch" href="/blog/assets/Node.js.html.b275dc83.js"><link rel="prefetch" href="/blog/assets/Vue.html.c40274d5.js"><link rel="prefetch" href="/blog/assets/Vue3.html.6516a8f7.js"><link rel="prefetch" href="/blog/assets/vueçš„diffç®—æ³•.html.ead5bcbe.js"><link rel="prefetch" href="/blog/assets/å…¶å®ƒ.html.8f93ce75.js"><link rel="prefetch" href="/blog/assets/åŸºç¡€é¢è¯•é¢˜.html.a247ec1b.js"><link rel="prefetch" href="/blog/assets/ç¬”è¯•é¢˜.html.c09babd7.js"><link rel="prefetch" href="/blog/assets/é€šä¿¡ç±».html.e3b7f32a.js"><link rel="prefetch" href="/blog/assets/é¢è¯•çœŸé¢˜2022.html.5d1fcbae.js"><link rel="prefetch" href="/blog/assets/index.html.2e6a4908.js"><link rel="prefetch" href="/blog/assets/404.html.ec2767ca.js"><link rel="prefetch" href="/blog/assets/giscus.15440425.js"><link rel="prefetch" href="/blog/assets/photoswipe.esm.382b1873.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/blog/" class="brand"><!----><!----><span class="site-name">æ²§æµ·çš„é›¨å­£</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%982022.html" class="nav-link" aria-label="é¢è¯•é¢˜åº“"><!---->é¢è¯•é¢˜åº“<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¸¸ç”¨ä»£ç ç‰‡æ®µ"><span class="title"><!---->å¸¸ç”¨ä»£ç ç‰‡æ®µ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/CSS%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html" class="nav-link" aria-label="CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ"><!---->CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/JS%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html" class="nav-link" aria-label="JSå¸¸ç”¨ä»£ç ç‰‡æ®µ"><!---->JSå¸¸ç”¨ä»£ç ç‰‡æ®µ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‰ç«¯ç¬”è®°"><span class="title"><!---->å‰ç«¯ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html" class="nav-link" aria-label="æ·±å…¥ç†è§£ES6"><!---->æ·±å…¥ç†è§£ES6<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" class="nav-link" aria-label="æ­£åˆ™è¡¨è¾¾å¼"><!---->æ­£åˆ™è¡¨è¾¾å¼<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/JavaScript%E6%AD%A3%E5%88%99%E8%BF%B7%E4%BD%A0%E4%B9%A6.html" class="nav-link" aria-label="JavaScriptæ­£åˆ™è¿·ä½ ä¹¦"><!---->JavaScriptæ­£åˆ™è¿·ä½ ä¹¦<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/JavaScript%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A0%B8%E2%BC%BC%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E2%BD%A4%E5%AE%9E%E8%B7%B5.html" class="nav-link" aria-label="JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ"><!---->JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/TypeScript.html" class="nav-link" aria-label="TypeScript"><!---->TypeScript<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/linux%E5%91%BD%E4%BB%A4.html" class="nav-link" aria-label="linuxå‘½ä»¤"><!---->linuxå‘½ä»¤<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/HTTP%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86+%E5%AE%9E%E8%B7%B5%20Web%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%BF%85%E5%AD%A6.html" class="nav-link" aria-label="HTTPåè®®åŸç†"><!---->HTTPåè®®åŸç†<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%A7%A3HTTP.html" class="nav-link" aria-label="å›¾è§£HTTP"><!---->å›¾è§£HTTP<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%90%8E%E5%8F%B0%E9%80%9A%E7%94%A8%E6%8F%90%E6%95%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html" class="nav-link" aria-label="åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ"><!---->åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/Git.html" class="nav-link" aria-label="Git"><!---->Git<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Vue"><span class="title"><!---->Vue</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/vue/vue%E4%BD%BF%E7%94%A8.html" class="nav-link" aria-label="Vueä½¿ç”¨"><!---->Vueä½¿ç”¨<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å°ç¨‹åº"><span class="title"><!---->å°ç¨‹åº</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" class="nav-link" aria-label="å¾®ä¿¡å°ç¨‹åº"><!---->å¾®ä¿¡å°ç¨‹åº<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Node.js"><span class="title"><!---->Node.js</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/Node.js/Node.js%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%8F%91Web%20Server%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%20%E5%89%8D%E7%AB%AF%E6%99%8B%E5%8D%87%E5%85%A8%E6%A0%88%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%BF%85%E5%A4%87.html" class="nav-link" aria-label="Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›®"><!---->Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›®<!----></a></li><li class="dropdown-item"><a href="/blog/Node.js/Node.js+KOA2%20%E4%BB%8E0%E5%88%B01%E6%89%93%E9%80%A0%E8%B6%85%E5%A5%BD%E7%94%A8Web%E6%A1%86%E6%9E%B6%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%20%E6%8E%8C%E6%8F%A1KOA2%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91.html" class="nav-link" aria-label="Node.js+KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½"><!---->Node.js+KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½<!----></a></li><li class="dropdown-item"><a href="/blog/Node.js/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6+SSR+Koa2%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E7%BE%8E%E5%9B%A2%E7%BD%91.html" class="nav-link" aria-label="Vueå…¨å®¶æ¡¶+SSR+Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘"><!---->Vueå…¨å®¶æ¡¶+SSR+Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘<!----></a></li><li class="dropdown-item"><a href="/blog/Node.js/Koa2%E6%96%B0%E6%B5%AA%E5%8D%9A%E5%AE%A2.html" class="nav-link" aria-label="Koa2æ–°æµªåšå®¢"><!---->Koa2æ–°æµªåšå®¢<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://gitee.com/l544402029/blog" target="_blank" rel="noopener noreferrer" aria-label="gitee"><svg xmlns="http://www.w3.org/2000/svg" class="icon gitee-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="gitee icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm242.97-533.34H482.39a23.7 23.7 0 0 0-23.7 23.7l-.03 59.28c0 13.08 10.59 23.7 23.7 23.7h165.96a23.7 23.7 0 0 1 23.7 23.7v11.85a71.1 71.1 0 0 1-71.1 71.1H375.71a23.7 23.7 0 0 1-23.7-23.7V423.11a71.1 71.1 0 0 1 71.1-71.1h331.8a23.7 23.7 0 0 0 23.7-23.7l.06-59.25a23.73 23.73 0 0 0-23.7-23.73H423.11a177.78 177.78 0 0 0-177.78 177.75v331.83c0 13.08 10.62 23.7 23.7 23.7h349.62a159.99 159.99 0 0 0 159.99-159.99V482.33a23.7 23.7 0 0 0-23.7-23.7z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%982022.html" class="nav-link sidebar-link sidebar-page" aria-label="é¢è¯•çœŸé¢˜2022"><!---->é¢è¯•çœŸé¢˜2022<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E9%80%9A%E4%BF%A1%E7%B1%BB.html" class="nav-link sidebar-link sidebar-page" aria-label="é€šä¿¡ç±»"><!---->é€šä¿¡ç±»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/HTML.html" class="nav-link sidebar-link sidebar-page" aria-label="HTML"><!---->HTML<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/CSS.html" class="nav-link sidebar-link sidebar-page" aria-label="CSS"><!---->CSS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/JavaScript.html" class="nav-link sidebar-link sidebar-page" aria-label="JavaScript"><!---->JavaScript<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E7%AC%94%E8%AF%95%E9%A2%98.html" class="nav-link sidebar-link sidebar-page" aria-label="ç¬”è¯•é¢˜"><!---->ç¬”è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Vue.html" class="nav-link sidebar-link sidebar-page" aria-label="Vue"><!---->Vue<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Vue3.html" class="nav-link sidebar-link sidebar-page" aria-label="Vue3"><!---->Vue3<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Webpack"><!---->Webpack<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Webpack"><!---->Webpack<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Webpack æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->Webpack æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å®˜æ–¹æ–‡æ¡£æŸ¥é˜…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®˜æ–¹æ–‡æ¡£æŸ¥é˜…"><!---->å®˜æ–¹æ–‡æ¡£æŸ¥é˜…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ­å»º-webpack-ç¯å¢ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ­å»º Webpack ç¯å¢ƒ"><!---->æ­å»º Webpack ç¯å¢ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-webpack-é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ Webpack é…ç½®æ–‡ä»¶"><!---->ä½¿ç”¨ Webpack é…ç½®æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#åˆ›å»ºé…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ›å»ºé…ç½®æ–‡ä»¶"><!---->åˆ›å»ºé…ç½®æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—"><!---->ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ‰§è¡Œå‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack æ‰§è¡Œå‘½ä»¤"><!---->webpack æ‰§è¡Œå‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#loader" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="loader"><!---->loader<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…é™æ€èµ„æº-å›¾ç‰‡ç¯‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰“åŒ…é™æ€èµ„æºï¼ˆå›¾ç‰‡ç¯‡ï¼‰"><!---->æ‰“åŒ…é™æ€èµ„æºï¼ˆå›¾ç‰‡ç¯‡ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…é™æ€èµ„æº-æ ·å¼ç¯‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰“åŒ…é™æ€èµ„æºï¼ˆæ ·å¼ç¯‡ï¼‰"><!---->æ‰“åŒ…é™æ€èµ„æºï¼ˆæ ·å¼ç¯‡ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-plugins" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ plugins"><!---->ä½¿ç”¨ plugins<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ç”Ÿæˆ-html-æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç”Ÿæˆ html æ–‡ä»¶"><!---->ç”Ÿæˆ html æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…æ—¶æ¸…ç©º-dist-ç›®å½•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰“åŒ…æ—¶æ¸…ç©º dist ç›®å½•"><!---->æ‰“åŒ…æ—¶æ¸…ç©º dist ç›®å½•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#åŸºç¡€é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŸºç¡€é…ç½®"><!---->åŸºç¡€é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#entry" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Entry"><!---->Entry<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#output" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Output"><!---->Output<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#sourcemap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SourceMap"><!---->SourceMap<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpackdevserver" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WebpackDevServer"><!---->WebpackDevServer<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-watch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack --watch"><!---->webpack --watch<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#devserver" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="devServer"><!---->devServer<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#çƒ­æ¨¡å—æ›´æ–°-hmr" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="çƒ­æ¨¡å—æ›´æ–°ï¼ˆHMRï¼‰"><!---->çƒ­æ¨¡å—æ›´æ–°ï¼ˆHMRï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-babel-å¤„ç†-es6-è¯­æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ Babel å¤„ç† ES6 è¯­æ³•"><!---->ä½¿ç”¨ Babel å¤„ç† ES6 è¯­æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä¸šåŠ¡ä»£ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸šåŠ¡ä»£ç "><!---->ä¸šåŠ¡ä»£ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…ç»„ä»¶åº“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰“åŒ…ç»„ä»¶åº“"><!---->æ‰“åŒ…ç»„ä»¶åº“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#é…ç½®-react-ä»£ç æ‰“åŒ…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é…ç½® React ä»£ç æ‰“åŒ…"><!---->é…ç½® React ä»£ç æ‰“åŒ…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#tree-shaking" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Tree Shaking"><!---->Tree Shaking<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#develoment-å’Œ-production-æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Develoment å’Œ Production æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…"><!---->Develoment å’Œ Production æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¼€å‘ç¯å¢ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼€å‘ç¯å¢ƒ"><!---->å¼€å‘ç¯å¢ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#çº¿ä¸Šç¯å¢ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="çº¿ä¸Šç¯å¢ƒ"><!---->çº¿ä¸Šç¯å¢ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å…¬å…±æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…¬å…±æ–‡ä»¶"><!---->å…¬å…±æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å’Œ-code-splitting" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Webpack å’Œ Code Splitting"><!---->Webpack å’Œ Code Splitting<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²"><!---->è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#splitchunksplugin-é…ç½®å‚æ•°è¯¦è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SplitChunksPlugin é…ç½®å‚æ•°è¯¦è§£"><!---->SplitChunksPlugin é…ç½®å‚æ•°è¯¦è§£<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#é­”æ³•æ³¨é‡Š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é­”æ³•æ³¨é‡Š"><!---->é­”æ³•æ³¨é‡Š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å‚æ•°è¯´æ˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚æ•°è¯´æ˜"><!---->å‚æ•°è¯´æ˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#chunks-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Chunks æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->Chunks æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#lazy-loading-æ‡’åŠ è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Lazy Loading æ‡’åŠ è½½"><!---->Lazy Loading æ‡’åŠ è½½<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…åˆ†æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰“åŒ…åˆ†æ"><!---->æ‰“åŒ…åˆ†æ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#preloading-prefetching" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Preloading, Prefetching"><!---->Preloading, Prefetching<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#css-ä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="css ä»£ç åˆ†å‰²"><!---->css ä»£ç åˆ†å‰²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-ä¸æµè§ˆå™¨ç¼“å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Webpack ä¸æµè§ˆå™¨ç¼“å­˜"><!---->Webpack ä¸æµè§ˆå™¨ç¼“å­˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#shimming-çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Shimming çš„ä½œç”¨"><!---->Shimming çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ¨¡å—å†…-this-æŒ‡å‘-window" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¨¡å—å†… this æŒ‡å‘ window"><!---->æ¨¡å—å†… this æŒ‡å‘ window<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ç¯å¢ƒå˜é‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¯å¢ƒå˜é‡"><!---->ç¯å¢ƒå˜é‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…ç»„ä»¶åº“-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰“åŒ…ç»„ä»¶åº“"><!---->æ‰“åŒ…ç»„ä»¶åº“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#pwa-çš„æ‰“åŒ…é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PWA çš„æ‰“åŒ…é…ç½®"><!---->PWA çš„æ‰“åŒ…é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨"><!---->å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#typescript-çš„æ‰“åŒ…é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TypeScript çš„æ‰“åŒ…é…ç½®"><!---->TypeScript çš„æ‰“åŒ…é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpackdevserver-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WebpackDevServer"><!---->WebpackDevServer<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#è¯·æ±‚è½¬å‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯·æ±‚è½¬å‘"><!---->è¯·æ±‚è½¬å‘<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜"><!---->è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#eslint" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="EsLint"><!---->EsLint<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-eslint-æ£€æµ‹ä»£ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ eslint æ£€æµ‹ä»£ç "><!---->ä½¿ç”¨ eslint æ£€æµ‹ä»£ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#vscode-ä¸­çš„-eslint" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="vscode ä¸­çš„ ESlint"><!---->vscode ä¸­çš„ ESlint<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æœ€ä½³å®è·µ-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœ€ä½³å®è·µ"><!---->æœ€ä½³å®è·µ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack æ€§èƒ½ä¼˜åŒ–"><!---->webpack æ€§èƒ½ä¼˜åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¤šé¡µé¢æ‰“åŒ…é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤šé¡µé¢æ‰“åŒ…é…ç½®"><!---->å¤šé¡µé¢æ‰“åŒ…é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-loader" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•ç¼–å†™ä¸€ä¸ª loader"><!---->å¦‚ä½•ç¼–å†™ä¸€ä¸ª loader<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-plugin" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•ç¼–å†™ä¸€ä¸ª Plugin"><!---->å¦‚ä½•ç¼–å†™ä¸€ä¸ª Plugin<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#bundler-æºç ç¼–å†™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Bundler æºç ç¼–å†™"><!---->Bundler æºç ç¼–å†™<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ¨¡å—åˆ†æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¨¡å—åˆ†æ"><!---->æ¨¡å—åˆ†æ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#vue-cli-3-çš„é…ç½®æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Vue CLI 3 çš„é…ç½®æ–¹æ³•"><!---->Vue CLI 3 çš„é…ç½®æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å®ç°å°å‹æ‰“åŒ…å·¥å…·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å®ç°å°å‹æ‰“åŒ…å·¥å…·"><!---->å®ç°å°å‹æ‰“åŒ…å·¥å…·<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¦‚ä½•é…ç½®åˆ«å" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•é…ç½®åˆ«å"><!---->å¦‚ä½•é…ç½®åˆ«å<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¸¸è§é¢è¯•é¢˜æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸è§é¢è¯•é¢˜æ€»ç»“"><!---->å¸¸è§é¢è¯•é¢˜æ€»ç»“<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#module-chunk-bundle-åˆ†åˆ«ä»€ä¹ˆæ„æ€-æœ‰ä½•åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="module chunk bundle åˆ†åˆ«ä»€ä¹ˆæ„æ€ï¼Œæœ‰ä½•åŒºåˆ«?"><!---->module chunk bundle åˆ†åˆ«ä»€ä¹ˆæ„æ€ï¼Œæœ‰ä½•åŒºåˆ«?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-ç»¼åˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - ç»¼åˆ"><!---->webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - ç»¼åˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-æ„å»ºé€Ÿåº¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - æ„å»ºé€Ÿåº¦"><!---->webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - æ„å»ºé€Ÿåº¦<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ€§èƒ½ä¼˜åŒ–-äº§å‡ºä»£ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack æ€§èƒ½ä¼˜åŒ– - äº§å‡ºä»£ç "><!---->webpack æ€§èƒ½ä¼˜åŒ– - äº§å‡ºä»£ç <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…?"><!---->å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#plugin-ä¸-loader-çš„åŒºåˆ«-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Plugin ä¸ loader çš„åŒºåˆ«ï¼Ÿ"><!---->Plugin ä¸ loader çš„åŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¸¸è§-loader-æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸è§ loader æœ‰å“ªäº›ï¼Ÿ"><!---->å¸¸è§ loader æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¸¸è§-plugin-æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¸¸è§ plugin æœ‰å“ªäº›ï¼Ÿ"><!---->å¸¸è§ plugin æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#babel-å’Œ-webpack-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="babel å’Œ webpack çš„åŒºåˆ«"><!---->babel å’Œ webpack çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#babel-polyfill-å’Œ-babel-runtime-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="babel-polyfill å’Œ babel-runtime çš„åŒºåˆ«ï¼Ÿ"><!---->babel-polyfill å’Œ babel-runtime çš„åŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å¦‚ä½•å®ç°æ‡’åŠ è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack å¦‚ä½•å®ç°æ‡’åŠ è½½ï¼Ÿ"><!---->webpack å¦‚ä½•å®ç°æ‡’åŠ è½½ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä¸ºä½•-proxy-ä¸èƒ½è¢«-polyfill" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ºä½• Proxy ä¸èƒ½è¢« Polyfillï¼Ÿ"><!---->ä¸ºä½• Proxy ä¸èƒ½è¢« Polyfillï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Node.js.html" class="nav-link sidebar-link sidebar-page" aria-label="Node.js"><!---->Node.js<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E5%85%B6%E5%AE%83.html" class="nav-link sidebar-link sidebar-page" aria-label="å…¶å®ƒ"><!---->å…¶å®ƒ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/vue%E7%9A%84diff%E7%AE%97%E6%B3%95.html" class="nav-link sidebar-link sidebar-page" aria-label="vueçš„diffç®—æ³•"><!---->vueçš„diffç®—æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!----></h1><div class="page-info"><!----><!----><span class="date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>September 14, 2022</span><meta property="datePublished" content="2022-09-14T06:06:01.000Z"></span><!----><!----><span class="reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down" localizeddate="September 14, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 57 min</span><meta property="timeRequired" content="PT57M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack" class="router-link-active router-link-exact-active toc-link level2">Webpack</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level2">Webpack æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å®˜æ–¹æ–‡æ¡£æŸ¥é˜…" class="router-link-active router-link-exact-active toc-link level3">å®˜æ–¹æ–‡æ¡£æŸ¥é˜…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ­å»º-webpack-ç¯å¢ƒ" class="router-link-active router-link-exact-active toc-link level3">æ­å»º Webpack ç¯å¢ƒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-webpack-é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level2">ä½¿ç”¨ Webpack é…ç½®æ–‡ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#åˆ›å»ºé…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">åˆ›å»ºé…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—" class="router-link-active router-link-exact-active toc-link level3">ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ‰§è¡Œå‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">webpack æ‰§è¡Œå‘½ä»¤</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#loader" class="router-link-active router-link-exact-active toc-link level2">loader</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…é™æ€èµ„æº-å›¾ç‰‡ç¯‡" class="router-link-active router-link-exact-active toc-link level3">æ‰“åŒ…é™æ€èµ„æºï¼ˆå›¾ç‰‡ç¯‡ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…é™æ€èµ„æº-æ ·å¼ç¯‡" class="router-link-active router-link-exact-active toc-link level3">æ‰“åŒ…é™æ€èµ„æºï¼ˆæ ·å¼ç¯‡ï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-plugins" class="router-link-active router-link-exact-active toc-link level2">ä½¿ç”¨ plugins</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ç”Ÿæˆ-html-æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">ç”Ÿæˆ html æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…æ—¶æ¸…ç©º-dist-ç›®å½•" class="router-link-active router-link-exact-active toc-link level3">æ‰“åŒ…æ—¶æ¸…ç©º dist ç›®å½•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#åŸºç¡€é…ç½®" class="router-link-active router-link-exact-active toc-link level2">åŸºç¡€é…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#entry" class="router-link-active router-link-exact-active toc-link level3">Entry</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#output" class="router-link-active router-link-exact-active toc-link level3">Output</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#sourcemap" class="router-link-active router-link-exact-active toc-link level2">SourceMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpackdevserver" class="router-link-active router-link-exact-active toc-link level2">WebpackDevServer</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-watch" class="router-link-active router-link-exact-active toc-link level3">webpack --watch</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#devserver" class="router-link-active router-link-exact-active toc-link level3">devServer</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#çƒ­æ¨¡å—æ›´æ–°-hmr" class="router-link-active router-link-exact-active toc-link level2">çƒ­æ¨¡å—æ›´æ–°ï¼ˆHMRï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-babel-å¤„ç†-es6-è¯­æ³•" class="router-link-active router-link-exact-active toc-link level2">ä½¿ç”¨ Babel å¤„ç† ES6 è¯­æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä¸šåŠ¡ä»£ç " class="router-link-active router-link-exact-active toc-link level3">ä¸šåŠ¡ä»£ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…ç»„ä»¶åº“" class="router-link-active router-link-exact-active toc-link level3">æ‰“åŒ…ç»„ä»¶åº“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#é…ç½®-react-ä»£ç æ‰“åŒ…" class="router-link-active router-link-exact-active toc-link level2">é…ç½® React ä»£ç æ‰“åŒ…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#tree-shaking" class="router-link-active router-link-exact-active toc-link level2">Tree Shaking</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#develoment-å’Œ-production-æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…" class="router-link-active router-link-exact-active toc-link level2">Develoment å’Œ Production æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¼€å‘ç¯å¢ƒ" class="router-link-active router-link-exact-active toc-link level3">å¼€å‘ç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#çº¿ä¸Šç¯å¢ƒ" class="router-link-active router-link-exact-active toc-link level3">çº¿ä¸Šç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å…¬å…±æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">å…¬å…±æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å’Œ-code-splitting" class="router-link-active router-link-exact-active toc-link level3">Webpack å’Œ Code Splitting</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active toc-link level3">è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#splitchunksplugin-é…ç½®å‚æ•°è¯¦è§£" class="router-link-active router-link-exact-active toc-link level2">SplitChunksPlugin é…ç½®å‚æ•°è¯¦è§£</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#é­”æ³•æ³¨é‡Š" class="router-link-active router-link-exact-active toc-link level3">é­”æ³•æ³¨é‡Š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å‚æ•°è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">å‚æ•°è¯´æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#chunks-æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">Chunks æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#lazy-loading-æ‡’åŠ è½½" class="router-link-active router-link-exact-active toc-link level2">Lazy Loading æ‡’åŠ è½½</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…åˆ†æ" class="router-link-active router-link-exact-active toc-link level3">æ‰“åŒ…åˆ†æ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#preloading-prefetching" class="router-link-active router-link-exact-active toc-link level2">Preloading, Prefetching</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#css-ä»£ç åˆ†å‰²" class="router-link-active router-link-exact-active toc-link level2">css ä»£ç åˆ†å‰²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-ä¸æµè§ˆå™¨ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level2">Webpack ä¸æµè§ˆå™¨ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#shimming-çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level2">Shimming çš„ä½œç”¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ¨¡å—å†…-this-æŒ‡å‘-window" class="router-link-active router-link-exact-active toc-link level3">æ¨¡å—å†… this æŒ‡å‘ window</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ç¯å¢ƒå˜é‡" class="router-link-active router-link-exact-active toc-link level2">ç¯å¢ƒå˜é‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ‰“åŒ…ç»„ä»¶åº“-1" class="router-link-active router-link-exact-active toc-link level2">æ‰“åŒ…ç»„ä»¶åº“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#pwa-çš„æ‰“åŒ…é…ç½®" class="router-link-active router-link-exact-active toc-link level2">PWA çš„æ‰“åŒ…é…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨" class="router-link-active router-link-exact-active toc-link level3">å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#typescript-çš„æ‰“åŒ…é…ç½®" class="router-link-active router-link-exact-active toc-link level2">TypeScript çš„æ‰“åŒ…é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpackdevserver-1" class="router-link-active router-link-exact-active toc-link level2">WebpackDevServer</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#è¯·æ±‚è½¬å‘" class="router-link-active router-link-exact-active toc-link level3">è¯·æ±‚è½¬å‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#eslint" class="router-link-active router-link-exact-active toc-link level2">EsLint</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä½¿ç”¨-eslint-æ£€æµ‹ä»£ç " class="router-link-active router-link-exact-active toc-link level3">ä½¿ç”¨ eslint æ£€æµ‹ä»£ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#vscode-ä¸­çš„-eslint" class="router-link-active router-link-exact-active toc-link level3">vscode ä¸­çš„ ESlint</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æœ€ä½³å®è·µ-1" class="router-link-active router-link-exact-active toc-link level3">æœ€ä½³å®è·µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active toc-link level2">webpack æ€§èƒ½ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¤šé¡µé¢æ‰“åŒ…é…ç½®" class="router-link-active router-link-exact-active toc-link level2">å¤šé¡µé¢æ‰“åŒ…é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-loader" class="router-link-active router-link-exact-active toc-link level2">å¦‚ä½•ç¼–å†™ä¸€ä¸ª loader</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-plugin" class="router-link-active router-link-exact-active toc-link level2">å¦‚ä½•ç¼–å†™ä¸€ä¸ª Plugin</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#bundler-æºç ç¼–å†™" class="router-link-active router-link-exact-active toc-link level2">Bundler æºç ç¼–å†™</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#æ¨¡å—åˆ†æ" class="router-link-active router-link-exact-active toc-link level3">æ¨¡å—åˆ†æ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#vue-cli-3-çš„é…ç½®æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level2">Vue CLI 3 çš„é…ç½®æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å®ç°å°å‹æ‰“åŒ…å·¥å…·" class="router-link-active router-link-exact-active toc-link level2">å®ç°å°å‹æ‰“åŒ…å·¥å…·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¦‚ä½•é…ç½®åˆ«å" class="router-link-active router-link-exact-active toc-link level2">å¦‚ä½•é…ç½®åˆ«å</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¸¸è§é¢è¯•é¢˜æ€»ç»“" class="router-link-active router-link-exact-active toc-link level2">å¸¸è§é¢è¯•é¢˜æ€»ç»“</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#module-chunk-bundle-åˆ†åˆ«ä»€ä¹ˆæ„æ€-æœ‰ä½•åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">module chunk bundle åˆ†åˆ«ä»€ä¹ˆæ„æ€ï¼Œæœ‰ä½•åŒºåˆ«?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-ç»¼åˆ" class="router-link-active router-link-exact-active toc-link level3">webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - ç»¼åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-æ„å»ºé€Ÿåº¦" class="router-link-active router-link-exact-active toc-link level3">webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - æ„å»ºé€Ÿåº¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-æ€§èƒ½ä¼˜åŒ–-äº§å‡ºä»£ç " class="router-link-active router-link-exact-active toc-link level3">webpack æ€§èƒ½ä¼˜åŒ– - äº§å‡ºä»£ç </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…" class="router-link-active router-link-exact-active toc-link level3">å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#plugin-ä¸-loader-çš„åŒºåˆ«-1" class="router-link-active router-link-exact-active toc-link level3">Plugin ä¸ loader çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¸¸è§-loader-æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">å¸¸è§ loader æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#å¸¸è§-plugin-æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">å¸¸è§ plugin æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#babel-å’Œ-webpack-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">babel å’Œ webpack çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#babel-polyfill-å’Œ-babel-runtime-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">babel-polyfill å’Œ babel-runtime çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#webpack-å¦‚ä½•å®ç°æ‡’åŠ è½½" class="router-link-active router-link-exact-active toc-link level3">webpack å¦‚ä½•å®ç°æ‡’åŠ è½½ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html#ä¸ºä½•-proxy-ä¸èƒ½è¢«-polyfill" class="router-link-active router-link-exact-active toc-link level3">ä¸ºä½• Proxy ä¸èƒ½è¢« Polyfillï¼Ÿ</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> Webpack</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>æœ¬ç¯‡åšå®¢ç”±æ…•è¯¾ç½‘è§†é¢‘[ä»åŸºç¡€åˆ°å®æˆ˜æ‰‹æŠŠæ‰‹å¸¦ä½ æŒæ¡æ–°ç‰ˆWebpack4.0](https://coding.imooc.com/class/316.html)é˜…è¯»æ•´ç†è€Œæ¥ï¼Œè§‚çœ‹è§†é¢‘è¯·æ”¯æŒæ­£ç‰ˆã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>æœ¬ç¯‡åšå®¢ Webpack ç‰ˆæœ¬æ˜¯4.0+ï¼Œè¯·ç¡®ä¿ä½ å®‰è£…äº†Node.jsæœ€æ–°ç‰ˆæœ¬ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="webpack-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#webpack-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> Webpack æ˜¯ä»€ä¹ˆï¼Ÿ</h2><h5 id="æ ¸å¿ƒå®šä¹‰" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒå®šä¹‰" aria-hidden="true">#</a> æ ¸å¿ƒå®šä¹‰</h5><p>webpack çš„æ ¸å¿ƒå®šä¹‰æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·ã€‚</p><h3 id="å®˜æ–¹æ–‡æ¡£æŸ¥é˜…" tabindex="-1"><a class="header-anchor" href="#å®˜æ–¹æ–‡æ¡£æŸ¥é˜…" aria-hidden="true">#</a> å®˜æ–¹æ–‡æ¡£æŸ¥é˜…</h3><p><a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer">https://webpack.js.org/concepts/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>GUIDES: è§£å†³æŸä¸€ä¸ªæ–¹å‘é—®é¢˜ç­”æ¡ˆï¼Œå¦‚ä»£ç åˆ†å‰²ï¼ŒTypeScript</p><p>CONCEPTSï¼š ä¸€äº›æ ¸å¿ƒçš„æ¦‚å¿µ</p><p>CONFIGURATIONï¼š æŸä¸ªé…ç½®é¡¹</p><p>APIï¼š å†™ä¸€äº› loaderï¼Œplugin æ’ä»¶</p><p>LOADERSï¼š æŸ¥çœ‹ loader çš„ä½œç”¨ï¼Œé…ç½®ã€‚ï¼ˆå¦‚æœæ‰¾ä¸åˆ°åˆ°æ’ä»¶çš„ githup ä¸Šæ‰¾ï¼‰</p><p>PLUGINSï¼š æ’ä»¶çš„ä½œç”¨ï¼Œé…ç½®ã€‚ï¼ˆå¦‚æœæ‰¾ä¸åˆ°åˆ°æ’ä»¶çš„ githup ä¸Šæ‰¾ï¼‰</p><h3 id="æ­å»º-webpack-ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#æ­å»º-webpack-ç¯å¢ƒ" aria-hidden="true">#</a> æ­å»º Webpack ç¯å¢ƒ</h3><p>é¦–å…ˆè¦å®‰è£… node.js ä»¥åŠ npmï¼Œ å¹¶ä¿è¯æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚ï¼ˆæœ€æ–°ç‰ˆæœ¬ä¼šåŠ å¿«æ‰“åŒ…æ„å»ºé€Ÿåº¦ï¼‰</p><h4 id="å®‰è£…æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æŒ‡ä»¤" aria-hidden="true">#</a> å®‰è£…æŒ‡ä»¤</h4><p>å…¨å±€å®‰è£…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli <span class="token parameter variable">-g</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é¡¹ç›®å®‰è£…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¸¦æœ‰ç‰ˆæœ¬çš„å®‰è£…</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack@4.16.5 webpack-cli <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="å¸è½½æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#å¸è½½æŒ‡ä»¤" aria-hidden="true">#</a> å¸è½½æŒ‡ä»¤</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> uninstall webpack webpack-cli <span class="token parameter variable">-g</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹å½“å‰-webpack-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å½“å‰-webpack-ç‰ˆæœ¬" aria-hidden="true">#</a> æŸ¥çœ‹å½“å‰ Webpack ç‰ˆæœ¬</h4><p>å…¨å±€å®‰è£…æŸ¥çœ‹æŒ‡ä»¤ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>webpack <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é¡¹ç›®å†…å®‰è£…æŸ¥çœ‹æŒ‡ä»¤ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack  <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹å†å²-webpack-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å†å²-webpack-ç‰ˆæœ¬" aria-hidden="true">#</a> æŸ¥çœ‹å†å² Webpack ç‰ˆæœ¬</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> info webpack
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨-webpack-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-webpack-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> ä½¿ç”¨ Webpack é…ç½®æ–‡ä»¶</h2><h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> åˆ›å»ºé…ç½®æ–‡ä»¶</h3><p>åœ¨æ ¹ç›®å½•åˆ›å»º<code>webpack.config.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¼•å…¥nodeæ ¸å¿ƒæ¨¡å—</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//mode: &#39;production&#39;,//é»˜è®¤æ¨¡å¼,ä¼šå‹ç¼©ä»£ç ï¼Œä¸å†™å³æ˜¯é»˜è®¤ï¼Œä¸å†™ä¼šæœ‰æç¤º</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span> <span class="token comment">//å¼€å‘æ¨¡å¼ï¼Œ ä¸ä¼šå‹ç¼©ä»£ç </span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//ä»å“ªä¸€ä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¾“å‡ºåˆ°å“ªé‡Œ</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºçš„æ–‡ä»¶åç§°</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;bundle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºåˆ°å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹, pathåé¢è·Ÿç»å¯¹è·¯å¾„</span>
    <span class="token comment">//__dirnameæŒ‡çš„æ˜¯webpack.config.jsæ–‡ä»¶å½“å‰æ‰€åœ¨çš„è·¯å¾„</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—" aria-hidden="true">#</a> ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶åå­—</h3><p>æŠŠé»˜è®¤çš„<code>webpack.config.js</code>ï¼Œ ä¿®æ”¹ä¸º<code>webpackconfig.js</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack <span class="token parameter variable">--config</span> webpackconfig.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>npx ä¼šåœ¨ç›®å½•ä¸‹çš„ node_modules ä¸‹é¢æ‰¾ webpackï¼Œæ²¡æœ‰å°±å®‰è£…ä¸€ä¸ªã€‚npm åˆ™å…ˆå»å…¨å±€ï¼Œç„¶åå†å»å½“å‰ç›®å½•ä¸‹çš„ node_modules æ‰¾ webpackï¼Œæ²¡æœ‰å°±ä¸æ‰¾äº†</p></blockquote><h3 id="webpack-æ‰§è¡Œå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#webpack-æ‰§è¡Œå‘½ä»¤" aria-hidden="true">#</a> webpack æ‰§è¡Œå‘½ä»¤</h3><ul><li>å…¨å±€(global)</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>webpack index.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>å±€éƒ¨ï¼ˆlocalï¼‰</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack index.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>ä¿®æ”¹åè„šæœ¬æ‰§è¡Œå‘½ä»¤ï¼ˆ<code>npm scripts</code>ï¼‰</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run bundle
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>package.json æ–‡ä»¶</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;bundle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LiuJunFeng&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.41.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.10&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="loader" tabindex="-1"><a class="header-anchor" href="#loader" aria-hidden="true">#</a> loader</h2><p>loader æ˜¯ä¸€ä¸ªæ‰“åŒ…æ–¹æ¡ˆï¼Œå®ƒçŸ¥é“å¯¹äºæŸä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶ï¼Œwebpack è¯¥å¦‚ä½•è¿›è¡Œæ‰“åŒ…ã€‚æœ¬èº« webpack æ˜¯ä¸çŸ¥é“å¯¹äºä¸€äº›æ–‡ä»¶ï¼ˆjpgï¼Œtxtï¼Œexcelï¼‰è¯¥å¦‚ä½•å¤„ç†çš„ï¼Œä½†æ˜¯ loader çŸ¥é“ã€‚ æ‰€ä»¥ webpack å»æ±‚åŠ© loader å°±å¯ä»¥å•¦ã€‚</p><h3 id="æ‰“åŒ…é™æ€èµ„æº-å›¾ç‰‡ç¯‡" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…é™æ€èµ„æº-å›¾ç‰‡ç¯‡" aria-hidden="true">#</a> æ‰“åŒ…é™æ€èµ„æºï¼ˆå›¾ç‰‡ç¯‡ï¼‰</h3><h4 id="å®‰è£…æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><p>æ‰“åŒ…å›¾ç‰‡èµ„æºå¯ä»¥é€‰ç”¨ä¸¤ä¸ª<code>loader</code>ï¼Œ ä¸€ä¸ªæ˜¯<code>file-loader</code>ï¼Œä¸€ä¸ªæ˜¯<code>url-loader</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i file-loader <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i url-loader <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>url-loader æ›´åŠ å‹å¥½ï¼Œ å®ƒå¯ä»¥é€šè¿‡å›¾ç‰‡å¤§å°æ¥åˆ¤æ–­æ˜¯ä½¿ç”¨ base64 æ ¼å¼å›¾ç‰‡è¿˜æ˜¯ç›´æ¥æ‰“åŒ…æˆä¸€ä¸ªå›¾ç‰‡èµ„æºæ–‡ä»¶ã€‚</p><h4 id="é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> é…ç½®æ–‡ä»¶</h4><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// loader: &#39;file-loader&#39;,// é‡åˆ°jpgæ ¼å¼ä¸çŸ¥é“æ€ä¹ˆæ‰“åŒ…å°±å»æ±‚åŠ©file-loaderæ’ä»¶</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//å›¾ç‰‡è½¬åŒ–ä¸ºbase64ï¼Œ ä¸æ˜¯å•ç‹¬ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// placeholder å ä½ç¬¦</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash].[ext]&quot;</span><span class="token punctuation">,</span> <span class="token comment">//name æ‰“åŒ…æ–‡ä»¶åå­—   name/åŸæœ‰æ–‡ä»¶åå­—  hash/æœ¬æ¬¡æ‰“åŒ…å“ˆå¸Œå€¼  ext/åŸæœ‰åå­—åç¼€</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;images/&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æŠŠå›¾ç‰‡æ–‡ä»¶æ‰“åŒ…åˆ°imagesç›®å½•ä¸‹</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span> <span class="token comment">//å¦‚æœæ–‡ä»¶è¶…è¿‡204800å­—èŠ‚ï¼Œå°±ä¼šåƒfile-loaderæ‰“åŒ…åˆ°distç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œ</span>
          <span class="token comment">//å¦‚æœæ–‡ä»¶å°äº204800å­—èŠ‚ï¼Œé‚£å°±å›å˜æˆbase64å­—ç¬¦ä¸²ï¼Œ æ”¾åˆ°jså†…</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åŸç†" tabindex="-1"><a class="header-anchor" href="#åŸç†" aria-hidden="true">#</a> åŸç†</h4><p>File-loader åº•å±‚å¤„ç†é€»è¾‘ï¼Œå…ˆå°†æ–‡ä»¶è½¬ç§»åˆ°æ‰“åŒ…ç›®å½•ä¸‹ï¼Œå†å°† dist ä¸­çš„æ–‡ä»¶è·¯å¾„è¿”å›ç»™ index.jsã€‚</p><p>ä»»ä½•çš„é™æ€æ–‡ä»¶éƒ½å¯ä»¥ä½¿ç”¨<code>file-loader</code>æ’ä»¶ï¼Œ åªè¦ä½ å¸Œæœ›æŠŠé™æ€æ–‡ä»¶ç§»åŠ¨åˆ°æ‰“åŒ…ç›®å½•ä¸‹å¹¶ä¸”è·å–åˆ°æ­¤æ–‡ä»¶åœ°å€ã€‚</p><h3 id="æ‰“åŒ…é™æ€èµ„æº-æ ·å¼ç¯‡" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…é™æ€èµ„æº-æ ·å¼ç¯‡" aria-hidden="true">#</a> æ‰“åŒ…é™æ€èµ„æºï¼ˆæ ·å¼ç¯‡ï¼‰</h3><h4 id="å®‰è£…æ’ä»¶-1" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-1" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><h5 id="css-æ–‡ä»¶æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#css-æ–‡ä»¶æ‰“åŒ…" aria-hidden="true">#</a> css æ–‡ä»¶æ‰“åŒ…</h5><p>æ‰“åŒ…<code>css</code>æ–‡ä»¶éœ€è¦ä½¿ç”¨ä¸¤ä¸ª<code>loader</code>ï¼Œ<code>style-loader</code>å’Œ<code>css-loader</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i style-loader css-loader <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>css-loader</code>å¸®æˆ‘ä»¬åˆ†æå‡ºå‡ ä¸ª css æ–‡ä»¶çš„å¼•å…¥å…³ç³»ï¼Œ æœ€ç»ˆå°†è¿™äº› css æ–‡ä»¶åˆå¹¶æˆä¸€æ®µ cssã€‚</p><p><code>style-loader</code> å†å¾—åˆ°<code>css-loader</code>ç”Ÿæˆçš„å†…å®¹åï¼Œ ä¼šæŠŠè¿™æ®µä»£ç æŒ‚è½½åˆ° html çš„ head éƒ¨åˆ†ã€‚</p><p>åœ¨æ‰“åŒ… css æ–‡ä»¶æ—¶ï¼Œ ä¸€å®šè¦<code>css-loader</code>å’Œ<code>style-loader</code>é…åˆä½¿ç”¨ã€‚</p><h5 id="sass-æ–‡ä»¶æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#sass-æ–‡ä»¶æ‰“åŒ…" aria-hidden="true">#</a> sass æ–‡ä»¶æ‰“åŒ…</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> sass-loader node-sass --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="è‡ªåŠ¨åŠ å‚å•†å‰ç¼€" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨åŠ å‚å•†å‰ç¼€" aria-hidden="true">#</a> è‡ªåŠ¨åŠ å‚å•†å‰ç¼€</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> postcss-loader
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i autoprefixer <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>loader æ‰“åŒ…çš„æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸‹åˆ°ä¸Šï¼ˆä»å³åˆ°å·¦ï¼‰æ¥æ‰§è¡Œï¼Œ å¦‚ä¸‹ï¼šsass æ–‡ä»¶ä¼šå…ˆæ‰§è¡Œ<code>sass-loader</code>ï¼Œ å¤„ç†å®Œåå†æ‰§è¡Œ<code>style-loader</code>æŒ‚è½½åˆ° html çš„ head éƒ¨åˆ†ã€‚</p><h4 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®" aria-hidden="true">#</a> é…ç½®</h4><p>webpack.config.js</p><p>åœ¨ module å¯¹è±¡å†…çš„ rule æ•°ç»„å†…æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><p>css æ ·å¼æ–‡ä»¶é…ç½®</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token comment">//åœ¨scssåˆå¼•å…¥å¦å¤–ä¸€ä¸ªscssæ—¶ï¼Œæœ‰å¯èƒ½ç›´æ¥èµ°css-loaderï¼Œä¸èµ°sass-loaderå’Œpostcss-loaderï¼ŒåŠ ä¸Šæ­¤é…ç½®é¡¹å¯ä»¥è®©å®ƒç»§ç»­èµ°ä¸‹é¢ä¸¤ä¸ªloader</span>
                        <span class="token comment">//modules: true//å¼€å¯cssæ¨¡å—åŒ–æ‰“åŒ…  è§£å†³å…¨å±€æ ·å¼å†²çª</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">&#39;sass-loader&#39;</span><span class="token punctuation">,</span><span class="token comment">//sassæ–‡ä»¶ç¼–è¯‘</span>
                <span class="token string">&#39;postcss-loader&#39;</span><span class="token comment">//åŠ å‚å•†å‰ç¼€</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­—ä½“æ–‡ä»¶é…ç½®</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|woff|woff2|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;fonts/&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœéœ€è¦åŠ å‚å•†å‰ç¼€ï¼Œ éœ€è¦åœ¨æ ¹ç›®å½•åœ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œ å–åä¸º<code>postcss.config.js</code>, ä»¥ä¸‹ä¸ºå…·ä½“é…ç½®ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤æ‰“åŒ…æ”¯æŒçš„æµè§ˆå™¨ï¼Œä¸éœ€è¦å‚å•†å‰ç¼€ï¼Œå¯ä»¥æŠŠæµè§ˆå™¨æ¡ä»¶æ”¾å®½ï¼š</p><p>å¯ä»¥åœ¨æ ¹ç›®å½•<code>package.json</code>æ–‡ä»¶ä¸­æ·»åŠ æµè§ˆå™¨æ¡ä»¶ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token string-property property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;last 2 versions&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;not ie &lt;= 8&quot;</span>
  <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨-plugins" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-plugins" aria-hidden="true">#</a> ä½¿ç”¨ plugins</h2><p>plugin å¯ä»¥åœ¨ webpack è¿è¡Œåˆ°æŸä¸ªæ—¶åˆ»çš„æ—¶å€™ï¼Œ å¸®ä½ åšä¸€äº›äº‹æƒ…ã€‚ å¾ˆåƒ vue ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p><h3 id="ç”Ÿæˆ-html-æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆ-html-æ–‡ä»¶" aria-hidden="true">#</a> ç”Ÿæˆ html æ–‡ä»¶</h3><h4 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…" aria-hidden="true">#</a> å®‰è£…</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> html-webpack-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>html-webpack-plugin ä¼šåœ¨æ‰“åŒ…ç»“æŸçš„æ—¶åˆ»ï¼Œ è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œ å¹¶æŠŠæ‰“åŒ…ç”Ÿæˆçš„ js è‡ªåŠ¨æ³¨å…¥åˆ°è¿™ä¸ª html æ–‡ä»¶ä¸­ã€‚</p><h4 id="é…ç½®-1" tabindex="-1"><a class="header-anchor" href="#é…ç½®-1" aria-hidden="true">#</a> é…ç½®</h4><p>é¦–å…ˆéœ€è¦å¼•å…¥è¯¥æ’ä»¶ï¼Œ ç„¶åå†<code>module</code>å¯¹è±¡å†…å†™å…¥<code>plugins</code>å±æ€§åï¼Œ å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å†…å®ä¾‹åŒ–è¯¥æ’ä»¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰“åŒ…æ—¶æ¸…ç©º-dist-ç›®å½•" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…æ—¶æ¸…ç©º-dist-ç›®å½•" aria-hidden="true">#</a> æ‰“åŒ…æ—¶æ¸…ç©º dist ç›®å½•</h3><h4 id="å®‰è£…-1" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-1" aria-hidden="true">#</a> å®‰è£…</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i clean-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>clean-webpack-plugin</code> æ’ä»¶ä¼šåœ¨æ‰“åŒ…æµç¨‹æ‰§è¡Œå‰æ¸…ç©º dist ç›®å½•</p><p><a name="224e2ccd-2"></a></p><h4 id="é…ç½®-2" tabindex="-1"><a class="header-anchor" href="#é…ç½®-2" aria-hidden="true">#</a> é…ç½®</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;src/index.html&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŸºç¡€é…ç½®" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€é…ç½®" aria-hidden="true">#</a> åŸºç¡€é…ç½®</h2><h3 id="entry" tabindex="-1"><a class="header-anchor" href="#entry" aria-hidden="true">#</a> Entry</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
       <span class="token literal-property property">sub</span><span class="token operator">:</span><span class="token string">&#39;./src/index.js&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//ä»å“ªä¸€ä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸€ä¸ªæ–‡ä»¶æ‰“åŒ…ä¸¤æ¬¡ï¼Œ å¯ä»¥ç”¨ä»¥ä¸Šæ–¹å¼é…ç½®ï¼Œ ä¸€ä¸ªæ–‡ä»¶ä¼šæˆä¸º main.jsï¼Œ ä¸€ä¸ªä¼šæˆä¸º sub.jsã€‚</p><h3 id="output" tabindex="-1"><a class="header-anchor" href="#output" aria-hidden="true">#</a> Output</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//è¾“å‡ºåˆ°å“ªé‡Œ</span>
        <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&#39;http://cdn.com.cn&#39;</span><span class="token punctuation">,</span><span class="token comment">//æ–‡ä»¶ä½¿ç”¨cdnåŸŸå</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span><span class="token comment">//è¾“å‡ºçš„æ–‡ä»¶åç§°  nameå¯¹åº”çš„æ˜¯entryé‡Œçš„keyå€¼</span>
		<span class="token literal-property property">chunkFilename</span><span class="token operator">:</span><span class="token string">&#39;[name].chunk.js&#39;</span><span class="token punctuation">,</span><span class="token comment">//é—´æ¥å¼•å…¥çš„æ–‡ä»¶ä¼šåŠ ä¸Š.chunk</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span> <span class="token comment">//è¾“å‡ºåˆ°å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹, pathåé¢è·Ÿç»å¯¹è·¯å¾„</span>
        <span class="token comment">//__dirnameæŒ‡çš„æ˜¯webpack.config.jsæ–‡ä»¶å½“å‰æ‰€åœ¨çš„è·¯å¾„</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sourcemap" tabindex="-1"><a class="header-anchor" href="#sourcemap" aria-hidden="true">#</a> SourceMap</h2><p>å¯ä»¥ä½¿ç”¨è¿™ä¸ªé…ç½®æŸ¥çœ‹æºä»£ç é‚£é‡Œæœ‰é”™è¯¯ï¼Œ è€Œä¸æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶é”™è¯¯ã€‚</p><p>æ¯”å¦‚ä½ çš„ js æ–‡ä»¶é‡Œé¢å†™çš„æœ‰é—®é¢˜ï¼Œæ¯”å¦‚ dist ç›®å½•ä¸‹çš„ main.js æ–‡ä»¶ç¬¬ 96 è¡Œå‡ºé”™ã€‚SourceMap ä»–æ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œ ä»–çŸ¥é“ dist ç›®å½•ä¸‹çš„ main.js æ–‡ä»¶ 96 è¡Œå®é™…ä¸Šå¯¹åº”çš„æ˜¯ src ç›®å½•ä¸‹ index.js æ–‡ä»¶ä¸­çš„ç¬¬ä¸€è¡Œã€‚ä»–å°±çŸ¥é“æ˜¯ index.js ç¬¬ä¸€è¡Œå‡ºé”™äº†ã€‚</p><h4 id="é…ç½®-3" tabindex="-1"><a class="header-anchor" href="#é…ç½®-3" aria-hidden="true">#</a> é…ç½®</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//mode: &#39;production&#39;,//é»˜è®¤æ¨¡å¼,ä¼šå‹ç¼©ä»£ç ï¼Œä¸å†™å³æ˜¯é»˜è®¤ï¼Œä¸å†™ä¼šæœ‰æç¤º</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span><span class="token comment">//å¼€å‘æ¨¡å¼ï¼Œ ä¸ä¼šå‹ç¼©ä»£ç </span>
    <span class="token literal-property property">devtool</span><span class="token operator">:</span><span class="token string">&#39;source-map&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//ä»å“ªä¸€ä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>devtool:&#39;inline-source-map&#39;</code></p><p>source-map ä¼šåœ¨ dist ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª main.js.mapï¼Œ Â  è€Œä½¿ç”¨ inline-source-map ä¼šç›´æ¥é€šè¿‡ data-url çš„æ–¹å¼ç›´æ¥å†™åœ¨ main.js å†…çš„åº•éƒ¨ã€‚</p><p><code>devtool:&#39;cheap-inline-source-map&#39;</code></p><p>å½“æˆ‘ä»¬é‡åˆ°ä»£ç é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œ å¦‚æœæˆ‘ä»¬çš„ä»£ç å‡ºäº†é”™è¯¯ï¼Œ åŠ ä¸Š cheap å®ƒå°±ä¼šåªå‘Šè¯‰æˆ‘ä»¬æ˜¯å“ªä¸€è¡Œå‡ºäº†é”™è¯¯ï¼Œ è€Œä¸ä¼šå‘Šè¯‰æˆ‘ä»¬ç¬¬å‡ åˆ—ã€‚ Â  æ‰“åŒ…ä¼šæ›´åŠ èŠ‚çœæ€§èƒ½ã€‚</p><p><code>devtool:&#39;cheap-module-inline-source-map&#39;</code></p><p>source-map åªä¼šå‘Šè¯‰æˆ‘ä»¬ä¸šåŠ¡ç›¸å…³çš„ä»£ç æ˜¯å¦æœ‰é”™ï¼Œ è€Œä¸ä¼šå‘Šè¯‰æˆ‘ä»¬å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ä»£ç æ˜¯å¦æœ‰é”™è¯¯ï¼Œ æ¯”å¦‚ loader å†…çš„é”™è¯¯ã€‚å¦‚æœä½ æƒ³è®©å®ƒä¹Ÿç®¡ç¬¬ä¸‰æ–¹æ¨¡å—çš„é”™è¯¯å¯ä»¥åŠ ä¸Š moduleã€‚</p><p><code>devtool:&#39;eval&#39;,</code></p><p>ä½¿ç”¨<code>eval</code>é…ç½®æ‰§è¡Œæ•ˆç‡æœ€å¿«ï¼Œ æ€§èƒ½æœ€å¥½çš„æ‰“åŒ…æ–¹å¼ã€‚å®ƒä½¿ç”¨äº†<code>eval</code>çš„è¯­æ³•æ‰§è¡Œæºä»£ç ã€‚ä½†æ˜¯å¦‚æœæ¯”è¾ƒå¤æ‚çš„ä»£ç æƒ…å†µä¸‹ï¼Œ å®ƒæç¤ºå‡ºæ¥çš„å†…å®¹å¯èƒ½ä¸å¤ªå‡†ç¡®ã€‚</p><h5 id="æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#æœ€ä½³å®è·µ" aria-hidden="true">#</a> æœ€ä½³å®è·µ</h5><p>å¦‚æœä½ åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œ ä½¿ç”¨ source-map å»ºè®®ä½¿ç”¨<code>devtool:&#39;cheap-module-inline-eval-source-map&#39;</code>, å®ƒæç¤ºå‡ºæ¥çš„é”™è¯¯æ˜¯æ¯”è¾ƒå…¨çš„ï¼Œ åŒæ—¶å®ƒçš„æ‰“åŒ…é€Ÿåº¦ä¹Ÿæ˜¯æ¯”è¾ƒå¿«çš„ã€‚</p><p>å¦‚æœåœ¨çº¿ä¸Šç¯å¢ƒä¸­ï¼Œ æ²¡å¿…è¦ä½¿ç”¨ source-map ä½œä¸ºæ˜ å°„ï¼Œ ç›´æ¥åˆ é™¤æ­¤é…ç½®å³å¯ã€‚</p><p>å½“ç„¶å¦‚æœä½ ä¹Ÿéœ€è¦çœ‹é”™è¯¯æç¤ºï¼Œ å¯ä»¥ä½¿ç”¨<code>devtool:&#39;cheap-module-source-map&#39;ã€‚</code>å®ƒçš„æç¤ºä¼šæ›´å¥½ä¸€äº›ã€‚</p><h2 id="webpackdevserver" tabindex="-1"><a class="header-anchor" href="#webpackdevserver" aria-hidden="true">#</a> WebpackDevServer</h2><p>ä¿®æ”¹æºç è‡ªåŠ¨å°±ä¼šè¿›è¡Œæ‰“åŒ…ã€‚æå‡å¼€å‘æ•ˆç‡ã€‚</p><p>æ€»å…±æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><h3 id="webpack-watch" tabindex="-1"><a class="header-anchor" href="#webpack-watch" aria-hidden="true">#</a> webpack --watch</h3><p>ç›‘å¬æ–‡ä»¶æ”¹åŠ¨å®æ—¶è¿›è¡Œæ‰“åŒ…</p><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="devserver" tabindex="-1"><a class="header-anchor" href="#devserver" aria-hidden="true">#</a> devServer</h3><p>è‡ªåŠ¨æ‰“åŒ…å¹¶åˆ·æ–°æµè§ˆå™¨ï¼Œè¿˜å¯ä»¥æ¨¡æ‹ŸæœåŠ¡å™¨ä¸Šçš„ç‰¹æ€§ã€‚ vue ä»¥åŠ react è„šæ‰‹æ¶ä½¿ç”¨çš„éƒ½æ˜¯æ­¤é…ç½®ã€‚æ¨èä½¿ç”¨ï¼Œ è¿™ä¸ªä¹Ÿæ˜¯ä¸šç•Œæœ€ç»å¸¸ä½¿ç”¨çš„æ–¹æ¡ˆã€‚</p><h4 id="å®‰è£…æ’ä»¶-2" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-2" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i webpack-dev-server -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="é…ç½®-4" tabindex="-1"><a class="header-anchor" href="#é…ç½®-4" aria-hidden="true">#</a> é…ç½®</h4><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span><span class="token comment">//æœåŠ¡å™¨èµ·åœ¨å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span><span class="token comment">//ä½¿ç”¨å“ªä¸ªç«¯å£å·</span>
        <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&#39;./api&#39;</span><span class="token operator">:</span><span class="token string">&#39;http://locallhost:3000&#39;</span>
        <span class="token punctuation">}</span><span class="token comment">//å¦‚æœè®¿é—®apiè¿™ä¸ªåœ°å€ï¼Œä¹Ÿå°±æ˜¯locallhost:8000/api, å®ƒä¼šå¸®ä½ è½¬å‘åˆ°http://locallhost:3000è¿™ä¸ªåœ°å€ä¸Š</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="çƒ­æ¨¡å—æ›´æ–°-hmr" tabindex="-1"><a class="header-anchor" href="#çƒ­æ¨¡å—æ›´æ–°-hmr" aria-hidden="true">#</a> çƒ­æ¨¡å—æ›´æ–°ï¼ˆHMRï¼‰</h2><p>HMR æ˜¯ Hot Module Replacement çš„ç¼©å†™ã€‚</p><p>å®ƒå¯ä»¥åªæ›´æ–°ä½ æ”¹åŠ¨çš„æ–‡ä»¶ï¼Œ ä¸ä¼šç›´æ¥åˆ·æ–°æµè§ˆå™¨ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ol><li>éå¸¸æ–¹ä¾¿è°ƒè¯•æ ·å¼ã€‚</li></ol><h4 id="é…ç½®-5" tabindex="-1"><a class="header-anchor" href="#é…ç½®-5" aria-hidden="true">#</a> é…ç½®</h4><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span><span class="token comment">//æœåŠ¡å™¨èµ·åœ¨å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span><span class="token comment">//ä½¿ç”¨å“ªä¸ªç«¯å£å·</span>
        <span class="token comment">// proxy: {</span>
        <span class="token comment">//     &#39;./api&#39;:&#39;http://locallhost:3000&#39;</span>
        <span class="token comment">// }//å¦‚æœè®¿é—®apiè¿™ä¸ªåœ°å€ï¼Œä¹Ÿå°±æ˜¯locallhost:8000/api, å®ƒä¼šå¸®ä½ è½¬å‘åˆ°http://locallhost:3000è¿™ä¸ªåœ°å€ä¸Š</span>
        <span class="token literal-property property">hot</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//å¼€å¯çƒ­æ›´æ–°</span>
        <span class="token literal-property property">hotOnly</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token comment">//å³ä¾¿çƒ­æ›´æ–°æ²¡æœ‰ç”Ÿæ•ˆï¼Œä¹Ÿä¸åˆ·æ–°æµè§ˆå™¨</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>index.js å†…</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/peizhiwenj.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>å¦‚æœå¼€å¯çƒ­æ›´æ–°ï¼Œ number.js æ–‡ä»¶åªè¦å‘ç”Ÿå˜åŒ–å°±ä¼šé‡æ–°æ‰§è¡Œä¸€ä¸‹</p><h2 id="ä½¿ç”¨-babel-å¤„ç†-es6-è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-babel-å¤„ç†-es6-è¯­æ³•" aria-hidden="true">#</a> ä½¿ç”¨ Babel å¤„ç† ES6 è¯­æ³•</h2><h3 id="ä¸šåŠ¡ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡ä»£ç " aria-hidden="true">#</a> ä¸šåŠ¡ä»£ç </h3><h4 id="å®‰è£…æ’ä»¶-3" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-3" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> babel-loader @babel/core

<span class="token function">npm</span> i @babel/preset-env <span class="token parameter variable">-D</span>

<span class="token function">npm</span> i <span class="token parameter variable">--save</span> @babel/polyfill
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>babel-loader æ’ä»¶åªæ˜¯ä½œä¸º babel ä¸ webpack æ²Ÿé€šçš„æ¡¥æ¢ï¼Œ å¦‚æœæƒ³è¦ç¿»è¯‘ ES6 è¯­æ³•ï¼Œ éœ€è¦å®‰è£…@babel/preset-env æ’ä»¶ã€‚</p><p>babel/polyfill ç”¨æ¥è¡¥å…… babel/preset-env çš„ï¼Œ æœ‰çš„è¯­æ³• babel/preset-env ä¸èƒ½ç¿»è¯‘ï¼ˆå¦‚ Promiseï¼‰ï¼Œ è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ babel/polyfillã€‚</p><h4 id="é…ç½®-6" tabindex="-1"><a class="header-anchor" href="#é…ç½®-6" aria-hidden="true">#</a> é…ç½®</h4><p>åœ¨ä¸šåŠ¡ä»£ç  js çš„é¡¶éƒ¨å¼•å…¥ babel/polyfill ã€‚å¦‚æœä½¿ç”¨äº†<code>useBuiltIns:&quot;usage&quot;</code>ï¼Œä¹Ÿå¯ä»¥ä¸å¼•å…¥æ­¤æ’ä»¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;@babel/polyfill&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token comment">//jsæ–‡ä»¶ç”±ES6è½¬æˆES5</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token comment">//ä¸ç®¡è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„jsæ–‡ä»¶</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
              <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">edge</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">&quot;67&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">&quot;11.1&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//æµè§ˆå™¨ç‰ˆæœ¬ï¼Œå¦‚chromeç‰ˆæœ¬å¤§äº67å°†ä¸ä¼šç¿»è¯‘æˆES5</span>
              <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span><span class="token string">&quot;usage&quot;</span><span class="token comment">//jsé‡Œç”¨å“ªä¸ªç¿»è¯‘é‚£ä¸ªï¼Œä¸ç”¨çš„è¯­æ³•ç‰¹æ€§ä¸ä¼šç¿»è¯‘, å‡å°‘æ–‡ä»¶ä½“ç§¯</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰“åŒ…ç»„ä»¶åº“" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…ç»„ä»¶åº“" aria-hidden="true">#</a> æ‰“åŒ…ç»„ä»¶åº“</h3><p>å¦‚æœå¼€å‘ç»„ä»¶åº“æˆ–è€…ç¬¬ä¸‰æ–¹æ¨¡å—çš„æ—¶å€™ï¼Œ ä¸è¦ä½¿ç”¨@babel/polyfill æ’ä»¶ã€‚å› ä¸ºå®ƒåœ¨æ³¨å…¥ promise æˆ–è€… map æ–¹æ³•çš„æ—¶å€™ï¼Œ å®ƒä¼šé€šè¿‡å…¨å±€å˜é‡çš„æ–¹å¼æ³¨å…¥ï¼Œ ä¼šæ±¡æŸ“åˆ°å…¨å±€ç¯å¢ƒã€‚</p><h4 id="å®‰è£…æ’ä»¶-4" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-4" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><p>æˆ‘ä»¬å¯ä»¥æ¢ä¸€ç§æ–¹å¼ï¼š</p><p>é¦–å…ˆæŠŠä¸šåŠ¡ä»£ç ä¸­å¼•å…¥çš„@babel/polyfill æ³¨é‡Šæ‰ï¼Œ ç„¶åæŒ‰ç…§ @babel/plugin-transform-runtime å’Œ@babel/runtime æ’ä»¶ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">npm</span> i <span class="token parameter variable">-D</span> @babel/plugin-transform-runtime
 <span class="token function">npm</span> i <span class="token parameter variable">--save</span> @babel/runtime
  <span class="token function">npm</span> i <span class="token parameter variable">--save</span> @babel/runtime-corejs2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®-7" tabindex="-1"><a class="header-anchor" href="#é…ç½®-7" aria-hidden="true">#</a> é…ç½®</h4><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token comment">//jsæ–‡ä»¶ç”±ES6è½¬æˆES5</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token comment">//ä¸ç®¡è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„jsæ–‡ä»¶</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
              <span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token string-property property">&quot;helpers&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token string-property property">&quot;regenerator&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token string-property property">&quot;useESModules&quot;</span><span class="token operator">:</span><span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœ plugins å†… corejs é…ç½®äº† 2ï¼Œ é‚£ä¹ˆå°±è¦å®‰è£…@babel/runtime-corejs2 è¿™ä¸ªæ’ä»¶äº†ã€‚</p><p>å½“ç„¶ï¼Œ åœ¨æˆ‘ä»¬é…ç½®è¿‡å¤šçš„ babel é…ç½®æ—¶ï¼Œ ä¹Ÿå¯ä»¥åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª.babelrc æ–‡ä»¶ã€‚ç”¨æ¥æ”¾ç½®ç›¸å…³é…ç½®ï¼Œ å¦‚ä¸‹ï¼š</p><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token comment">//jsæ–‡ä»¶ç”±ES6è½¬æˆES5</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token comment">//ä¸ç®¡è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„jsæ–‡ä»¶</span>
		<span class="token comment">//include: path.resolve(__dirname,&#39;../src&#39;)//åªå¯¹srcç›®å½•çš„jsæ–‡ä»¶æ‰“åŒ…</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>babelrc</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;helpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;regenerator&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;useESModules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®-react-ä»£ç æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#é…ç½®-react-ä»£ç æ‰“åŒ…" aria-hidden="true">#</a> é…ç½® React ä»£ç æ‰“åŒ…</h2><h4 id="å®‰è£…æ’ä»¶-5" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-5" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">npm</span> i react react-dom <span class="token parameter variable">--save</span>
 <span class="token function">npm</span> i --save-dev @babel/preset-react
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®-8" tabindex="-1"><a class="header-anchor" href="#é…ç½®-8" aria-hidden="true">#</a> é…ç½®</h4><p>babelrl</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;edge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;firefox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;chrome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;67&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;safari&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11.1&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@babel/preset-react&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>è¿™ä¸ªæ‰§è¡Œé¡ºåºæ˜¯æŒ‰ç…§ä»ä¸‹åˆ°ä¸Šï¼Œä»å³åˆ°å·¦æ¥æ‰§è¡Œçš„ã€‚é¡ºåºä¸€å®šä¸è¦å†™åäº†ã€‚å®ƒæ˜¯å…ˆæ‰§è¡Œreactè½¬æˆjsï¼Œ ç„¶åæ‰§è¡Œbabelè½¬æˆES5çš„ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="tree-shaking" tabindex="-1"><a class="header-anchor" href="#tree-shaking" aria-hidden="true">#</a> Tree Shaking</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Tree Shakingæ”¯æŒES6çš„Moduleå¼•å…¥æ–¹å¼ï¼Œå®ƒåªæ”¯æŒé™æ€å¼•å…¥çš„æ–¹å¼ï¼Œ åŠ¨æ€å¼•å…¥çš„æ–¹å¼å®ƒä¸æ”¯æŒã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Tree Shaking ä¸­æ–‡ç¿»è¯‘æ˜¯æ‘‡æ ‘çš„æ„æ€ï¼Œ å¤§æ„å°±æ˜¯æŠŠæ— æ•ˆçš„ä»£ç æ‘‡æ™ƒæ‰ï¼Œ åªç•™ä¸‹æœ‰ç”¨çš„ä»£ç ã€‚<br>æ¯”å¦‚ä½ å¼•å…¥äº†ä¸€ä¸ªæ¨¡å—ä¸­çš„æ–¹æ³•ï¼Œ å®ƒå°±åªæ‰“åŒ…ä½ å¼•å…¥çš„æ–¹æ³•ï¼Œ ä¸éœ€è¦çš„æ–¹æ³•ä¸ä¼šè¿›è¡Œæ‰“åŒ…äº†ã€‚</p><p>åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œ æ˜¯æ²¡æœ‰ Tree Shaking åŠŸèƒ½çš„ï¼Œ å¦‚æœéœ€è¦è¯·æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><p>webpack.config.js</p><p>åœ¨çº¿ä¸Šç¯å¢ƒä¸­å¯ä»¥ä¸é…ç½®è¿™ä¸ª</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¾“å‡ºåˆ°å“ªé‡Œ</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºçš„æ–‡ä»¶åç§°  nameå¯¹åº”çš„æ˜¯entryé‡Œçš„keyå€¼</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span> <span class="token comment">//è¾“å‡ºåˆ°å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹, pathåé¢è·Ÿç»å¯¹è·¯å¾„</span>
    <span class="token comment">//__dirnameæŒ‡çš„æ˜¯webpack.config.jsæ–‡ä»¶å½“å‰æ‰€åœ¨çš„è·¯å¾„</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>package.json æ–‡ä»¶å†…</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/polly-fill&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®<code>&quot;sideEffects&quot;: [&quot;@babel/polly-fill&quot;]</code>,åï¼Œ Tree Shaking ä¸ä¼šå¯¹è¿™ä¸ªæ’ä»¶æœ‰ä»»ä½•ä½œç”¨äº†ã€‚</p><p>å½“ç„¶æ²¡æœ‰å¼•ç”¨<code>@babel/polly-fill</code>ä¹Ÿå¯ä»¥è®¾ç½®ä¸º<code>false</code>ã€‚</p><p>å¦‚æœä½ çš„ä¸šåŠ¡ js ä»£ç å¼•å…¥äº† jsï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175242375.png" alt="image-20220808175242375"></p><p>ä½ ä¹Ÿéœ€è¦åœ¨&quot;sideEffects&quot;è¿›è¡Œé…ç½®ï¼Œ ä¸€èˆ¬æˆ‘ä»¬ä¼šå¯¹ css æ–‡ä»¶è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;*.css&quot;</span>
  <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¦é‡åˆ°ä»»ä½•çš„ css æ–‡ä»¶ï¼Œé‚£ä¹ˆä¹Ÿä¸è¦å»ä½¿ç”¨ Tree Shakingã€‚</p><h2 id="develoment-å’Œ-production-æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#develoment-å’Œ-production-æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…" aria-hidden="true">#</a> Develoment å’Œ Production æ¨¡å¼çš„åŒºåˆ†æ‰“åŒ…</h2><p>åœ¨å¼€å‘ç¯å¢ƒå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬å¼€å‘ï¼Œ æœ‰çƒ­æ¨¡å—æ›´æ–° DevServer ç­‰é…ç½®å¯ä»¥æ›´åŠ æ–¹ä¾¿æˆ‘ä»¬çš„è°ƒè¯•ä»£ç ã€‚</p><p>è€Œçº¿ä¸Šç¯å¢ƒä¼šå‹ç¼©ä»£ç ï¼Œ å¯¹<code>source-map</code>ç²¾ç®€ï¼ˆæ²¡æœ‰æŠ¥é”™ä¿¡æ¯æˆ–è€…åªæ˜¾ç¤ºè¡Œé”™è¯¯ï¼‰ã€‚</p><h3 id="å¼€å‘ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#å¼€å‘ç¯å¢ƒ" aria-hidden="true">#</a> å¼€å‘ç¯å¢ƒ</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æŠŠ webpack.config.js ä¿®æ”¹ä¸º webpack.dev.jsï¼Œ è¡¨ç¤ºå¼€å‘ç¯å¢ƒã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¼•å…¥nodeæ ¸å¿ƒæ¨¡å—</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//mode: &#39;production&#39;,//é»˜è®¤æ¨¡å¼,ä¼šå‹ç¼©ä»£ç ï¼Œä¸å†™å³æ˜¯é»˜è®¤ï¼Œä¸å†™ä¼šæœ‰æç¤º</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span> <span class="token comment">//å¼€å‘æ¨¡å¼ï¼Œ ä¸ä¼šå‹ç¼©ä»£ç </span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//ä»å“ªä¸€ä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æœåŠ¡å™¨èµ·åœ¨å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span> <span class="token comment">//ä½¿ç”¨å“ªä¸ªç«¯å£å·</span>
    <span class="token comment">// proxy: {</span>
    <span class="token comment">//     &#39;./api&#39;:&#39;http://locallhost:3000&#39;</span>
    <span class="token comment">// }//å¦‚æœè®¿é—®apiè¿™ä¸ªåœ°å€ï¼Œä¹Ÿå°±æ˜¯locallhost:8000/api, å®ƒä¼šå¸®ä½ è½¬å‘åˆ°http://locallhost:3000è¿™ä¸ªåœ°å€ä¸Š</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//å¼€å¯çƒ­æ›´æ–°</span>
    <span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//å³ä¾¿çƒ­æ›´æ–°æ²¡æœ‰ç”Ÿæ•ˆï¼Œä¹Ÿä¸åˆ·æ–°æµè§ˆå™¨</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// loader: &#39;file-loader&#39;,// é‡åˆ°jpgæ ¼å¼ä¸çŸ¥é“æ€ä¹ˆæ‰“åŒ…å°±å»æ±‚åŠ©file-loaderæ’ä»¶</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//å›¾ç‰‡è½¬åŒ–ä¸ºbase64ï¼Œ ä¸æ˜¯å•ç‹¬ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// placeholder å ä½ç¬¦</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash].[ext]&quot;</span><span class="token punctuation">,</span> <span class="token comment">//name æ‰“åŒ…æ–‡ä»¶åå­—   name/åŸæœ‰æ–‡ä»¶åå­—  hash/æœ¬æ¬¡æ‰“åŒ…å“ˆå¸Œå€¼  ext/åŸæœ‰åå­—åç¼€</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;images/&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æŠŠå›¾ç‰‡æ–‡ä»¶æ‰“åŒ…åˆ°imagesç›®å½•ä¸‹</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span> <span class="token comment">//å¦‚æœæ–‡ä»¶è¶…è¿‡204800å­—èŠ‚ï¼Œå°±ä¼šåƒfile-loaderæ‰“åŒ…åˆ°distç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œ</span>
            <span class="token comment">//å¦‚æœæ–‡ä»¶å°äº204800å­—èŠ‚ï¼Œé‚£å°±å›å˜æˆbase64å­—ç¬¦ä¸²ï¼Œ æ”¾åˆ°jså†…</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|woff|woff2|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;fonts/&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//åœ¨scssåˆå¼•å…¥å¦å¤–ä¸€ä¸ªscssæ—¶ï¼Œæœ‰å¯èƒ½ç›´æ¥èµ°css-loaderï¼Œä¸èµ°sass-loaderå’Œpostcss-loaderï¼ŒåŠ ä¸Šæ­¤é…ç½®é¡¹å¯ä»¥è®©å®ƒç»§ç»­èµ°ä¸‹é¢ä¸¤ä¸ªloader</span>
              <span class="token comment">//modules: true//å¼€å¯cssæ¨¡å—åŒ–æ‰“åŒ…  è§£å†³å…¨å±€æ ·å¼å†²çª</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//sassæ–‡ä»¶ç¼–è¯‘</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//åŠ å‚å•†å‰ç¼€</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">//åŠ å‚å•†å‰ç¼€</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">//jsæ–‡ä»¶ç”±ES6è½¬æˆES5</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">//ä¸ç®¡è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„jsæ–‡ä»¶</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¾“å‡ºåˆ°å“ªé‡Œ</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºçš„æ–‡ä»¶åç§°  nameå¯¹åº”çš„æ˜¯entryé‡Œçš„keyå€¼</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºåˆ°å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹, pathåé¢è·Ÿç»å¯¹è·¯å¾„</span>
    <span class="token comment">//__dirnameæŒ‡çš„æ˜¯webpack.config.jsæ–‡ä»¶å½“å‰æ‰€åœ¨çš„è·¯å¾„</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯åŠ¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨å‘½ä»¤" aria-hidden="true">#</a> å¯åŠ¨å‘½ä»¤</h4><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config wepack.dev.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘ç¯å¢ƒå†…ä¹Ÿå¯ä»¥æŠŠ hotOnly: true å»æ‰ï¼Œ ä½¿æµè§ˆå™¨èƒ½è‡ªåŠ¨åˆ·æ–°ã€‚</p><h3 id="çº¿ä¸Šç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#çº¿ä¸Šç¯å¢ƒ" aria-hidden="true">#</a> çº¿ä¸Šç¯å¢ƒ</h3><p>ç„¶ååˆ›å»º webpack.prod.js æ–‡ä»¶ï¼Œ è¡¨ç¤ºçº¿ä¸Šç¯å¢ƒã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash].[ext]&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;images/&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|woff|woff2|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;fonts/&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯åŠ¨å‘½ä»¤-1" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨å‘½ä»¤-1" aria-hidden="true">#</a> å¯åŠ¨å‘½ä»¤</h4><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config wepack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span><span class="token string">&quot;webpack --config webpack.prod.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“åŒ…å®ŒæˆåæŠŠ dist æ–‡ä»¶å¤¹ä¸¢ç»™åç«¯ä½¿ç”¨å³å¯ã€‚</p><h3 id="å…¬å…±æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#å…¬å…±æ–‡ä»¶" aria-hidden="true">#</a> å…¬å…±æ–‡ä»¶</h3><p>æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨ webpack.dev.js å’Œ webpack.prod.js ä¸­æœ‰å¾ˆå¤šç›¸åŒä»£ç ï¼Œ è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠç›¸åŒçš„ä»£ç æŠ½ç¦»å‡ºæ¥æ”¾åˆ° webpack.common.js ä¸­ã€‚</p><p>æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªæ’ä»¶åˆå¹¶ common æ–‡ä»¶ä¸ prod æˆ–è€… dev æ–‡ä»¶</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i webpack-merge <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ›å»º webpack.common.js, ç›¸åŒä»£ç æ”¾å…¥æ­¤æ–‡ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash].[ext]&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;images/&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|woff|woff2|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;fonts/&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.dev.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.common.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> devConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.common.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œ å¦‚æœæˆ‘ä»¬è¿™å‡ ä¸ªé…ç½®æ–‡ä»¶æ”¾åœ¨äº†æ ¹ç›®å½•çš„ build æ–‡ä»¶å¤¹å†…ï¼Œ ä½ éœ€è¦åœ¨ package.json å†…å¯¹æŒ‡ä»¤è¿›è¡Œæ›´æ”¹ï¼ŒæŠŠç›®å½•éœ€è¦æ›´æ”¹åˆ° build ç›®å½•ä¸‹</p><p>package.json</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config ./build/webpack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config ./build/webpack.prod.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œ è¾“å‡ºçš„ç›®å½•ä¹Ÿéœ€è¦ä¿®æ”¹ä¸€ä¸‹</p><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpack-å’Œ-code-splitting" tabindex="-1"><a class="header-anchor" href="#webpack-å’Œ-code-splitting" aria-hidden="true">#</a> Webpack å’Œ Code Splitting</h3><p>Code Splitting æŒ‡çš„æ˜¯ä»£ç åˆ†å‰²ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ä»£ç åˆ†å‰²ï¼Œæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ä¼šå¾ˆå¤§ï¼Œ åŠ è½½æ—¶é—´ä¼šå¾ˆé•¿ã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œ æˆ‘ä»¬å¼•å…¥ä¸€ä¸ª lodash åº“ï¼Œ è¿™éƒ¨åˆ†ä»£ç ä¸å˜ï¼Œ ä»…ä»…æ˜¯ä¸šåŠ¡ä»£ç æ”¹å˜äº†ï¼Œ å¦‚æœæˆ‘ä»¬å†æ¬¡æ‰“åŒ…å°±ä¼šå…¨éƒ¨åˆåŠ è½½ä¸€éï¼Œ å½±å“äº†åŠ è½½çš„é€Ÿåº¦ã€‚ æˆ‘ä»¬å¸Œæœ›çš„æ˜¯ lodash åº“ä¸éœ€è¦å†æ¬¡åŠ è½½ã€‚</p><p>æˆ‘ä»¬å…ˆå®‰è£…ä¸€ä¸ªæ’ä»¶ lodash</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i lodash <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>src ç›®å½•åˆ›å»ºä¸€ä¸ª lodash.js æ–‡ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>_ <span class="token operator">=</span> _<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">lodash</span><span class="token operator">:</span> <span class="token string">&quot;./src/lodash.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²" aria-hidden="true">#</a> è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²</h3><h4 id="åŒæ­¥ä»£ç æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#åŒæ­¥ä»£ç æ–¹å¼" aria-hidden="true">#</a> åŒæ­¥ä»£ç æ–¹å¼</h4><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/tonghbudaimafasngshi.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>ä»¥ä¸Šä¸ºåŒæ­¥å¼•å…¥æ–¹å¼ï¼Œå¯æŒ‰ç…§ä¸€ä¸‹ä»£ç è¿›è¡Œé…ç½®ï¼š</p><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç èƒ½å¸®ä½ åšä»£ç åˆ†å‰²ã€‚</p><h4 id="å¼‚æ­¥ä»£ç " tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥ä»£ç " aria-hidden="true">#</a> å¼‚æ­¥ä»£ç </h4><p>å¼‚æ­¥å¼•å…¥æŒ‡çš„æ˜¯ä»¥ä¸‹æƒ…å†µï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/yibudairu.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h5 id="å®‰è£…æ’ä»¶-6" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-6" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i babel-plugin-dynamic-import-webpack
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>.babelrc</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;edge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;firefox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;chrome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;67&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;safari&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11.1&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@babel/preset-react&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dynamic-import-webpack&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“" aria-hidden="true">#</a> å°ç»“</h4><p>ä»£ç åˆ†å‰²ï¼Œå’Œ webpack æ— å…³</p><p>webpack ä¸­å®ç°ä»£ç åˆ†å‰²ï¼Œä¸¤ç§æ–¹å¼</p><ol><li>åŒæ­¥ä»£ç ï¼š åªéœ€è¦åœ¨ webpack.common.js ä¸­åš optimization çš„é…ç½®å³å¯</li><li>å¼‚æ­¥ä»£ç (import): å¼‚æ­¥ä»£ç ï¼Œæ— éœ€åšä»»ä½•é…ç½®ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ï¼Œæ”¾ç½®åˆ°æ–°çš„æ–‡ä»¶ä¸­</li></ol><h2 id="splitchunksplugin-é…ç½®å‚æ•°è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#splitchunksplugin-é…ç½®å‚æ•°è¯¦è§£" aria-hidden="true">#</a> SplitChunksPlugin é…ç½®å‚æ•°è¯¦è§£</h2><h3 id="é­”æ³•æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#é­”æ³•æ³¨é‡Š" aria-hidden="true">#</a> é­”æ³•æ³¨é‡Š</h3><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175400125.png" alt="image-20220808175400125"></p><p>éœ€è¦åœ¨ package.json å»æ‰ babel-plugin-dynamic-import-webpack æ’ä»¶ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„æ’ä»¶ï¼Œä¸æ”¯æŒé­”æ³•æ³¨é‡Šï¼Œ æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®˜æ–¹çš„æ’ä»¶æ¥è¿›è¡Œé­”æ³•æ³¨é‡Šã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> @babel/plugin-syntax-dynamic-import
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>.babelrc</p><p>plugins ä¿®æ”¹ä¸º babel/plugin-syntax-dynamic-import</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack.common.js</p><p>å¦‚æœ optimization ä¸å†™ä»»ä½•å†…å®¹ï¼Œ åªæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œ ä¼šæŒ‰ç…§ä»¥ä¸‹é»˜è®¤é…ç½®æ‰“åŒ…ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;aysnc&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxAsyncRequests</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxInitialRequests</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token literal-property property">automaticNameDelimiter</span><span class="token operator">:</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€èˆ¬æŒ‰ç…§è¿™ä¸ªé€‰é¡¹é…ç½®å³å¯ï¼š</p><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è¯´æ˜" aria-hidden="true">#</a> å‚æ•°è¯´æ˜</h3><h4 id="chunks" tabindex="-1"><a class="header-anchor" href="#chunks" aria-hidden="true">#</a> chunks</h4><h5 id="chunks-async" tabindex="-1"><a class="header-anchor" href="#chunks-async" aria-hidden="true">#</a> chunks: &#39;async&#39;</h5><p>é»˜è®¤é…ç½®æ˜¯ async</p><p>åªå¯¹å¼‚æ­¥å¼•å…¥è¿›è¡Œä»£ç åˆ†å‰²</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175424862.png" alt="image-20220808175424862"></p><h5 id="chunks-initial" tabindex="-1"><a class="header-anchor" href="#chunks-initial" aria-hidden="true">#</a> chunks: &#39;initial&#39;</h5><p>åªå¯¹åŒæ­¥å¼•å…¥è¿›è¡Œä»£ç åˆ†å‰²</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175441749.png" alt="image-20220808175441749"></p><h5 id="chunks-all" tabindex="-1"><a class="header-anchor" href="#chunks-all" aria-hidden="true">#</a> chunks: &#39;all&#39;</h5><p>å…¨éƒ¨éƒ½ä¼šè¿›è¡Œä»£ç åˆ†å‰²ï¼ŒåŒæ—¶å¿…é¡»è¦é…ç½® defaultVendors</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">defaultVendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
 <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œè¿‡ç¨‹æ˜¯é¦–å…ˆçœ‹æ˜¯å¦éœ€è¦ä»£ç åˆ†å‰²ï¼Œ ä¹Ÿå°±æ˜¯ chunks é…ç½®ï¼Œå¦‚æœéœ€è¦åˆ†å‰²ä¼šèµ°åˆ° cacheGroups å†…çœ‹å¦‚ä½•åˆ†å‰²ï¼Œ ä» defaultVendors çœ‹çœ‹æ˜¯å¦åœ¨ node_modules é‡Œï¼Œ é‚£å®ƒå°±ç¬¦åˆè¿™ä¸ªé…ç½®çš„è¦æ±‚ï¼Œ äºæ˜¯ä»–å°±ä¼šæŠŠéœ€è¦æ‰“åŒ…çš„æ¨¡å—ï¼ˆå¦‚ lodashï¼‰æ‰“åŒ…åœ¨ä¸€ä¸ª Vendors ç»„é‡Œé¢å»ã€‚</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175459244.png" alt="image-20220808175459244"></p><p>è¿™ä¸ªæ–‡ä»¶æ˜¯åœ¨ vendors ç»„å†…ï¼Œ å…¥å£æ–‡ä»¶æ˜¯ main.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
          <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;vendors.js&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŠ ä¸Š filename å¯ä»¥ä½¿æ–‡ä»¶åæ”¹ä¸º vendors.js</p><h4 id="minsize" tabindex="-1"><a class="header-anchor" href="#minsize" aria-hidden="true">#</a> minSize</h4><p>minSize: 30000</p><p>å¼•å…¥çš„æ–‡ä»¶å¤§äº 30000 å­—èŠ‚æ‰è¿›è¡Œåˆ†å‰²ï¼Œ ä¸€èˆ¬é…ç½® 30000ã€‚</p><p>å¦‚æœä¸æ˜¯ node_modules å†…çš„æ–‡ä»¶ï¼Œ éœ€è¦é…ç½®ä¸€ä¸ªé»˜è®¤é€‰é¡¹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
          <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;vendors.js&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
          <span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;common.js&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·æ‰“åŒ…åä¼šåœ¨æ–‡ä»¶å‰åŠ  default~çš„å‰ç¼€ï¼Œ å¦‚ä¸‹ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175516416.png" alt="image-20220808175516416"></p><h4 id="maxsize" tabindex="-1"><a class="header-anchor" href="#maxsize" aria-hidden="true">#</a> maxSize</h4><p>åŸºæœ¬ä¸Šæ²¡ç”¨ï¼Œ ä¸€èˆ¬ä¸ä¼šé…ç½®è¿™ä¸ªé€‰é¡¹ã€‚</p><p>è¿™ä¸ªé…ç½®æ˜¯è¿›è¡ŒäºŒæ¬¡æ‹†åˆ†çš„é€‰é¡¹ã€‚ æ¯”å¦‚ä¸€ä¸ª lodash åº“ï¼Œ ä½ é…ç½® 50000ï¼Œ ä¹Ÿå°±æ˜¯ 50kbï¼Œ è¿™ä¸ª lodash åº“æ˜¯ 1mï¼Œ é‚£ä¹ˆå®ƒä¼šæ‹†åˆ†æˆ 20 ä¸ªæ–‡ä»¶ï¼Œ ä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ lodash åº“æ˜¯æ‹†åˆ†ä¸äº†çš„ã€‚</p><h4 id="minchunks" tabindex="-1"><a class="header-anchor" href="#minchunks" aria-hidden="true">#</a> minChunks</h4><p>å½“ä¸€ä¸ªæ¨¡å—å¼•å…¥äº†å¤šå°‘æ¬¡æ‰ä¼šè¿›è¡Œä»£ç åˆ†å‰²ã€‚</p><h4 id="maxasyncrequests" tabindex="-1"><a class="header-anchor" href="#maxasyncrequests" aria-hidden="true">#</a> maxAsyncRequests</h4><p>åŒæ—¶åŠ è½½çš„æ¨¡å—æ•°é‡ã€‚ä¸€èˆ¬ä¸ä¼šé…ç½®ã€‚é»˜è®¤å³å¯ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªé€‰é¡¹é…ç½®ä¸º 5ï¼Œ åŠ å…¥æˆ‘å¼•å…¥äº† 10 ä¸ªåº“ï¼Œ åˆ†å‰²äº† 10 ä¸ªæ–‡ä»¶ï¼Œé‚£ä½ ä¸€æ‰“å¼€ç½‘é¡µçš„æ—¶å€™ï¼Œ åŒæ—¶è¦åŠ è½½ 10 ä¸ªæ–‡ä»¶ã€‚é‚£å°±è¿åäº† maxAsyncRequests é…ç½®ä¸º 5 çš„è¦æ±‚ï¼Œ åŒæ—¶åªèƒ½åŠ è½½ 5 ä¸ªè¯·æ±‚ï¼Œ é‚£ä¹ˆ webpack åœ¨æ‰“åŒ…å‰ 5 ä¸ªåº“çš„æ—¶å€™ä¼šä¸ºä½ ç”Ÿæˆ 5 ä¸ª js æ–‡ä»¶ï¼Œ è¶…è¿‡ 5 ä¸ªå®ƒå°±ä¸ä¼šåšä»£ç åˆ†å‰²äº†ã€‚</p><h4 id="maxinitialrequests" tabindex="-1"><a class="header-anchor" href="#maxinitialrequests" aria-hidden="true">#</a> maxInitialRequests</h4><p>ä¸€èˆ¬ä¸ä¼šé…ç½®ã€‚é»˜è®¤å³å¯ã€‚</p><p>æ•´ä¸ªç½‘ç«™é¦–é¡µåŠ è½½çš„æ—¶å€™ï¼Œ æˆ–è€…è¯´å…¥å£æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œ å…¥å£æ–‡ä»¶å¯èƒ½ä¼šå¼•å…¥å…¶å®ƒçš„ js æ–‡ä»¶ã€‚å…¥å£æ–‡ä»¶å¼•å…¥çš„åº“å¦‚æœæ˜¯é…ç½®ä¸º 3ï¼Œ é‚£ä¹ˆæœ€å¤šåš 3 æ¬¡ä»£ç åˆ†å‰²ã€‚ è¶…è¿‡ 3 ä¸ªå°±ä¸ä¼šå†åšä»£ç åˆ†å‰²äº†ã€‚</p><h4 id="automaticnamedelimiter" tabindex="-1"><a class="header-anchor" href="#automaticnamedelimiter" aria-hidden="true">#</a> automaticNameDelimiter</h4><p>ç»„å’Œæ–‡ä»¶ååšè¿æ¥æ—¶çš„è¿æ¥ç¬¦</p><h4 id="name" tabindex="-1"><a class="header-anchor" href="#name" aria-hidden="true">#</a> name</h4><p>ä¸º<code>true</code>ä¼šè®©<code>cacheGroups</code>èµ·çš„åå­—æœ‰æ•ˆã€‚ä¹Ÿå°±æ˜¯<code>filename</code>ã€‚</p><h4 id="cachegroups" tabindex="-1"><a class="header-anchor" href="#cachegroups" aria-hidden="true">#</a> cacheGroups</h4><p><code>cacheGroups</code>ä¹Ÿå°±æ˜¯ç¼“å­˜ç»„ï¼Œ ä¸ä¸Šé¢çš„é€‰é¡¹æ¯æ¯ç›¸å…³ã€‚ä¼šæŠŠç¬¦åˆæ¡ä»¶çš„ä»£ç ç¼“å­˜åˆ°ä¸€ä¸ªç»„å†…ã€‚</p><p><code>priority</code>æŒ‡çš„æ˜¯ä¼˜å…ˆçº§ã€‚ å“ªä¸ªå¤§ä¼˜å…ˆå“ªä¸ªã€‚</p><p><code>reuseExistingChunk: true</code></p><p>å‡å¦‚æˆ‘æœ‰ä¸€ä¸ª a æ¨¡å—ï¼Œ åˆæœ‰ä¸€ä¸ª b æ¨¡å—ã€‚a æ¨¡å—å†…åˆä½¿ç”¨äº† b æ¨¡å—ã€‚åœ¨æ‰“åŒ… a ä»£ç çš„æ—¶å€™ï¼Œ ç”±äº a æ¨¡å—ä½¿ç”¨äº†<br>b æ¨¡å—ï¼Œæ‰€ä»¥ b æ¨¡å—ä»£ç ä¹Ÿä¼šè¢«æ‰“åŒ…è¿›å»ã€‚ä½†æ˜¯å¦‚æœé…ç½®è¿™ä¸ªé€‰é¡¹ï¼Œå®ƒä¼šå»çœ‹ï¼Œ ä¹‹å‰ b æ¨¡å—ä»£ç å·²ç»è¢«å¼•å…¥è¿‡ï¼Œé‚£ä¹ˆå®ƒä¼šå»å¤ç”¨ä¹‹å‰æ‰“åŒ…çš„æ¨¡å—ã€‚</p><h3 id="chunks-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#chunks-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> Chunks æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>webpack æ‰“åŒ…è¿‡ç¨‹ä¸­ç”Ÿæˆçš„æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ª chunk</p><h5 id="æ„ä¹‰" tabindex="-1"><a class="header-anchor" href="#æ„ä¹‰" aria-hidden="true">#</a> æ„ä¹‰</h5><p>ä»£ç åˆ†å‰²é…ç½®</p><p>minChunks: 2 è‡³å°‘ä¸¤ä¸ªæ‰“åŒ…æ–‡ä»¶å¼•å…¥è¿™ä¸ªæ¨¡å— æ‰å•ç‹¬åˆ†å‰²æ‰“åŒ…</p><h2 id="lazy-loading-æ‡’åŠ è½½" tabindex="-1"><a class="header-anchor" href="#lazy-loading-æ‡’åŠ è½½" aria-hidden="true">#</a> Lazy Loading æ‡’åŠ è½½</h2><p>ä»¥ä¸‹ä»£ç å¯ä»¥å®ç°æ‡’åŠ è½½ï¼Œ åœ¨ç‚¹å‡»é¡µé¢åå†åŠ è½½ä»£ç </p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> _ <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:&quot;lodash&quot; */</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Dell&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Lee&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼˜ç‚¹ï¼š é¡µé¢åŠ è½½é€Ÿåº¦æ›´å¿«ã€‚</p><p>æ‡’åŠ è½½å¹¶ä¸æ˜¯ webpack çš„åŠŸèƒ½ï¼Œ å®ƒæ˜¯ ESModule çš„ä¸€ä¸ªæ¦‚å¿µï¼Œ åªä¸è¿‡ webpack èƒ½å¤Ÿè¯†åˆ«å¯¹å®ƒè¿›è¡Œä»£ç åˆ†å‰²ã€‚</p><h3 id="æ‰“åŒ…åˆ†æ" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…åˆ†æ" aria-hidden="true">#</a> æ‰“åŒ…åˆ†æ</h3><p><a href="https://github.com/webpack/analyse" target="_blank" rel="noopener noreferrer">https://github.com/webpack/analyse<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>package.json</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --profile --json &gt; stats.json --config ./build/webpack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config ./build/webpack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config ./build/webpack.prod.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•´ä¸ªæ‰“åŒ…è¿‡ç¨‹çš„æè¿°æ”¾åœ¨<code>stats.json</code>æ–‡ä»¶å†…ã€‚</p><p>æ‰“å¼€http://webpack.github.io/analyse/ï¼ŒæŠŠæ–‡ä»¶ä¸Šä¼ å³å¯å¾—åˆ°ä»¥ä¸‹çš„åˆ†æå›¾ã€‚</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/bundleanaliy.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ Webpack Bundle Analyzer è¿™ä¸ªæ’ä»¶ã€‚</p><h2 id="preloading-prefetching" tabindex="-1"><a class="header-anchor" href="#preloading-prefetching" aria-hidden="true">#</a> Preloading, Prefetching</h2><p>webpack æœŸæœ›é¦–æ¬¡åŠ è½½é€Ÿåº¦æœ€ä¼˜åŒ–ï¼Œä¸æ˜¯åˆ©ç”¨ç¼“å­˜åœ¨ä¸‹æ¬¡åŠ è½½æ—¶æé«˜è®¿é—®é€Ÿåº¦ åº”è¯¥æé«˜ä»£ç ä½¿ç”¨ç‡</p><p>show coverage ä»£ç ä½¿ç”¨ç‡</p><p>äº¤äº’ä»£ç å¯ä»¥æ”¾åˆ°å•ç‹¬çš„å¼‚æ­¥æ¨¡å—é‡Œ æé«˜åŠ è½½é€Ÿåº¦åŠé¡µé¢åˆ©ç”¨ç‡</p><p>å¦‚ä¸‹ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/yubao.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/woyaozhibo.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>ä½†æ˜¯å¼‚æ­¥åŠ è½½äº¤äº’ä»£ç æ—¶ï¼šä¾‹å¦‚å½“ç‚¹å‡»çš„æ—¶å€™æ‰å†åŠ è½½å¼‚æ­¥ä»£ç ï¼Œè™½ç„¶æé«˜äº†é¡µé¢åˆå§‹åŒ–é€Ÿåº¦ï¼Œä½†æ˜¯å¯¹ç”¨ç”¨æˆ·ç‚¹å‡»<br>çš„ä½“éªŒä¸å¥½ï¼Œé€Ÿåº¦å¤ªæ…¢ï¼›</p><p>ä¸ºäº†è§£å†³æ‡’åŠ è½½å¸¦æ¥çš„é—®é¢˜ï¼šä½¿ç”¨ prefretch preload</p><p>prefetch:ä¼šç­‰ä¸»æµç¨‹éƒ½åŠ è½½å®Œæˆï¼Œç­‰å¾…ç©ºé—²å†åŠ è½½ï¼›ï¼ˆæœ€ä¼˜ï¼‰</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackPrefetch: true */</span> <span class="token string">&quot;LoginModal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>preloadï¼šæ˜¯å’Œä¸»çº¿ç¨‹ä¸€èµ·åŠ è½½</p><h2 id="css-ä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#css-ä»£ç åˆ†å‰²" aria-hidden="true">#</a> css ä»£ç åˆ†å‰²</h2><p>æƒ³è¦ä½¿ç”¨ css ä»£ç åˆ†å‰²æˆ‘ä»¬å¿…é¡»è¦ä¿®æ”¹ä¸€ä¸‹ Tree Shaking é…ç½®</p><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;*.css&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;*.scss&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆï¼Œ æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev mini<span class="token operator">-</span>css<span class="token operator">-</span>extract<span class="token operator">-</span>plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¼•å…¥ css æ–‡ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./style.css&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack.prod.js é…ç½®</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].css&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].chunk.css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‹ç¼© css ä»£ç ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i optimize-css-assets-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> OptimizeCSSAssetsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;optimize-css-assets-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].css&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].chunk.css&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="é«˜çº§ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#é«˜çº§ç”¨æ³•" aria-hidden="true">#</a> é«˜çº§ç”¨æ³•</h5><p>å¤šä¸ªå…¥å£æ–‡ä»¶å¼•å…¥çš„ css æ–‡ä»¶æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œ éœ€è¦å€ŸåŠ© splitChunksï¼Œé¢å¤–å¢åŠ ä¸€ä¸ª style ç»„ï¼Œåªè¦å‘ç°ä½ çš„æ‰“åŒ…æ–‡ä»¶æ˜¯ css æ–‡ä»¶ï¼Œ ç»Ÿä¸€æ‰“åŒ…åˆ°ä¸€ä¸ªå« styles.css çš„æ–‡ä»¶å†…ï¼Œ<code>enforce</code>ä¸º<code>true</code>å¿½ç•¥é»˜è®¤çš„ä¸€äº›å‚æ•°ï¼ˆå¦‚ minsize ä¹‹ç±»ï¼‰ã€‚åªè¦ä½ æ˜¯ä¸€ä¸ª css æ–‡ä»¶æˆ‘å°±åšä»£ç çš„æ‹†åˆ†ï¼ŒæŠŠä»£ç åˆ†å‰²åˆ° style.css æ–‡ä»¶å†…ã€‚</p><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">styles</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;styles&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æˆ‘ä»¬æƒ³è¦æ¯ä¸ªå…¥å£æ–‡ä»¶æ‰“åŒ…åˆ°ä¸åŒçš„ css æ–‡ä»¶å†…çš„æ—¶å€™ï¼Œè¿˜æ˜¯åˆ©ç”¨ cacheGroupsï¼Œ å¦‚ä¸‹ï¼š å¦‚æœå…¥å£æ–‡ä»¶æ˜¯ foo æ–‡ä»¶å°±èµ° fooStyles çš„é€»è¾‘ï¼Œå¦‚æœæ˜¯ bar æ–‡ä»¶å°±èµ° barStyles çš„é€»è¾‘ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span>issuer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>issuer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> m<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src/foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src/bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">fooStyles</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">,</span> entry <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            m<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&quot;CssModule&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token operator">===</span> entry<span class="token punctuation">,</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">barStyles</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">,</span> entry <span class="token operator">=</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            m<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&quot;CssModule&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token operator">===</span> entry<span class="token punctuation">,</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webpack-ä¸æµè§ˆå™¨ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#webpack-ä¸æµè§ˆå™¨ç¼“å­˜" aria-hidden="true">#</a> Webpack ä¸æµè§ˆå™¨ç¼“å­˜</h2><p>webpack.common.js</p><p>å…³é—­æ€§èƒ½ä¸Šçš„è­¦å‘Š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">performance</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨æˆ‘ä»¬ä½¿ç”¨ webpack çš„æ—¶å€™ï¼Œçº¿ä¸Šä»£ç ä¿®æ”¹çš„æ—¶å€™ï¼Œå› ä¸ºä»£ç çš„åå­—æ²¡æœ‰æ”¹å˜å¯¼è‡´æµè§ˆå™¨åœ¨åŠ è½½<br>ç½‘é¡µçš„æ—¶å€™ï¼Œå–çš„æ˜¯ç¼“å­˜ä¸­çš„ä»£ç ï¼Œå¯¼è‡´æ²¡æœ‰åŠæ—¶çš„è·å–æœ€æ–°çš„ä»£ç ï¼Œè¿™æ—¶å€™å°±è¦æ¸…é™¤æµè§ˆå™¨çš„ç¼“å­˜ï¼Œ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¾“å‡ºæ–‡ä»¶é…ç½® contenthashï¼Œ è¿™æ ·åªæœ‰åœ¨ä¿®æ”¹ä»£ç äº†æ‰ä¼šæ”¹å˜ hash å€¼ï¼Œ å°±å¯ä»¥åšåˆ°ä¿®æ”¹äº†ä»£ç çº¿ä¸Šæµè§ˆå™¨ç¼“å­˜ä¹Ÿä¼šæ›´æ–°ã€‚</p><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
 <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;[name].[contenthash].js&#39;</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€ç‰ˆæœ¬å¦‚æœå‘ç°å³ä½¿æ²¡ä¿®æ”¹ä»£ç ï¼Œæ‰“åŒ…æ–‡ä»¶çš„ hash å€¼ä¹Ÿä¸ä¸€æ ·ï¼Œè¯·æŒ‰ä¸‹å›¾é…ç½®ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220808175632040.png" alt="image-20220808175632040"></p><h2 id="shimming-çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#shimming-çš„ä½œç”¨" aria-hidden="true">#</a> Shimming çš„ä½œç”¨</h2><p>shimming ä½œç”¨ï¼šè§£å†³ webpack æ‰“åŒ…çš„å…¼å®¹æ€§é—®é¢˜.</p><p>æ¯”å¦‚ä½ å¼•å…¥ä¸€ä¸ª jquery.ui çš„åº“ï¼Œ ä½†æ˜¯æ²¡æœ‰å¼•å…¥ jqueryï¼Œ ä½¿ç”¨äº†$å†™ä»£ç ã€‚ ä½†æ˜¯åœ¨ä½ çš„ä¸šåŠ¡æ˜¯æœ‰å¼•å…¥ jquery çš„ï¼Œ è¿™æ ·åœ¨ä¸šåŠ¡ä»£ç å¦‚æœè¿è¡Œ jqueryui åˆå§‹åŒ–ä¼šæŠ¥é”™çš„ã€‚ æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ shimmingã€‚</p><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">$</span><span class="token operator">:</span> <span class="token string">&#39;jquery&#39;</span><span class="token punctuation">,</span>
	  <span class="token literal-property property">_join</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;join&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	  <span class="token comment">//_: &#39;lodash&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šä»£ç çš„æ„æ€å°±æ˜¯å¦‚æœæˆ‘çš„ä¸€ä¸ªæ¨¡å—ä¸­ä½¿ç”¨äº†<code>$</code>ï¼Œ é‚£æˆ‘å°±ä¼šåœ¨æ¨¡å—é‡Œè‡ªåŠ¨å¸®ä½ å¼•å…¥ jquery è¿™ä¸ªæ¨¡å—ã€‚<br>ä½¿ç”¨_join å°±æ˜¯ lodash ä¸‹çš„ join æ–¹æ³•</p><h3 id="æ¨¡å—å†…-this-æŒ‡å‘-window" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—å†…-this-æŒ‡å‘-window" aria-hidden="true">#</a> æ¨¡å—å†… this æŒ‡å‘ window</h3><p>æ¯ä¸ªæ¨¡å—çš„ this éƒ½æ˜¯æŒ‡å‘è‡ªèº«æ¨¡å—ï¼Œ ä¸ä¼šæŒ‡å‘ windowã€‚ å¦‚æœæƒ³è¦æŒ‡å‘ windowï¼Œ å¯ä»¥å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i imports-loader --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;imports-loader?this=&gt;window&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¯å¢ƒå˜é‡" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒå˜é‡" aria-hidden="true">#</a> ç¯å¢ƒå˜é‡</h2><p>æˆ‘ä»¬æ¢ä¸€ç§æ–¹å¼æ¥å¯åŠ¨ä¸åŒç¯å¢ƒä¸‹çš„æ‰“åŒ…æ–¹å¼ï¼Œ é€šè¿‡ä¸€ä¸ªå˜é‡:</p><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.scss&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --profile --json &gt; stats.json --config ./build/webpack.common.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config ./build/webpack.common.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --env.production --config ./build/webpack.common.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LiuJunFeng&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@babel/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@babel/preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@babel/preset-react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;autoprefixer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.7.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;babel-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;clean-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;file-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;imports-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mini-css-extract-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.9.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;node-sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.13.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;optimize-css-assets-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;postcss-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sass-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;style-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.1.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.41.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.10.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-merge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.2.2&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@babel/polyfill&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@babel/runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@babel/runtime-corejs2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lodash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.12.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^16.12.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;last 2 versions&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;not ie &lt;= 8&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.dev.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.prod.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash].[ext]&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;images/&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|woff|woff2|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;fonts/&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;imports-loader?this=&gt;window&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">$</span><span class="token operator">:</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;vendors&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">performance</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>env <span class="token operator">&amp;&amp;</span> env<span class="token punctuation">.</span>production<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> devConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.dev.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> devConfig<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> devConfig<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ package.json é‡Œè¿™æ ·å†™ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/packge.json.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>é‚£ä¹ˆå¯¹åº”çš„ webpack.common.js æ˜¯è¿™æ ·çš„</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/commonjs.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>è¿˜å¯ä»¥è¿™ä¹ˆå†™ï¼š</p><p>package.json</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/jdakdj.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>webpack.common.js</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/zhendeleia.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h2 id="æ‰“åŒ…ç»„ä»¶åº“-1" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…ç»„ä»¶åº“-1" aria-hidden="true">#</a> æ‰“åŒ…ç»„ä»¶åº“</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ Library, Â  å¹¶åˆå§‹åŒ–é¡¹ç›®ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®‰è£… webpack</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i webpack webpack-cli <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ›å»º webpack.config.js é…ç½®ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;library.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æ— è®ºä»€ä¹ˆæ–¹å¼å¼•å…¥ç»„ä»¶éƒ½å¯ä»¥æ­£ç¡®å¼•å…¥åˆ°</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Library&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LIU&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.41.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.10&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ æƒ³è¿™æ ·é€šè¿‡ src å¼•å…¥ jsï¼Œ å¹¶ä¸”æƒ³é€šè¿‡ library è·å–å®ƒä¸‹é¢çš„æ–¹æ³•æˆ–å±æ€§ï¼Œ</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/srcjs.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>æ·»åŠ <code>library: &#39;library&#39;</code>å³å¯</p><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;library.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&quot;library&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æ— è®ºä»€ä¹ˆæ–¹å¼å¼•å…¥ç»„ä»¶éƒ½å¯ä»¥æ­£ç¡®å¼•å…¥åˆ°</span>
    <span class="token comment">//libraryTarget: &#39;this&#39;,</span>
    <span class="token comment">//libraryTarget: &#39;window&#39;,</span>
    <span class="token comment">//libraryTarget: &#39;global&#39;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·é…ç½®å¥½ä»¥ä¸‹å‡ ç§æ–¹å¼éƒ½å¯ä»¥æ­£ç¡®å¼•å…¥äº†ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/houqiyingx.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;lodash&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//æ‰“åŒ…è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°lodashåº“ä½ å°±å¿½ç•¥è¿™ä¸ªåº“ï¼Œä¸è¦æŠŠå®ƒæ‰“åŒ…åˆ°ä½ çš„ä»£ç ä¸­å»ï¼Œé˜²æ­¢ä½¿ç”¨æ—¶ç”¨æˆ·é‡å¤å¼•å…¥åº“ï¼ˆä¾‹å¦‚ï¼šlodashï¼‰</span>
  <span class="token comment">// externals: {</span>
  <span class="token comment">//     lodash: {</span>
  <span class="token comment">//         //root: &#39;_&#39;,//å…¨å±€scriptæ ‡ç­¾å¼•å…¥ï¼Œå¿…é¡»åœ¨é¡µé¢æ³¨å…¥ä¸€ä¸ªåå­—å«_çš„å˜é‡</span>
  <span class="token comment">//         //commonjs: &#39;lodash&#39;//å¦‚æœæˆ‘çš„lodashåœ¨commonjsè¿™ä¸ªç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å¼•å…¥åå­—å¿…é¡»æ˜¯lodash</span>
  <span class="token comment">//     }</span>
  <span class="token comment">// },</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;library.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&quot;library&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æ— è®ºä»€ä¹ˆæ–¹å¼å¼•å…¥ç»„ä»¶éƒ½å¯ä»¥æ­£ç¡®å¼•å…¥åˆ°</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/3nianasannian.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>package.json</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Library&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/library.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LIU&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;lodash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.15&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.41.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.10&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘å¸ƒç»„ä»¶åº“æµç¨‹ï¼š</p><ul><li>ç™»å½• npm</li><li>å‘½ä»¤è¡Œ<code>npm adduser</code>,è¾“å…¥ç”¨æˆ·åï¼Œå¯†ç </li><li>å‘½ä»¤è¡Œ <code>npm publish</code> Â  å‘å¸ƒåˆ° npm</li></ul><h2 id="pwa-çš„æ‰“åŒ…é…ç½®" tabindex="-1"><a class="header-anchor" href="#pwa-çš„æ‰“åŒ…é…ç½®" aria-hidden="true">#</a> PWA çš„æ‰“åŒ…é…ç½®</h2><h3 id="å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨" aria-hidden="true">#</a> å®‰è£…æ’ä»¶æ¨¡æ‹ŸæœåŠ¡å™¨</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> npm i http<span class="token operator">-</span>server <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>package.json</p><p>scripts å‘½ä»¤</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http-server dist&quot;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>PWAï¼šæ˜¯ä¸€ç§å¼ºç¼“å­˜æŠ€æœ¯ï¼Œè®¿é—®è¿‡çš„é¡µé¢å°±ç®—æœåŠ¡å™¨æ–­å¼€ï¼Œä¹Ÿèƒ½é€šè¿‡ç¼“å­˜æµè§ˆä¹‹å‰è®¿é—®çš„é¡µé¢</p><p>åªåœ¨ä¸Šçº¿ç¯å¢ƒé…ç½®å°±å¯ä»¥äº†ï¼Œ å¼€å‘ç¯å¢ƒä¸ç”¨è€ƒè™‘æœåŠ¡å™¨æŒ‚æ‰ä¸æŒ‚æ‰çš„é—®é¢˜ã€‚</p><h4 id="å®‰è£…æ’ä»¶-7" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶-7" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i workbox-webpack-plugin --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="é…ç½®-9" tabindex="-1"><a class="header-anchor" href="#é…ç½®-9" aria-hidden="true">#</a> é…ç½®</h4><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> WorkboxPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;workbox-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].css&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].chunk.css&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">WorkboxPlugin<span class="token punctuation">.</span>GenerateSW</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">clientsClaim</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">skipWaiting</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸šåŠ¡é€»è¾‘æ–‡ä»¶å¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;serviceWorker&quot;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker
      <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;/service-worker.js&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;service-worker registed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;service-worker register error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="typescript-çš„æ‰“åŒ…é…ç½®" tabindex="-1"><a class="header-anchor" href="#typescript-çš„æ‰“åŒ…é…ç½®" aria-hidden="true">#</a> TypeScript çš„æ‰“åŒ…é…ç½®</h2><p>å®‰è£…æ’ä»¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i ts-loader typescript <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>webpack-config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rule</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.tsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»º tsconfig.json æ–‡ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span><span class="token comment">//è¾“å‡ºç›®å½•</span>
        <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span><span class="token comment">//åªå…è®¸es6 Moduleçš„æ–¹å¼å¼•å…¥æ¨¡å—</span>
        <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span><span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span><span class="token comment">//ç¼–è¯‘ä¸ºEs5è¿™æ ·çš„ä»£ç </span>
        <span class="token string-property property">&quot;allowJs&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token comment">//å…è®¸TSé‡Œå¼•å…¥jsè¿™æ ·çš„æ¨¡å—</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæƒ³å¼•å…¥ lodash åº“ï¼Œå¹¶ä¸”æƒ³è®©å®ƒçš„éæ³•é”™è¯¯æç¤ºå‡ºæ¥ï¼Œ é¦–å…ˆå®‰è£…ä¸€ä¸ªè¿™æ ·çš„æ¨¡å—ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">npm</span> i @types/lodash --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚ä¸‹å›¾ï¼Œ å¦‚æœä¸å‘<code>join</code>æ–¹æ³•ä¼ å…¥å‚æ•°ä¼šæœ‰æŠ¥é”™æç¤º</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/jqueryjs.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>å¦‚æœè¿˜æƒ³å®‰è£… jquery åº“ï¼Œ é‚£ä½ ä¹Ÿéœ€è¦å®‰è£…å¯¹åº”çš„ç±»å‹æ–‡ä»¶</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i @types/jquery --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªç½‘ç«™å¯ä»¥æŸ¥è¯¢éƒ½æœ‰å“ªäº›ç±»å‹æ–‡ä»¶å¯ä»¥è¯•ç”¨ï¼š</p><p><a href="https://microsoft.github.io/TypeSearch/" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/TypeSearch/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="webpackdevserver-1" tabindex="-1"><a class="header-anchor" href="#webpackdevserver-1" aria-hidden="true">#</a> WebpackDevServer</h2><h3 id="è¯·æ±‚è½¬å‘" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚è½¬å‘" aria-hidden="true">#</a> è¯·æ±‚è½¬å‘</h3><p>å¦‚æœæˆ‘ä»¬ç°åœ¨é¡¹ç›®å†…å‘é€è¯·æ±‚ï¼Œ æˆ‘ä»¬ä¸€èˆ¬ä¼šå®‰è£…ä¸€ä¸ª axios åº“</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i axios <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/meibanfaces.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨å¼€å‘ç¯å¢ƒæœ‰ä¸€ä¸ªè¯·æ±‚ api ä»¥ä¾›æµ‹è¯•ï¼Œ çº¿ä¸Šç¯å¢ƒæœ‰ä¸€ä¸ªè¯·æ±‚ apiã€‚ è¿™æ—¶å€™æˆ‘ä»¬ä¸€èˆ¬éœ€è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„å†™æ¥å£åœ°å€ï¼Œ ä½†æ˜¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥å£åœ°å€å¸¦ä¸Šçš„å°±æ˜¯ localhost äº†ï¼Œ è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦åšä¸€ä¸ªä»£ç†ï¼š</p><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
		<span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string-property property">&#39;/react/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://www.dell-lee.com&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
				<span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token string-property property">&#39;header.json&#39;</span><span class="token operator">:</span> <span class="token string">&#39;demo.json&#39;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;www.dell-lee.com&#39;</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>secure: falseï¼š https çš„æ¥å£éœ€è¦è®¾ç½®è¿™ä¸ª</p><p>pathRewrite: ç›¸å½“äºæƒ³è¦å»è·å– header.jsonï¼Œ é…ç½®è¿™ä¸ªè·å–çš„æ˜¯ demo.jsonã€‚ ä¸€èˆ¬ç”¨äºåç«¯æ¥å£è¿˜æ²¡å†™å¥½çš„æ—¶å€™ä½¿ç”¨ä¸€ä¸ª demo æ•°æ®ï¼Œ ç­‰å†™å¥½äº†å†ä½¿ç”¨å†™å¥½çš„æ¥å£ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªé€‰é¡¹æ³¨é‡Šæ‰ï¼Œ ä¸ç”¨å»ä¸šåŠ¡ä»£ç ä¸­å†ä¿®æ”¹äº†ã€‚</p><p>changeOrigin: true å§‹ç»ˆé…ç½®å°±è¡Œï¼Œ ä¸»è¦ä¸ºäº†æœ‰çš„ç½‘ç«™ä½¿ç”¨äº† origin é™åˆ¶ã€‚</p><p>headersï¼š è®¾ç½®è¯·æ±‚å¤´ï¼Œ å¯è®¾ç½® host, cookie</p><h3 id="è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜" aria-hidden="true">#</a> è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªè·¯ç”±æ’ä»¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i react-router-dom <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨æˆ‘ä»¬ä½¿ç”¨å•é¡µåº”ç”¨æ—¶ï¼Œ å¦‚æœæˆ‘ä»¬è¦è®¿é—® list é¡µé¢ï¼Œ é‚£ä¹ˆæœåŠ¡å™¨ä¼šä»¥ä¸ºæˆ‘ä»¬è®¿é—®çš„æ˜¯ä¸€ä¸ªå« list çš„é¡µé¢ã€‚ä½†æ˜¯æˆ‘ä»¬çš„æ–‡ä»¶é‡Œå¹¶æ²¡æœ‰ä¸€ä¸ª list.htmlï¼Œ é‚£å®ƒå°±ä¼šæç¤ºæˆ‘ä»¬é¡µé¢ä¸å­˜åœ¨ã€‚</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/yuchengjinro.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/langduibuxing.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>æƒ³è¦è¾¾åˆ°æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœï¼Œ éœ€è¦é…ç½® devServer</p><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
		<span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®æ¯ä¸ªåœ°å€çš„è®¿é—®ï¼Œå¦‚ abc.html<br>è½¬å‘åˆ° index.html</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>		<span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">rewrites</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
				<span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc.html</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/index.html&#39;</span>
			<span class="token punctuation">}</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>historyApiFallbackåªåœ¨å¼€å‘ç¯å¢ƒä¸­æœ‰æ•ˆï¼Œçº¿ä¸Šç¯å¢ƒéœ€è¦å’Œåç«¯é…åˆ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="eslint" tabindex="-1"><a class="header-anchor" href="#eslint" aria-hidden="true">#</a> EsLint</h2><h3 id="ä½¿ç”¨-eslint-æ£€æµ‹ä»£ç " tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-eslint-æ£€æµ‹ä»£ç " aria-hidden="true">#</a> ä½¿ç”¨ eslint æ£€æµ‹ä»£ç </h3><p>å®‰è£…æ’ä»¶</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx eslint <span class="token parameter variable">--init</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®å¥½æ–‡ä»¶ä»¥åå¯ä»¥ç”¨æ­¤å‘½ä»¤æŸ¥çœ‹é¡¹ç›®æ–‡ä»¶æ˜¯å¦ç¬¦åˆè¯­æ³•ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx eslint src
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®‰è£…è§£æå™¨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i babel-eslint --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>.eslintrc.js</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/buwena.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h3 id="vscode-ä¸­çš„-eslint" tabindex="-1"><a class="header-anchor" href="#vscode-ä¸­çš„-eslint" aria-hidden="true">#</a> vscode ä¸­çš„ ESlint</h3><p>å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸å€ŸåŠ© webpackï¼Œ ç›´æ¥ä½¿ç”¨ç¼–è¾‘å™¨è‡ªå¸¦çš„æ’ä»¶ï¼Œ å¦‚ vscode çš„ Eslint æ’ä»¶ï¼Œ è¿™æ ·ä½¿ç”¨ä¼šæ›´åŠ æ–¹ä¾¿ï¼</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/zaichongyiba.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>å¦‚æœæˆ‘ä»¬çš„å›¢é˜Ÿæœ‰äº›è§„èŒƒå¹¶ä¸æƒ³è¦ç¬¦åˆ airbnb å®ƒçš„è§„èŒƒï¼Œ æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆé…ç½®ï¼š<br>é¦–å…ˆå¤åˆ¶å‡ºè§„èŒƒçš„åç§°ï¼Œ å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/qiangnuzhimo.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>ç„¶åå†.eslintrc.js æ–‡ä»¶çš„ rules é‡Œè¿›è¡Œé…ç½®ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/eslintrc.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>å‡è®¾æˆ‘ä»¬å›¢é˜Ÿæœ‰ä¸€ä¸ªåŒå­¦ä½¿ç”¨çš„ä¸æ˜¯ vscodeï¼Œ ä»–æ²¡æœ‰è¿™æ ·çš„è¯­æ³•æç¤ºï¼Œ å°±ä¼šè·Ÿæˆ‘ä»¬å†™çš„ä»£ç ä¸ä¸€æ ·ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å€ŸåŠ© webpack äº†ï¼š</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªè¿™æ ·çš„æ’ä»¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint-loader --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åå† webpack.config.js é…ç½®</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/config.jswebpack.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>eslint-loader  ä¸€å®šè¦å†™åœ¨åé¢ï¼Œ åªæœ‰è¯­æ³•æ­£ç¡®å†è¿›è¡Œè½¬ä¹‰æˆ–è€…å…¶å®ƒã€‚å› ä¸ºloaderæ˜¯å…ˆæ‰§è¡Œåè¾¹å†æ‰§è¡Œå‰è¾¹çš„ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="eslint-å®‰è£…ä½¿ç”¨æµç¨‹" tabindex="-1"><a class="header-anchor" href="#eslint-å®‰è£…ä½¿ç”¨æµç¨‹" aria-hidden="true">#</a> Eslint å®‰è£…ä½¿ç”¨æµç¨‹</h5><ul><li>å®‰è£… Eslint</li><li>å®‰è£… Eslint-loader</li><li>webpack å†… devServer é…ç½® overlay</li><li>webpack å†… js æ–‡ä»¶é…ç½® eslint-loader</li></ul><h4 id="eslint-å…¶ä»–é…ç½®" tabindex="-1"><a class="header-anchor" href="#eslint-å…¶ä»–é…ç½®" aria-hidden="true">#</a> Eslint å…¶ä»–é…ç½®</h4><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">force</span><span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>fix: true Â  è‡ªåŠ¨å¸®ä½ ä¿®å¤æ¯”è¾ƒæµ…æ˜¾çš„é—®é¢˜</p><p>force: &#39;pre&#39; Â  å¼ºåˆ¶å…ˆæ‰§è¡Œ eslint-loader</p><h3 id="æœ€ä½³å®è·µ-1" tabindex="-1"><a class="header-anchor" href="#æœ€ä½³å®è·µ-1" aria-hidden="true">#</a> æœ€ä½³å®è·µ</h3><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/gitgouzi.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>ä¸ç”¨é…ç½® webpackï¼Œ ç›´æ¥ä½¿ç”¨ git çš„é’©å­ï¼Œ å†æäº¤ä»£ç æ—¶éªŒè¯è¯­æ³•ã€‚</p><h2 id="webpack-æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#webpack-æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a> webpack æ€§èƒ½ä¼˜åŒ–</h2><h4 id="_1-è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£-node-npm-yarn" tabindex="-1"><a class="header-anchor" href="#_1-è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£-node-npm-yarn" aria-hidden="true">#</a> 1. è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£ï¼ˆNodeï¼Œ Npmï¼Œ Yarnï¼‰</h4><h4 id="_2-åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨-loader" tabindex="-1"><a class="header-anchor" href="#_2-åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨-loader" aria-hidden="true">#</a> 2. åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨ Loader</h4><p>å¯ä»¥å¹²æ‰çš„é…ç½®ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/woshishui8.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/gandiaopeizhi.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h4 id="_3-plugin-å°½å¯èƒ½ç²¾ç®€å¹¶ç¡®ä¿å¯é " tabindex="-1"><a class="header-anchor" href="#_3-plugin-å°½å¯èƒ½ç²¾ç®€å¹¶ç¡®ä¿å¯é " aria-hidden="true">#</a> 3. Plugin å°½å¯èƒ½ç²¾ç®€å¹¶ç¡®ä¿å¯é </h4><h4 id="_4-resolve-å‚æ•°åˆç†é…ç½®" tabindex="-1"><a class="header-anchor" href="#_4-resolve-å‚æ•°åˆç†é…ç½®" aria-hidden="true">#</a> 4. resolve å‚æ•°åˆç†é…ç½®</h4><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/resolvecanshu.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>extensions å»ºè®®é…é€»è¾‘æ–‡ä»¶ï¼Œ cssï¼Œå›¾ç‰‡ç±»ä¸è¦é…ç½®ï¼Œ æµªè´¹æ€§èƒ½ã€‚</p><h4 id="_5-ä½¿ç”¨-dllplugin-æé«˜æ‰“åŒ…é€Ÿåº¦" tabindex="-1"><a class="header-anchor" href="#_5-ä½¿ç”¨-dllplugin-æé«˜æ‰“åŒ…é€Ÿåº¦" aria-hidden="true">#</a> 5. ä½¿ç”¨ DllPlugin æé«˜æ‰“åŒ…é€Ÿåº¦</h4><p>æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª lodash åº“ï¼Œ æˆ‘ä»¬çŸ¥é“è¿™ä¸ªåº“çš„æ–‡ä»¶å®ƒæ˜¯ä¸ä¼šå˜çš„ï¼Œ ä½†æ˜¯æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šæ‰“åŒ…å®ƒï¼Œ æˆ‘ä»¬å¯ä»¥è®©å®ƒåªåœ¨ç¬¬ä¸€æ¬¡æ‰“åŒ…ï¼Œ ä¸‹æ¬¡å°±ä¸æ‰“åŒ…äº†ã€‚</p><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª webpack.dll.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;lodash&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].dll.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&quot;[name]&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll/[name].manifest.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œå‘½ä»¤æ‰“åŒ…ç»„ä»¶åº“ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/dabaozuyjianku.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>ç„¶åå®‰è£…ä¸€ä¸ªæ’ä»¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i  add-asset-html-webpack-plugin <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨ webpack.common.js å¼•å…¥</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¼•å…¥æ ¸å¿ƒæ¨¡å—</span>
<span class="token keyword">const</span> AddAssetHtmlPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;add-asset-html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;dist&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">root</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\.dll.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\.manifest.json</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-æ§åˆ¶åŒ…å¤§å°" tabindex="-1"><a class="header-anchor" href="#_6-æ§åˆ¶åŒ…å¤§å°" aria-hidden="true">#</a> 6. æ§åˆ¶åŒ…å¤§å°</h4><p>ä¸è¦å¼•å…¥æ— ç”¨ç»„ä»¶åº“ï¼Œ å¤šä½¿ç”¨ Tree Shakingï¼Œ Â  ä½¿ç”¨ SplitChunks ä»£ç æ‹†åˆ†ã€‚</p><h4 id="_7-thread-loader-parallel-webpack-happypack-å¤šè¿›ç¨‹æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_7-thread-loader-parallel-webpack-happypack-å¤šè¿›ç¨‹æ‰“åŒ…" aria-hidden="true">#</a> 7. thread-loader, parallel-webpack, happypack å¤šè¿›ç¨‹æ‰“åŒ…</h4><h4 id="_8-åˆç†ä½¿ç”¨-sourcemap" tabindex="-1"><a class="header-anchor" href="#_8-åˆç†ä½¿ç”¨-sourcemap" aria-hidden="true">#</a> 8. åˆç†ä½¿ç”¨ SourceMap</h4><p>ä¸è¦å¤ªè¯¦ç»†ï¼Œé…ç½®åˆé€‚çš„å³å¯</p><h4 id="_9-ç»“åˆ-stats-åˆ†ææ‰“åŒ…ç»“æœ" tabindex="-1"><a class="header-anchor" href="#_9-ç»“åˆ-stats-åˆ†ææ‰“åŒ…ç»“æœ" aria-hidden="true">#</a> 9. ç»“åˆ Stats åˆ†ææ‰“åŒ…ç»“æœ</h4><h4 id="_10-å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘-æ— ç”¨æ’ä»¶å‰”é™¤" tabindex="-1"><a class="header-anchor" href="#_10-å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘-æ— ç”¨æ’ä»¶å‰”é™¤" aria-hidden="true">#</a> 10. å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘ï¼Œ æ— ç”¨æ’ä»¶å‰”é™¤</h4><p>å¼€å‘ç¯å¢ƒé…ç½®æ¨¡å¼ä¸º<code>development</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å¤šé¡µé¢æ‰“åŒ…é…ç½®" tabindex="-1"><a class="header-anchor" href="#å¤šé¡µé¢æ‰“åŒ…é…ç½®" aria-hidden="true">#</a> å¤šé¡µé¢æ‰“åŒ…é…ç½®</h2><p>é…ç½® entryï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/entrywebpack.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>æƒ³è¦æ·»åŠ å¤šé¡µé¢é¦–å…ˆåœ¨ src ç›®å½•å¢åŠ å¯¹åº”çš„ js æ–‡ä»¶ï¼Œç„¶ååœ¨ entry å¢åŠ å…¥å£æ–‡ä»¶</p><p>webpack.common.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AddAssetHtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;add-asset-html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">makePlugins</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">configs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>configs<span class="token punctuation">.</span>entry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;src/index.html&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;runtime&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vendors&quot;</span><span class="token punctuation">,</span> item<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\.dll.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\.manifest.json</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dll&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> plugins<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> configs <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token string">&quot;./src/list.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.jsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpg|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]_[hash].[ext]&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&quot;images/&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|ttf|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;runtime&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;vendors&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">performance</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

configs<span class="token punctuation">.</span>plugins <span class="token operator">=</span> <span class="token function">makePlugins</span><span class="token punctuation">(</span>configs<span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> configs<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ª-loader" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-loader" aria-hidden="true">#</a> å¦‚ä½•ç¼–å†™ä¸€ä¸ª loader</h2><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ make-loader, å¯¹é¡¹ç›®åˆå§‹åŒ–, ç„¶åå®‰è£… webpack</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm init -y
npm i webpack webpack-cli --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºæ–‡ä»¶å¤¹ loaderï¼Œ loader æ–‡ä»¶å¤¹å†…åˆ›å»ºæ–‡ä»¶ replaceLoader.js</p><p>æˆ‘ä»¬è¦å®ç°çš„ç›®æ ‡æ˜¯å¦‚æœå‘ç°æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘æ–‡ä»¶å†…æœ‰<code>dell</code>è¿™ä¸ªå­—ç¬¦ï¼Œ æˆ‘ä»¬è¦æŠŠå®ƒä¿®æ”¹æˆ<code>dellLee</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//replaceLoader.js</span>
<span class="token comment">//source å¼•å…¥æ–‡ä»¶çš„å†…å®¹</span>
<span class="token comment">//this.queryæºå¸¦ä¼ è¿‡æ¥çš„å‚æ•°,nameæ˜¯loaderé…ç½®çš„nameå‚æ•°</span>
<span class="token comment">//loaderUtilså¯ä»¥åˆ†æå‚æ•°ï¼Œ æ¯”å¦‚å‚æ•°æ˜¯ä¸ªå¯¹è±¡çš„æ—¶å€™å¯ä»¥ç”¨åˆ°</span>
<span class="token comment">//this.callbackä»£æ›¿return ä¼ é€’é™¤result,è¿˜å¯ä»¥ä¼ é€’sourcemapç­‰å†…å®¹</span>
<span class="token comment">//å¼‚æ­¥loader ä½¿ç”¨this.async()</span>
<span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;loader-utils&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;dell&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//replaceLoader.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;dell&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//å½“ä½ å¼•å…¥loaderçš„æ—¶å€™ï¼Œä¼šå…ˆåœ¨node_modulesé‡Œæ‰¾ï¼Œå¦‚æœæ²¡æœ‰å›å»loaderé‡Œå»æ‰¾</span>
  <span class="token literal-property property">resolveLoader</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./loaders&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;replaceLoader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;replaceLoaderAsync&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;lee&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ çš„ loader é…ç½®å‚æ•°æœ‰äº›è¯¡å¼‚ï¼Œ å¦‚æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ’ä»¶åšåˆ†æï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i loader-utils --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ª-plugin" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-plugin" aria-hidden="true">#</a> å¦‚ä½•ç¼–å†™ä¸€ä¸ª Plugin</h2><h4 id="plugin-ä¸-loader-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#plugin-ä¸-loader-çš„åŒºåˆ«" aria-hidden="true">#</a> Plugin ä¸ loader çš„åŒºåˆ«</h4><h5 id="loader-1" tabindex="-1"><a class="header-anchor" href="#loader-1" aria-hidden="true">#</a> loader</h5><p>å½“æˆ‘ä»¬åœ¨æºä»£ç ä¸­å¼•å…¥ä¸€ä¸ªæ–°çš„ js æ–‡ä»¶ï¼Œæˆ–è€…ä¸€ä¸ªå…¶ä»–æ ¼å¼çš„æ–‡ä»¶çš„æ—¶å€™ï¼Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ loader å¤„ç†è¿™ä¸ªå¼•å…¥çš„æ–‡ä»¶ã€‚</p><h5 id="plugin" tabindex="-1"><a class="header-anchor" href="#plugin" aria-hidden="true">#</a> Plugin</h5><p>åœ¨æˆ‘ä»¬åšæ‰“åŒ…çš„æ—¶å€™ï¼Œ åœ¨æŸä¸€ä¸ªå…·ä½“æ—¶åˆ»ä¸Šã€‚ æ¯”å¦‚è¯´ï¼Œ å½“æˆ‘æ‰“åŒ…ç»“æŸåï¼Œæˆ‘è¦è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œ è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ª html-webpack-plugin çš„æ’ä»¶ã€‚å®ƒä¼šåœ¨æ‰“åŒ…ç»“æŸåç”Ÿæˆ html æ–‡ä»¶ã€‚</p><p>Plugin å¯ä»¥åœ¨æˆ‘ä»¬æ‰“åŒ…è¿‡ç¨‹çš„æŸä¸ªæ—¶åˆ»æƒ³åšä¸€äº›äº‹æƒ…ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼Œ å®‰è£… webpack å’Œ webpack-cliã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦ç”Ÿæˆå¸¦ç‰ˆæƒçš„æ–‡ä»¶ï¼Œ å¯ä»¥è¿™ä¹ˆåšï¼š</p><p>åˆ›å»ºæ–‡ä»¶å¤¹ pluginsï¼Œ plugins æ–‡ä»¶å¤¹å†…åˆ›å»º copyright-webpack-plugin.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//optionsæ˜¯pluginé…ç½®ä¼ è¿‡æ¥çš„å‚æ•°</span>
<span class="token comment">//compileræ˜¯webpackçš„å®ä¾‹ï¼Œå­˜å‚¨äº†æˆ‘ä»¬webpackç›¸å…³å„ç§å„æ ·çš„é…ç½®æ–‡ä»¶ï¼Œæ‰“åŒ…è¿‡ç¨‹ï¼Œç­‰ç­‰ä¸€ç³»åˆ—çš„å†…å®¹ã€‚</span>
<span class="token comment">//é’©å­ï¼Œ æŒ‡æŸä¸ªæ—¶åˆ»ä¼šè‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•°ã€‚ å¦‚vueç”Ÿå‘½å‘¨æœŸ</span>
<span class="token comment">//emit  å½“ä½ æŠŠæ‰“åŒ…èµ„æºæ”¾åˆ°ç›®æ ‡æ–‡ä»¶å¤¹çš„æ—¶åˆ»ã€‚å®ƒæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„é’©å­ã€‚ å¯ä»¥åœ¨åé¢å†™ä¸€ä¸ªtabAsync. ä»–æœ‰ä¸¤ä¸ªå‚æ•° ç¬¬ä¸€ä¸ªæ˜¯æ’ä»¶åå­—ï¼Œç¬¬äºŒä¸ªæ˜¯å‰ªå¤´å‡½æ•°</span>
<span class="token comment">//compile  åŒæ­¥çš„é’©å­ï¼Œ åé¢è·Ÿtapï¼Œ ç®­å¤´å‡½æ•°åªä¼ compilation</span>
<span class="token comment">//compilation å’Œcompilerä¸ä¸€æ ·ï¼Œ åªå­˜æ”¾è¿™æ¬¡æ‰“åŒ…çš„ç›¸å…³å†…å®¹</span>
<span class="token comment">//compilation.assets æ‰“åŒ…ç”Ÿæˆçš„å†…å®¹</span>
<span class="token keyword">class</span> <span class="token class-name">CopyrightWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token comment">// constructor(options) {</span>
  <span class="token comment">// }</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compile<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;CopyrightWebpackPlugin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;compiler&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
      <span class="token string">&quot;CopyrightWebpackPlugin&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span><span class="token string">&quot;copyright.txt&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">source</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;copyright by dell lee&quot;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">size</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">21</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CopyrightWebpackPlugin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ webpack.config.js é…ç½®ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyRightWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./plugins/copyright-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CopyRightWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="node-è°ƒè¯•å·¥å…·" tabindex="-1"><a class="header-anchor" href="#node-è°ƒè¯•å·¥å…·" aria-hidden="true">#</a> node è°ƒè¯•å·¥å…·</h4><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/nodetiaoshigongju.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>--inspect å¼€å¯ node è°ƒè¯•å·¥å…·</p><p>--inspect-brk webpack æ‰§è¡Œå‘½ä»¤çš„ç¬¬ä¸€è¡Œæ‰“æ–­ç‚¹</p><p>è¾“å…¥ npm run debug åæ‰“å¼€æµè§ˆå™¨ï¼Œ ç‚¹å‡»æ§åˆ¶å°å·¦ä¸Šè§’ node å°å›¾æ ‡</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/nodetiaoshi.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><p>è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æ’ä»¶çš„è¯¦ç»†ä¿¡æ¯äº†</p><p>å¯åœ¨ watch å¢åŠ  compilation çš„ç›‘æ§</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/compations.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h2 id="bundler-æºç ç¼–å†™" tabindex="-1"><a class="header-anchor" href="#bundler-æºç ç¼–å†™" aria-hidden="true">#</a> Bundler æºç ç¼–å†™</h2><h3 id="æ¨¡å—åˆ†æ" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—åˆ†æ" aria-hidden="true">#</a> æ¨¡å—åˆ†æ</h3><h2 id="vue-cli-3-çš„é…ç½®æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#vue-cli-3-çš„é…ç½®æ–¹æ³•" aria-hidden="true">#</a> Vue CLI 3 çš„é…ç½®æ–¹æ³•</h2><p>Vue å†…çš„ Webpack è®¾è®¡ç†å¿µæ˜¯è®©æˆ‘ä»¬ç”¨çš„æ›´çˆ½ï¼Œ å³ä½¿æ˜¯ webpack å°ç™½ç”¨æˆ·æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿè½»æ¾ä½¿ç”¨ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³é…ç½® webpackï¼Œ éœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª vue.config.js</p><p>è¿™é‡Œçš„é…ç½®å’Œ webpack å¹¶ä¸ä¸€æ ·ï¼Œ å®ƒå¯¹ webpack çš„é…ç½®è¿›è¡Œäº†å¤§é‡çš„å°è£…ï¼Œ å¦‚æœæˆ‘ä»¬éœ€è¦é…ç½®ï¼Œ å¯å‚è€ƒè„šæ‰‹æ¶çš„é…ç½®å‚è€ƒï¼š<a href="https://cli.vuejs.org/zh/config/" target="_blank" rel="noopener noreferrer">https://cli.vuejs.org/zh/config/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>å¦‚æœæˆ‘ä»¬æƒ³å®ç°åŸç”Ÿçš„ webpackï¼Œ åœ¨è„šæ‰‹æ¶å‚è€ƒæ–‡æ¡£ä½¿ç”¨ configureWebpackå³å¯ã€‚</p><h2 id="å®ç°å°å‹æ‰“åŒ…å·¥å…·" tabindex="-1"><a class="header-anchor" href="#å®ç°å°å‹æ‰“åŒ…å·¥å…·" aria-hidden="true">#</a> å®ç°å°å‹æ‰“åŒ…å·¥å…·</h2><p>è¯¥å·¥å…·å¯ä»¥å®ç°ä»¥ä¸‹ä¸¤ä¸ªåŠŸèƒ½</p><ul><li>å°† ES6 è½¬æ¢ä¸º ES5</li><li>æ”¯æŒåœ¨ JS æ–‡ä»¶ä¸­ import CSS æ–‡ä»¶</li></ul><p>é€šè¿‡è¿™ä¸ªå·¥å…·çš„å®ç°ï¼Œå¤§å®¶å¯ä»¥ç†è§£åˆ°æ‰“åŒ…å·¥å…·çš„åŸç†åˆ°åº•æ˜¯ä»€ä¹ˆã€‚</p><h4 id="å®ç°" tabindex="-1"><a class="header-anchor" href="#å®ç°" aria-hidden="true">#</a> å®ç°</h4><p>å› ä¸ºæ¶‰åŠåˆ° ES6 è½¬ ES5ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£…ä¸€äº› Babel ç›¸å…³çš„å·¥å…·</p><p><code>yarn add babylon babel-traverse babel-core babel-preset-env</code></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿™äº›å·¥å…·å¼•å…¥æ–‡ä»¶ä¸­</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> babylon <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babylon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babel-traverse&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> transformFromAst <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥å®ç°å¦‚ä½•ä½¿ç”¨ Babel è½¬æ¢ä»£ç </p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">readCode</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¯»å–æ–‡ä»¶å†…å®¹</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ç”Ÿæˆ AST</span>
  <span class="token keyword">const</span> ast <span class="token operator">=</span> babylon<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// å¯»æ‰¾å½“å‰æ–‡ä»¶çš„ä¾èµ–å…³ç³»</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">ImportDeclaration</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// é€šè¿‡ AST å°†ä»£ç è½¬ä¸º ES5</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    filePath<span class="token punctuation">,</span>
    dependencies<span class="token punctuation">,</span>
    code<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é¦–å…ˆæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å‚æ•°ï¼Œç„¶åé€šè¿‡ <code>fs</code> å°†æ–‡ä»¶ä¸­çš„å†…å®¹è¯»å–å‡ºæ¥</li><li>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ <code>babylon</code> è§£æä»£ç è·å– ASTï¼Œç›®çš„æ˜¯ä¸ºäº†åˆ†æä»£ç ä¸­æ˜¯å¦è¿˜å¼•å…¥äº†åˆ«çš„æ–‡ä»¶</li><li>é€šè¿‡ <code>dependencies</code> æ¥å­˜å‚¨æ–‡ä»¶ä¸­çš„ä¾èµ–ï¼Œç„¶åå†å°† AST è½¬æ¢ä¸º ES5 ä»£ç </li><li>æœ€åå‡½æ•°è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å«äº†å½“å‰æ–‡ä»¶è·¯å¾„ã€å½“å‰æ–‡ä»¶ä¾èµ–å’Œå½“å‰æ–‡ä»¶è½¬æ¢åçš„ä»£ç </li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æœ‰ä»¥ä¸‹å‡ ç‚¹</p><ul><li>è°ƒç”¨ <code>readCode</code> å‡½æ•°ï¼Œä¼ å…¥å…¥å£æ–‡ä»¶</li><li>åˆ†æå…¥å£æ–‡ä»¶çš„ä¾èµ–</li><li>è¯†åˆ« JS å’Œ CSS æ–‡ä»¶</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getDependencies</span><span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¯»å–å…¥å£æ–‡ä»¶</span>
  <span class="token keyword">const</span> entryObject <span class="token operator">=</span> <span class="token function">readCode</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">[</span>entryObject<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// éå†æ‰€æœ‰æ–‡ä»¶ä¾èµ–å…³ç³»</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> asset <span class="token keyword">of</span> dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å¾—æ–‡ä»¶ç›®å½•</span>
    <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>asset<span class="token punctuation">.</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// éå†å½“å‰æ–‡ä»¶ä¾èµ–å…³ç³»</span>
    asset<span class="token punctuation">.</span>dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">relativePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// è·å¾—ç»å¯¹è·¯å¾„</span>
      <span class="token keyword">const</span> absolutePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> relativePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// CSS æ–‡ä»¶é€»è¾‘å°±æ˜¯å°†ä»£ç æ’å…¥åˆ° `style` æ ‡ç­¾ä¸­</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> code <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          const style = document.createElement(&#39;style&#39;)
          style.innerText = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\r\\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
          document.head.appendChild(style)
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">filePath</span><span class="token operator">:</span> absolutePath<span class="token punctuation">,</span>
          relativePath<span class="token punctuation">,</span>
          <span class="token literal-property property">dependencies</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          code<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// JS ä»£ç éœ€è¦ç»§ç»­æŸ¥æ‰¾æ˜¯å¦æœ‰ä¾èµ–å…³ç³»</span>
        <span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token function">readCode</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        child<span class="token punctuation">.</span>relativePath <span class="token operator">=</span> relativePath<span class="token punctuation">;</span>
        dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> dependencies<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é¦–å…ˆæˆ‘ä»¬è¯»å–å…¥å£æ–‡ä»¶ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„ç›®çš„æ˜¯å­˜å‚¨ä»£ç ä¸­æ¶‰åŠåˆ°çš„æ‰€æœ‰æ–‡ä»¶</li><li>æ¥ä¸‹æ¥æˆ‘ä»¬éå†è¿™ä¸ªæ•°ç»„ï¼Œä¸€å¼€å§‹è¿™ä¸ªæ•°ç»„ä¸­åªæœ‰å…¥å£æ–‡ä»¶ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå…¥å£æ–‡ä»¶æœ‰ä¾èµ–å…¶ä»–çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šè¢« push åˆ°è¿™ä¸ªæ•°ç»„ä¸­</li><li>åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å…ˆè·å¾—è¯¥æ–‡ä»¶å¯¹åº”çš„ç›®å½•ï¼Œç„¶åéå†å½“å‰æ–‡ä»¶çš„ä¾èµ–å…³ç³»</li><li>åœ¨éå†å½“å‰æ–‡ä»¶ä¾èµ–å…³ç³»çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆç”Ÿæˆä¾èµ–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œç„¶ååˆ¤æ–­å½“å‰æ–‡ä»¶æ˜¯ CSS æ–‡ä»¶è¿˜æ˜¯ JS æ–‡ä»¶ <ul><li>å¦‚æœæ˜¯ CSS æ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬å°±ä¸èƒ½ç”¨ Babel å»ç¼–è¯‘äº†ï¼Œåªéœ€è¦è¯»å– CSS æ–‡ä»¶ä¸­çš„ä»£ç ï¼Œç„¶ååˆ›å»ºä¸€ä¸ª style æ ‡ç­¾ï¼Œå°†ä»£ç æ’å…¥è¿›æ ‡ç­¾å¹¶ä¸”æ”¾å…¥ head ä¸­å³å¯</li><li>å¦‚æœæ˜¯ JS æ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ†æ JS æ–‡ä»¶æ˜¯å¦è¿˜æœ‰åˆ«çš„ä¾èµ–å…³ç³»æœ€åå°†è¯»å–æ–‡ä»¶åçš„å¯¹è±¡ <code>push</code> è¿›æ•°ç»„ä¸­</li></ul></li></ul><p>ç°åœ¨æˆ‘ä»¬å·²ç»è·å–åˆ°äº†æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®ç°æ‰“åŒ…çš„åŠŸèƒ½äº†</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bundle</span><span class="token punctuation">(</span><span class="token parameter">dependencies<span class="token punctuation">,</span> entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> modules <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// æ„å»ºå‡½æ•°å‚æ•°ï¼Œç”Ÿæˆçš„ç»“æ„ä¸º</span>
  <span class="token comment">// { &#39;./entry.js&#39;: function(module, exports, require) { ä»£ç  } }</span>
  dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dep</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> filePath <span class="token operator">=</span> dep<span class="token punctuation">.</span>relativePath <span class="token operator">||</span> entry<span class="token punctuation">;</span>
    modules <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>filePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;: (
      function (module, exports, require) { </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dep<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> }
    ),</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ„å»º require å‡½æ•°ï¼Œç›®çš„æ˜¯ä¸ºäº†è·å–æ¨¡å—æš´éœ²å‡ºæ¥çš„å†…å®¹</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    (function(modules) {
      function require(id) {
        const module = { exports : {} }
        modules[id](module, module.exports, require)
        return module.exports
      }
      require(&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entry<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;)
    })({</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>modules<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">})
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// å½“ç”Ÿæˆçš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&quot;./bundle.js&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç éœ€è¦ç»“åˆç€ Babel è½¬æ¢åçš„ä»£ç æ¥çœ‹ï¼Œè¿™æ ·å¤§å®¶å°±èƒ½ç†è§£ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å†™äº†</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// entry.js</span>
<span class="token keyword">var</span> _a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> _a2 <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span>_a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>__esModule <span class="token operator">?</span> obj <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_a2<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// a.js</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> <span class="token string">&quot;__esModule&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>default <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Babel å°†æˆ‘ä»¬ ES6 çš„æ¨¡å—åŒ–ä»£ç è½¬æ¢ä¸ºäº† CommonJS çš„ä»£ç ï¼Œä½†æ˜¯æµè§ˆå™¨æ˜¯ä¸æ”¯æŒ CommonJS çš„ï¼Œæ‰€ä»¥å¦‚æœè¿™æ®µä»£ç éœ€è¦åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹è¿è¡Œçš„è¯ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å®ç° CommonJS ç›¸å…³çš„ä»£ç ï¼Œè¿™å°±æ˜¯ <code>bundle</code> å‡½æ•°åšçš„å¤§éƒ¨åˆ†äº‹æƒ…ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥é€è¡Œè§£æ <code>bundle</code> å‡½æ•°</p><ul><li>é¦–å…ˆéå†æ‰€æœ‰ä¾èµ–æ–‡ä»¶ï¼Œæ„å»ºå‡ºä¸€ä¸ªå‡½æ•°å‚æ•°å¯¹è±¡</li><li>å¯¹è±¡çš„å±æ€§å°±æ˜¯å½“å‰æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä½“æ˜¯å½“å‰æ–‡ä»¶ä¸‹çš„ä»£ç ï¼Œå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•° <code>module</code>ã€<code>exports</code>ã€ <code>require</code><ul><li><code>module</code> å‚æ•°å¯¹åº” CommonJS ä¸­çš„ <code>module</code></li><li><code>exports</code> å‚æ•°å¯¹åº” CommonJS ä¸­çš„ <code>module.export</code></li><li><code>require</code> å‚æ•°å¯¹åº”æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„ <code>require</code> å‡½æ•°</li></ul></li><li>æ¥ä¸‹æ¥å°±æ˜¯æ„é€ ä¸€ä¸ªä½¿ç”¨å‚æ•°çš„å‡½æ•°äº†ï¼Œå‡½æ•°åšçš„äº‹æƒ…å¾ˆç®€å•ï¼Œå°±æ˜¯å†…éƒ¨åˆ›å»ºä¸€ä¸ª <code>require</code> å‡½æ•°ï¼Œç„¶åè°ƒç”¨ <code>require(entry)</code>ï¼Œä¹Ÿå°±æ˜¯ <code>require(&#39;./entry.js&#39;)</code>ï¼Œè¿™æ ·å°±ä¼šä»å‡½æ•°å‚æ•°ä¸­æ‰¾åˆ° <code>./entry.js</code>å¯¹åº”çš„å‡½æ•°å¹¶æ‰§è¡Œï¼Œæœ€åå°†å¯¼å‡ºçš„å†…å®¹é€šè¿‡ module.export çš„æ–¹å¼è®©å¤–éƒ¨è·å–åˆ°</li><li>æœ€åå†å°†æ‰“åŒ…å‡ºæ¥çš„å†…å®¹å†™å…¥åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­</li></ul><p>å¦‚æœä½ å¯¹äºä¸Šé¢çš„å®ç°è¿˜æœ‰ç–‘æƒ‘çš„è¯ï¼Œå¯ä»¥é˜…è¯»ä¸‹æ‰“åŒ…åçš„éƒ¨åˆ†ç®€åŒ–ä»£ç </p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ„é€ ä¸€ä¸ª CommonJS å¯¼å‡ºä»£ç </span>
    <span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// å»å‚æ•°ä¸­è·å–æ–‡ä»¶å¯¹åº”çš„å‡½æ•°å¹¶æ‰§è¡Œ</span>
    modules<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> require<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./entry.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;./entry.js&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡Œç»§ç»­é€šè¿‡æ„é€ çš„ require å»æ‰¾åˆ° a.js æ–‡ä»¶å¯¹åº”çš„å‡½æ•°</span>
    <span class="token keyword">var</span> _a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_a2<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;./a.js&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// å°† require å‡½æ•°ä¸­çš„å˜é‡ module å˜æˆäº†è¿™æ ·çš„ç»“æ„</span>
    <span class="token comment">// module.exports = 1</span>
    <span class="token comment">// è¿™æ ·å°±èƒ½åœ¨å¤–éƒ¨å–åˆ°å¯¼å‡ºçš„å†…å®¹äº†</span>
    exports<span class="token punctuation">.</span>default <span class="token operator">=</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// çœç•¥</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å°ç»“:</strong></p><p>è™½ç„¶å®ç°è¿™ä¸ªå·¥å…·åªå†™äº†ä¸åˆ° 100 è¡Œçš„ä»£ç ï¼Œä½†æ˜¯æ‰“åŒ…å·¥å…·çš„æ ¸å¿ƒåŸç†å°±æ˜¯è¿™äº›äº†</p><ol><li>æ‰¾å‡ºå…¥å£æ–‡ä»¶æ‰€æœ‰çš„ä¾èµ–å…³ç³»</li><li>ç„¶åé€šè¿‡æ„å»º CommonJS ä»£ç æ¥è·å– <code>exports</code> å¯¼å‡ºçš„å†…å®¹</li></ol><h2 id="å¦‚ä½•é…ç½®åˆ«å" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•é…ç½®åˆ«å" aria-hidden="true">#</a> å¦‚ä½•é…ç½®åˆ«å</h2><p>vue.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token function">chainWebpack</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;components&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/components&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;common&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/common&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;api&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/api&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;base&#39;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/base&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¸¸è§é¢è¯•é¢˜æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é¢è¯•é¢˜æ€»ç»“" aria-hidden="true">#</a> å¸¸è§é¢è¯•é¢˜æ€»ç»“</h2><h3 id="module-chunk-bundle-åˆ†åˆ«ä»€ä¹ˆæ„æ€-æœ‰ä½•åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#module-chunk-bundle-åˆ†åˆ«ä»€ä¹ˆæ„æ€-æœ‰ä½•åŒºåˆ«" aria-hidden="true">#</a> module chunk bundle åˆ†åˆ«ä»€ä¹ˆæ„æ€ï¼Œæœ‰ä½•åŒºåˆ«?</h3><ul><li>moduleï¼š å„ä¸ªæºç æ–‡ä»¶ï¼Œ webpack ä¸­ä¸€åˆ‡çš†æ¨¡å—</li><li>chunkï¼š å¤šæ¨¡å—åˆå¹¶æˆçš„ï¼Œ å¦‚ entry import() splitChunk</li><li>bundleï¼š æœ€ç»ˆè¾“å‡ºçš„æ–‡ä»¶</li><li><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/bundle.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></li></ul><h3 id="webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-ç»¼åˆ" tabindex="-1"><a class="header-anchor" href="#webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-ç»¼åˆ" aria-hidden="true">#</a> webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - ç»¼åˆ</h3><ol><li>Nodeï¼Œ Npm/Yarn æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</li><li>Plugin å°½å¯èƒ½ç²¾ç®€å¯é </li><li>resolve å‚æ•°åˆç†é…ç½®</li><li><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/resolve.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"><br>extensions å»ºè®®é…é€»è¾‘æ–‡ä»¶ï¼Œ cssï¼Œå›¾ç‰‡ç±»ä¸è¦é…ç½®ï¼Œ æµªè´¹æ€§èƒ½ã€‚</li><li>åˆç†ä½¿ç”¨ SourceMap ä¸è¦å¤ªè¯¦ç»†ï¼Œé…ç½®åˆé€‚çš„å³å¯</li></ol><h3 id="webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-æ„å»ºé€Ÿåº¦" tabindex="-1"><a class="header-anchor" href="#webpack-å¸¸è§æ€§èƒ½ä¼˜åŒ–-æ„å»ºé€Ÿåº¦" aria-hidden="true">#</a> webpack å¸¸è§æ€§èƒ½ä¼˜åŒ– - æ„å»ºé€Ÿåº¦</h3><ol><li>ä¼˜åŒ– babel-loader</li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>rules<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// js æ–‡ä»¶æ‰ä½¿ç”¨ babel</span>
    test<span class="token operator">:</span> /\.js$/<span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span>&#39;babel-loader?cacheDirectory&#39;<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//å¼€å¯ç¼“å­˜</span>
    include<span class="token operator">:</span> <span class="token punctuation">[</span>resolve(&#39;src&#39;)<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//æ˜ç¡®èŒƒå›´ åªåœ¨ src æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾</span>
    exclude<span class="token operator">:</span> /node_modules/<span class="token punctuation">,</span><span class="token comment">// ä¸ä¼šå»æŸ¥æ‰¾çš„è·¯å¾„</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äº Babel æ¥è¯´ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯å¸Œæœ›åªä½œç”¨åœ¨ JS ä»£ç ä¸Šçš„ï¼Œç„¶å <code>node_modules</code> ä¸­ä½¿ç”¨çš„ä»£ç éƒ½æ˜¯ç¼–è¯‘è¿‡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå®Œå…¨æ²¡æœ‰å¿…è¦å†å»å¤„ç†ä¸€éã€‚</p><p>ä½¿ç”¨<code>use: [&#39;babel-loader?cacheDirectory&#39;]</code>å¼€å¯ç¼“å­˜ï¼Œ åªè¦ ES6 ä»£ç æ²¡æœ‰æ”¹çš„å°±ä¸ä¼šå†é‡æ–°ç¼–è¯‘ï¼Œè€Œæ˜¯ç¼“å­˜ä¸‹æ¥ã€‚</p><p>åœ¨ç¬¬äºŒæ¬¡è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ï¼Œé’ˆå¯¹æ²¡æœ‰æ”¹çš„éƒ¨åˆ†å¯ç”¨ç¼“å­˜ï¼Œ ä¸ç”¨å†é‡æ–°ç¼–è¯‘ã€‚</p><p><code>include</code>ã€<code>exclude</code> æ˜ç¡®å…·ä½“èŒƒå›´ã€‚æ¯”å¦‚ <code>node_modules</code>å†…æ–‡ä»¶å°±ä¸è¦ä½¿ç”¨ <code>babel-loader</code> äº†</p><ol start="2"><li>IgnorePlugin(å¿½ç•¥æ— ç”¨æ–‡ä»¶)</li></ol><blockquote><p>æœ‰ä»¥ä¸‹è¿™ç§åœºæ™¯ï¼Œ æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª moment æ—¥å†æ’ä»¶ï¼Œ å®ƒæ”¯æŒå¾ˆå¤šç§è¯­è¨€ã€‚ åœ¨é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯æ‰€æœ‰è¯­è¨€éƒ½å¼•å…¥çš„ï¼Œ è€Œæˆ‘ä»¬å®é™…å¼€å‘ä¸­åªéœ€è¦ä¸­æ–‡ã€‚ è¿™æ ·å°±ä¼šå¯¼è‡´æ‰“åŒ…äº†å¾ˆå¤šä¸å¿…è¦çš„ä»£ç ã€‚ æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥åšåˆ°åªæ‰“åŒ…ä¸­æ–‡è¯­è¨€å‘¢ï¼Ÿ</p></blockquote><p>index.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">&quot;moment&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;moment/locale/zh-cn&quot;</span><span class="token punctuation">;</span> <span class="token comment">//æ‰‹åŠ¨å¼•å…¥ä¸­æ–‡è¯­è¨€åŒ…</span>
moment<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">&quot;zh-cn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®è¯­è¨€ä¸ºä¸­æ–‡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;locale&quot;</span><span class="token punctuation">,</span> moment<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;ll&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2020å¹´xxæœˆxxæ—¥</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆå¼•å…¥ moment åº“ï¼Œ å¹¶å¼•å…¥ä¸­æ–‡è¯­è¨€åŒ…</p><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// å¿½ç•¥ moment ä¸‹çš„ /locale ç›®å½•</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.\/locale</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘ç¯å¢ƒä¸‹é…ç½® plugins ï¼Œ ä¸ä¼šæ‰“åŒ… moment ä¸‹çš„ locale æ–‡ä»¶ã€‚</p><p>IgnorePlugin æ˜¯ç›´æ¥ä¸å¼•å…¥ï¼Œ ä»£ç ä¸­æ²¡æœ‰</p><ol start="3"><li>noParse</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//å®Œæ•´çš„ react.min.js æ–‡ä»¶å°±æ²¡æœ‰é‡‡ç”¨æ¨¡å—åŒ–</span>
    <span class="token comment">//å¿½ç•¥å¯¹ react.min.js æ–‡ä»¶çš„é€’å½’è§£æå¤„ç†</span>
    <span class="token literal-property property">noParse</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">react\.min\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ ç¡®å®šä¸€ä¸ªæ–‡ä»¶ä¸‹æ²¡æœ‰å…¶ä»–ä¾èµ–ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å±æ€§è®© Webpack ä¸æ‰«æè¯¥æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼å¯¹äºå¤§å‹çš„ç±»åº“å¾ˆæœ‰å¸®åŠ©</p><p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä½¿ç”¨çš„ react.min.js éƒ½æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œ æˆ‘ä»¬æ²¡æœ‰å¿…è¦å†æ¬¡è¿›è¡Œæ‰“åŒ…ï¼Œ å¯¹äºè¿™ç§æ–‡ä»¶æˆ‘ä»¬å¯ä»¥è¿›è¡Œå¿½ç•¥ã€‚</p><p>noParse æ˜¯å¼•å…¥ï¼Œ ä½†ä¸è¿›è¡Œæ‰“åŒ…ã€‚</p><ol start="4"><li>happyPack ï¼ˆå¤šè¿›ç¨‹æ‰“åŒ…ï¼‰</li></ol><ul><li>JS å•çº¿ç¨‹ï¼Œå¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…</li><li>æé«˜æ„å»ºé€Ÿåº¦ï¼ˆç‰¹åˆ«æ˜¯å¤šæ ¸ CPUï¼‰</li></ul><p>å—é™äº Node æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œæ‰€ä»¥ Webpack åœ¨æ‰“åŒ…çš„è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å•çº¿ç¨‹çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨æ‰§è¡Œ Loader çš„æ—¶å€™ï¼Œé•¿æ—¶é—´ç¼–è¯‘çš„ä»»åŠ¡å¾ˆå¤šï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ç­‰å¾…çš„æƒ…å†µã€‚</p><p><strong>HappyPack å¯ä»¥å°† Loader çš„åŒæ­¥æ‰§è¡Œè½¬æ¢ä¸ºå¹¶è¡Œçš„</strong>ï¼Œè¿™æ ·å°±èƒ½å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºæ¥åŠ å¿«æ‰“åŒ…æ•ˆç‡äº†</p><p>webpack.prod.js</p><p>é¦–å…ˆå¼•å…¥ happypack</p><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> HappyPack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;happypack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">smart</span><span class="token punctuation">(</span>webpackCommonConf<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// js</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æŠŠå¯¹ .js æ–‡ä»¶çš„å¤„ç†è½¬äº¤ç»™ id ä¸º babel çš„ HappyPack å®ä¾‹</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;happypack/loader?id=babel&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> srcPath<span class="token punctuation">,</span>
        <span class="token comment">// exclude: /node_modules/</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// happyPack å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…</span>
    <span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦ id æ¥ä»£è¡¨å½“å‰çš„ HappyPack æ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;babel&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// å¦‚ä½•å¤„ç† .js æ–‡ä»¶ï¼Œç”¨æ³•å’Œ Loader é…ç½®ä¸­ä¸€æ ·</span>
      <span class="token literal-property property">loaders</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;babel-loader?cacheDirectory&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// å¼€å¯ 4 ä¸ªçº¿ç¨‹</span>
      <span class="token literal-property property">threads</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//å…¶ä»–é…ç½®</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>ParallelUglifyPlugin ï¼ˆå¤šè¿›ç¨‹å‹ç¼© JSï¼‰ <ul><li>webpack å†…ç½® Uglify å·¥å…·å‹ç¼© JS</li><li>JS å•çº¿ç¨‹ï¼Œ å¼€å¯å¤šè¿›ç¨‹å‹ç¼©æ›´å¿«</li></ul></li></ol><p>åœ¨ Webpack3 ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ UglifyJS æ¥å‹ç¼©ä»£ç ï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œä¸ºäº†åŠ å¿«æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ webpack-parallel-uglify-plugin æ¥å¹¶è¡Œè¿è¡Œ UglifyJSï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚</p><p>åœ¨ Webpack4 ä¸­ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ä»¥ä¸Šè¿™äº›æ“ä½œäº†ï¼Œåªéœ€è¦å°† mode è®¾ç½®ä¸º production å°±å¯ä»¥é»˜è®¤å¼€å¯ä»¥ä¸ŠåŠŸèƒ½ã€‚ä»£ç å‹ç¼©ä¹Ÿæ˜¯æˆ‘ä»¬å¿…åšçš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Œå½“ç„¶æˆ‘ä»¬ä¸æ­¢å¯ä»¥å‹ç¼© JS ä»£ç ï¼Œè¿˜å¯ä»¥å‹ç¼© HTMLã€CSS ä»£ç ï¼Œå¹¶ä¸”åœ¨å‹ç¼© JS ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡é…ç½®å®ç°æ¯”å¦‚åˆ é™¤ console.log è¿™ç±»ä»£ç çš„åŠŸèƒ½ã€‚</p><p>webpack.prod.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ParallelUglifyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-parallel-uglify-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ä½¿ç”¨ ParallelUglifyPlugin å¹¶è¡Œå‹ç¼©è¾“å‡ºçš„ JS ä»£ç </span>
    <span class="token keyword">new</span> <span class="token class-name">ParallelUglifyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ä¼ é€’ç»™ UglifyJS çš„å‚æ•°</span>
      <span class="token comment">// ï¼ˆè¿˜æ˜¯ä½¿ç”¨ UglifyJS å‹ç¼©ï¼Œåªä¸è¿‡å¸®åŠ©å¼€å¯äº†å¤šè¿›ç¨‹ï¼‰</span>
      <span class="token literal-property property">uglifyJS</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">beautify</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æœ€ç´§å‡‘çš„è¾“å‡º</span>
          <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// åˆ é™¤æ‰€æœ‰çš„æ³¨é‡Š</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// åˆ é™¤æ‰€æœ‰çš„ `console` è¯­å¥ï¼Œå¯ä»¥å…¼å®¹ieæµè§ˆå™¨</span>
          <span class="token literal-property property">drop_console</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token comment">// å†…åµŒå®šä¹‰äº†ä½†æ˜¯åªç”¨åˆ°ä¸€æ¬¡çš„å˜é‡</span>
          <span class="token literal-property property">collapse_vars</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token comment">// æå–å‡ºå‡ºç°å¤šæ¬¡ä½†æ˜¯æ²¡æœ‰å®šä¹‰æˆå˜é‡å»å¼•ç”¨çš„é™æ€å€¼</span>
          <span class="token literal-property property">reduce_vars</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…³äºå¼€å¯å¤šè¿›ç¨‹</strong></p><ul><li>é¡¹ç›®è¾ƒå¤§ï¼Œ æ‰“åŒ…è¾ƒæ…¢ï¼Œ å¼€å¯å¤šè¿›ç¨‹èƒ½æé«˜é€Ÿåº¦</li><li>é¡¹ç›®è¾ƒå°ï¼Œ æ‰“åŒ…å¾ˆå¿«ï¼Œ å¼€å¯å¤šè¿›ç¨‹ä¼šé™ä½é€Ÿåº¦ï¼ˆè¿›ç¨‹å¼€é”€/å¯åŠ¨/é”€æ¯/é€šè®¯ï¼‰</li></ul><ol start="6"><li>è‡ªåŠ¨åˆ·æ–°<br><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/zidongshuaxin.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></li></ol><p>ä¸€èˆ¬ä¸ç”¨é…ç½®ï¼Œ ç›´æ¥ä½¿ç”¨ devServer å°±å¯ä»¥äº†ã€‚</p><ol start="7"><li><p>çƒ­æ›´æ–°</p><p>è‡ªåŠ¨åˆ·æ–°ï¼š æ•´ä¸ªç½‘é¡µä¼šå…¨éƒ¨åˆ·æ–°ï¼Œ é€Ÿåº¦è¾ƒæ…¢ã€‚çŠ¶æ€ä¹Ÿä¼šä¸¢å¤±ã€‚</p></li></ol><p>çƒ­æ›´æ–°ï¼š æ–°ä»£ç ç”Ÿæ•ˆï¼Œç½‘é¡µä¸åˆ·æ–°ï¼Œ çŠ¶æ€ä¸ä¸¢å¤±ã€‚</p><p>å…·ä½“è®¾ç½®å‚è€ƒ <a href="http://l544402029.gitee.io/blog/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/webpack/#HMR" target="_blank" rel="noopener noreferrer">HMR<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è¿™ä¸€èŠ‚ã€‚</p><ol start="8"><li>DllPlugin</li></ol><p>DllPlugin å¯ä»¥å°†ç‰¹å®šçš„ç±»åº“æå‰æ‰“åŒ…ç„¶åå¼•å…¥ã€‚è¿™ç§æ–¹å¼å¯ä»¥æå¤§çš„å‡å°‘æ‰“åŒ…ç±»åº“çš„æ¬¡æ•°ï¼Œåªæœ‰å½“ç±»åº“æ›´æ–°ç‰ˆæœ¬æ‰æœ‰éœ€è¦é‡æ–°æ‰“åŒ…ï¼Œå¹¶ä¸”ä¹Ÿå®ç°äº†å°†å…¬å…±ä»£ç æŠ½ç¦»æˆå•ç‹¬æ–‡ä»¶çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</p><p>ä¸¾ä¾‹ï¼šæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª lodash åº“ï¼Œ æˆ‘ä»¬çŸ¥é“è¿™ä¸ªåº“çš„æ–‡ä»¶å®ƒæ˜¯ä¸ä¼šå˜çš„ï¼Œ ä½†æ˜¯æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šæ‰“åŒ…å®ƒï¼Œ æˆ‘ä»¬å¯ä»¥è®©å®ƒåªåœ¨ç¬¬ä¸€æ¬¡æ‰“åŒ…ï¼Œ ä¸‹æ¬¡å°±ä¸æ‰“åŒ…äº†ã€‚</p><ul><li>webpack å†…ç½® DllPlugin æ”¯æŒ</li><li>DllPlugin æ‰“åŒ…å‡º dll æ–‡ä»¶</li><li>DllReferencePlugin ä½¿ç”¨ dll æ–‡ä»¶</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å•ç‹¬é…ç½®åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</span>
<span class="token comment">// webpack.dll.conf.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æƒ³ç»Ÿä¸€æ‰“åŒ…çš„ç±»åº“</span>
    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].dll.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&quot;[name]-[hash]&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// name å¿…é¡»å’Œ output.library ä¸€è‡´</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;[name]-[hash]&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// è¯¥å±æ€§éœ€è¦ä¸ DllReferencePlugin ä¸­ä¸€è‡´</span>
      <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[name]-manifest.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬éœ€è¦æ‰§è¡Œè¿™ä¸ªé…ç½®æ–‡ä»¶ç”Ÿæˆä¾èµ–æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ DllReferencePlugin å°†ä¾èµ–æ–‡ä»¶å¼•å…¥é¡¹ç›®ä¸­</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.conf.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...çœç•¥å…¶ä»–é…ç½®</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token comment">// manifest å°±æ˜¯ä¹‹å‰æ‰“åŒ…å‡ºæ¥çš„ json æ–‡ä»¶</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/vendor-manifest.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li>ä¸€äº›å°çš„ä¼˜åŒ–ç‚¹</li></ol><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¸€äº›å°çš„ä¼˜åŒ–ç‚¹æ¥åŠ å¿«æ‰“åŒ…é€Ÿåº¦</p><ul><li>resolve.extensionsï¼šç”¨æ¥è¡¨æ˜æ–‡ä»¶åç¼€åˆ—è¡¨ï¼Œé»˜è®¤æŸ¥æ‰¾é¡ºåºæ˜¯ [&#39;.js&#39;, &#39;.json&#39;]ï¼Œå¦‚æœä½ çš„å¯¼å…¥æ–‡ä»¶æ²¡æœ‰æ·»åŠ åç¼€å°±ä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºæŸ¥æ‰¾æ–‡ä»¶ã€‚æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½å‡å°‘åç¼€åˆ—è¡¨é•¿åº¦ï¼Œç„¶åå°†å‡ºç°é¢‘ç‡é«˜çš„åç¼€æ’åœ¨å‰é¢</li><li>resolve.aliasï¼šå¯ä»¥é€šè¿‡åˆ«åçš„æ–¹å¼æ¥æ˜ å°„ä¸€ä¸ªè·¯å¾„ï¼Œèƒ½è®© Webpack æ›´å¿«æ‰¾åˆ°è·¯å¾„</li></ul><p><strong>å°ç»“ï¼š</strong></p><ul><li>webpack ä¼˜åŒ–æ„å»ºé€Ÿåº¦ï¼ˆå¯ç”¨äºç”Ÿäº§ï¼‰ <ul><li>ä¼˜åŒ– babel-loader (ç”Ÿäº§ç¯å¢ƒç¼“å­˜æ— æ‰€è°“ï¼Œåªç”¨åœ¨å¼€å‘ç¯å¢ƒå°±å¯ä»¥ã€‚include exclude å¿…é¡»è¦ä½¿ç”¨)</li><li>IgnorePlugin</li><li>noParse</li><li>happyPack(å¤šè¿›ç¨‹æ‰“åŒ…)</li><li>ParallelUglifyPlugin ï¼ˆå¤šè¿›ç¨‹å‹ç¼© JSï¼Œå¿…é¡»ç”Ÿäº§ç¯å¢ƒï¼Œå¼€å‘ç¯å¢ƒæ²¡å¿…è¦å‹ç¼©ä»£ç ï¼‰</li></ul></li><li>webpack ä¼˜åŒ–æ„å»ºé€Ÿåº¦ï¼ˆä¸ç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰ <ul><li>è‡ªåŠ¨åˆ·æ–°</li><li>çƒ­æ›´æ–°</li><li>DllPlugin</li></ul></li></ul><h3 id="webpack-æ€§èƒ½ä¼˜åŒ–-äº§å‡ºä»£ç " tabindex="-1"><a class="header-anchor" href="#webpack-æ€§èƒ½ä¼˜åŒ–-äº§å‡ºä»£ç " aria-hidden="true">#</a> webpack æ€§èƒ½ä¼˜åŒ– - äº§å‡ºä»£ç </h3><p>è§£å†³æ€è·¯ï¼š</p><ol><li>ä½“ç§¯æ›´å°</li><li>åˆç†åˆ†åŒ…ï¼Œä¸é‡å¤åŠ è½½</li><li>æ‰§è¡Œé€Ÿåº¦æ›´å¿«ã€å†…å­˜ä½¿ç”¨æ›´å°</li></ol><p>æ–¹æ¡ˆï¼š</p><ol><li>å°å›¾ç‰‡ base64 ç¼–ç </li><li>bundle åŠ  hash</li><li>æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</li><li>æå–å…¬å…±ä»£ç  å‚è€ƒ Code Splitting</li><li>IngorePlugin</li><li>ä½¿ç”¨ CDN åŠ é€Ÿ</li><li>ä½¿ç”¨ production <ul><li>è‡ªåŠ¨å¼€å¯ä»£ç å‹ç¼©</li><li>Vue React ç­‰ ä¼šè‡ªåŠ¨åˆ é™¤æ‰è°ƒè¯•ä»£ç ï¼ˆå¦‚å¼€å‘ç¯å¢ƒçš„ warningï¼‰</li><li>å¯ç”¨ Tree-Shaking <ul><li>ES6 Module æ‰èƒ½è®© tree-shaking ç”Ÿæ•ˆã€‚ commonjs ä¸è¡Œ</li></ul></li></ul></li><li>åˆç†ä½¿ç”¨ SourceMap(ä¸è¦å¤ªè¯¦ç»†ï¼Œé…ç½®åˆé€‚çš„å³å¯)</li><li>ç»“åˆ Stats åˆ†ææ‰“åŒ…ç»“æœ</li><li>Nodeï¼Œ Npm/Yarn æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</li><li>Plugin å°½å¯èƒ½ç²¾ç®€å¯é </li><li>resolve å‚æ•°åˆç†é…ç½®</li><li>Scope Hostingï¼ˆScope Hoisting ä¼šåˆ†æå‡ºæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå°½å¯èƒ½çš„æŠŠæ‰“åŒ…å‡ºæ¥çš„æ¨¡å—åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­å»ã€‚ï¼‰ <ul><li>ä»£ç ä½“ç§¯æ›´å°</li><li>åˆ›å»ºå‡½æ•°ä½œç”¨åŸŸæ›´å°‘</li><li>ä»£ç å¯è¯»æ€§æ›´å¥½</li></ul></li></ol><p>æ¯”å¦‚æˆ‘ä»¬å¸Œæœ›æ‰“åŒ…ä¸¤ä¸ªæ–‡ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// test.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./test.js&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æ‰“åŒ…å‡ºæ¥çš„ä»£ç ä¼šç±»ä¼¼è¿™æ ·</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span>
  <span class="token comment">/* 0 */</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/* 1 */</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ Scope Hoisting çš„è¯ï¼Œä»£ç å°±ä¼šå°½å¯èƒ½çš„åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­å»ï¼Œä¹Ÿå°±å˜æˆäº†è¿™æ ·çš„ç±»ä¼¼ä»£ç </p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span>
  <span class="token comment">/* 0 */</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·çš„æ‰“åŒ…æ–¹å¼ç”Ÿæˆçš„ä»£ç æ˜æ˜¾æ¯”ä¹‹å‰çš„å°‘å¤šäº†ã€‚å¦‚æœåœ¨ Webpack4 ä¸­ä½ å¸Œæœ›å¼€å¯è¿™ä¸ªåŠŸèƒ½ï¼Œåªéœ€è¦å¯ç”¨ <code>optimization.concatenateModules</code> å°±å¯ä»¥äº†ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">concatenateModules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®ï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/biezhuawpo.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h3 id="å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…" aria-hidden="true">#</a> å‰ç«¯ä»£ç ä¸ºä½•è¦è¿›è¡Œæ„å»ºå’Œæ‰“åŒ…?</h3><ul><li>ä½“ç§¯æ›´å°ï¼ˆTree-Shakingã€å‹ç¼©ã€åˆå¹¶ï¼‰ï¼ŒåŠ è½½æ›´å¿«</li><li>èƒ½å¤Ÿç¼–è¯‘é«˜çº§è¯­è¨€æˆ–è¯­æ³•ï¼ˆTSã€ES6+ã€æ¨¡å—åŒ–ã€SCSSï¼‰</li><li>å…¼å®¹æ€§å’Œé”™è¯¯æ£€æŸ¥ï¼ˆPolyfillã€postcssã€eslintï¼‰</li></ul><h4 id="ç ”å‘æµç¨‹æ–¹é¢" tabindex="-1"><a class="header-anchor" href="#ç ”å‘æµç¨‹æ–¹é¢" aria-hidden="true">#</a> ç ”å‘æµç¨‹æ–¹é¢ï¼š</h4><ul><li>ç»Ÿä¸€ï¼Œé«˜æ•ˆçš„å¼€å‘ç¯å¢ƒ</li><li>ç»Ÿä¸€çš„æ„å»ºæµç¨‹å’Œäº§å‡ºæ ‡å‡†</li><li>é›†æˆå…¬å¸æ„å»ºè§„èŒƒï¼ˆææµ‹ã€ä¸Šçº¿ç­‰ï¼‰</li></ul><h3 id="plugin-ä¸-loader-çš„åŒºåˆ«-1" tabindex="-1"><a class="header-anchor" href="#plugin-ä¸-loader-çš„åŒºåˆ«-1" aria-hidden="true">#</a> Plugin ä¸ loader çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="loader-2" tabindex="-1"><a class="header-anchor" href="#loader-2" aria-hidden="true">#</a> loader</h4><ul><li><p>loader æ¨¡å—è½¬æ¢å™¨ï¼Œ å¦‚ less &gt; css</p><p>loader æ˜¯ä¸€ä¸ªæ‰“åŒ…æ–¹æ¡ˆï¼Œå®ƒæ˜¯é’ˆå¯¹äºæŸä¸€ä¸ªç‰¹å®šç±»å‹çš„æ–‡ä»¶ï¼Œwebpack è¯¥å¦‚ä½•è¿›è¡Œæ‰“åŒ…ã€‚æœ¬èº« webpack æ˜¯ä¸çŸ¥é“å¯¹äºä¸€äº›æ–‡ä»¶ï¼ˆjpgï¼Œtxtï¼Œexcelï¼‰è¯¥å¦‚ä½•å¤„ç†çš„ï¼Œä½†æ˜¯ loader çŸ¥é“ã€‚ æ‰€ä»¥ webpack å»æ±‚åŠ© loader å°±å¯ä»¥å•¦ã€‚</p></li><li><p>Plugin</p><p>plugin æ‰©å±•æ’ä»¶ï¼Œå¦‚ HtmlWebpackPlugin</p><p>åœ¨æˆ‘ä»¬åšæ‰“åŒ…çš„æ—¶å€™ï¼Œ åœ¨æŸä¸€ä¸ªå…·ä½“æ—¶åˆ»ä¸Šã€‚ æ¯”å¦‚è¯´ï¼Œ å½“æˆ‘æ‰“åŒ…ç»“æŸåï¼Œæˆ‘è¦è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œ è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ª html-webpack-plugin çš„æ’ä»¶ã€‚å®ƒä¼šåœ¨æ‰“åŒ…ç»“æŸåç”Ÿæˆ html æ–‡ä»¶ã€‚</p><p>Plugin å¯ä»¥åœ¨æˆ‘ä»¬æ‰“åŒ…è¿‡ç¨‹çš„æŸä¸ªæ—¶åˆ»æƒ³åšä¸€äº›äº‹æƒ…ã€‚</p></li></ul><h3 id="å¸¸è§-loader-æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#å¸¸è§-loader-æœ‰å“ªäº›" aria-hidden="true">#</a> å¸¸è§ loader æœ‰å“ªäº›ï¼Ÿ</h3><ol><li><p>file-loader</p><p>æ‰“åŒ…å›¾ç‰‡æ–‡ä»¶ï¼Œå…ˆå°†æ–‡ä»¶è½¬ç§»åˆ°æ‰“åŒ…ç›®å½•ä¸‹ï¼Œå†å°† dist ä¸­çš„æ–‡ä»¶è·¯å¾„è¿”å›ç»™ index.jsã€‚</p></li><li><p>url-loader</p><p>å¯ä»¥é€šè¿‡å›¾ç‰‡å¤§å°æ¥åˆ¤æ–­æ˜¯ä½¿ç”¨ base64 æ ¼å¼å›¾ç‰‡è¿˜æ˜¯ç›´æ¥æ‰“åŒ…æˆä¸€ä¸ªå›¾ç‰‡èµ„æºæ–‡ä»¶ã€‚</p></li><li><p>css-loader</p><p>å¸®æˆ‘ä»¬åˆ†æå‡ºå‡ ä¸ª css æ–‡ä»¶çš„å¼•å…¥å…³ç³»ï¼Œ æœ€ç»ˆå°†è¿™äº› css æ–‡ä»¶åˆå¹¶æˆä¸€æ®µ cssã€‚</p></li><li><p>style-loader</p><p>å†å¾—åˆ° css-loader ç”Ÿæˆçš„å†…å®¹åï¼Œ ä¼šæŠŠè¿™æ®µä»£ç æŒ‚è½½åˆ° html çš„ head éƒ¨åˆ†ã€‚</p></li><li><p>sass-loader</p><p>sass æ–‡ä»¶æ‰“åŒ…</p></li><li><p>postcss-loader</p><p>è‡ªåŠ¨åŠ å‚å•†å‰ç¼€</p></li><li><p>babel-loader</p><p>babel ä¸ webpack æ²Ÿé€šçš„æ¡¥æ¢</p></li><li><p>ts-loader</p><p>TypeScript çš„æ‰“åŒ…é…ç½®</p></li><li><p>eslint-loader</p><p>å¯ä»¥ä½¿å›¢é˜Ÿç»Ÿä¸€ä½¿ç”¨ä¸€å¥— eslint</p></li></ol><h3 id="å¸¸è§-plugin-æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#å¸¸è§-plugin-æœ‰å“ªäº›" aria-hidden="true">#</a> å¸¸è§ plugin æœ‰å“ªäº›ï¼Ÿ</h3><ol><li>html-webpack-plugin ä¼šåœ¨æ‰“åŒ…ç»“æŸçš„æ—¶åˆ»ï¼Œ è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œ å¹¶æŠŠæ‰“åŒ…ç”Ÿæˆçš„ js è‡ªåŠ¨æ³¨å…¥åˆ°è¿™ä¸ª html æ–‡ä»¶ä¸­ã€‚</li><li>clean-webpack-plugin æ‰“åŒ…æµç¨‹æ‰§è¡Œå‰æ¸…ç©º dist ç›®å½•</li><li>webpack.HotModuleReplacementPlugin æ¨¡å—çƒ­æ›´æ–°</li><li>webpack.IgnorePlugin å¿½ç•¥æ— ç”¨æ–‡ä»¶</li><li>webpack-bundle-analyzer æ‰“åŒ…åˆ†æ</li><li>happypack å¤šè¿›ç¨‹æ‰“åŒ…</li><li>webpack-parallel-uglify-plugin å¤šè¿›ç¨‹å‹ç¼© JS</li><li>mini-css-extract-plugin å°† CSS æå–ä¸ºç‹¬ç«‹çš„æ–‡ä»¶</li><li>optimize-css-assets-webpack-plugin å‹ç¼© css ä»£ç </li><li>workbox-webpack-plugin å®ç° PWAï¼Œæ˜¯ä¸€ç§å¼ºç¼“å­˜æŠ€æœ¯</li><li>add-asset-html-webpack-plugin å°† JavaScript æˆ– CSS èµ„æºæ·»åŠ åˆ° html-webpack-plugin ç”Ÿæˆçš„ HTML ä¸­</li><li>webpack.DllPlugin æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª lodash åº“ï¼Œ æˆ‘ä»¬çŸ¥é“è¿™ä¸ªåº“çš„æ–‡ä»¶å®ƒæ˜¯ä¸ä¼šå˜çš„ï¼Œ ä½†æ˜¯æ¯æ¬¡æ‰“åŒ…éƒ½ä¼šæ‰“åŒ…å®ƒï¼Œ æˆ‘ä»¬å¯ä»¥è®©å®ƒåªåœ¨ç¬¬ä¸€æ¬¡æ‰“åŒ…ï¼Œ ä¸‹æ¬¡å°±ä¸æ‰“åŒ…äº†ã€‚</li></ol><h3 id="babel-å’Œ-webpack-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#babel-å’Œ-webpack-çš„åŒºåˆ«" aria-hidden="true">#</a> babel å’Œ webpack çš„åŒºåˆ«</h3><ul><li>babel JS æ–°è¯­æ³•ç¼–è¯‘å·¥å…·ï¼Œ ä¸å…³å¿ƒæ¨¡å—åŒ–</li><li>webpack æ‰“åŒ…æ„å»ºå·¥å…·ï¼Œ æ˜¯å¤šä¸ª loader plugin çš„é›†åˆ</li></ul><h4 id="å¦‚ä½•äº§å‡ºä¸€ä¸ª-lib" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•äº§å‡ºä¸€ä¸ª-lib" aria-hidden="true">#</a> å¦‚ä½•äº§å‡ºä¸€ä¸ª libï¼Ÿ</h4><p>output.library</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/output.png" alt="è¾“å…¥å›¾ç‰‡è¯´æ˜"></p><h3 id="babel-polyfill-å’Œ-babel-runtime-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#babel-polyfill-å’Œ-babel-runtime-çš„åŒºåˆ«" aria-hidden="true">#</a> babel-polyfill å’Œ babel-runtime çš„åŒºåˆ«ï¼Ÿ</h3><ul><li>babel-polyfill ä¼šæ±¡æŸ“å…¨å±€</li><li>babel-runtime ä¸ä¼šæ±¡æŸ“å…¨å±€</li><li>äº§å‡ºç¬¬ä¸‰æ–¹ lib è¦ç”¨ babel-rumtime</li></ul><h3 id="webpack-å¦‚ä½•å®ç°æ‡’åŠ è½½" tabindex="-1"><a class="header-anchor" href="#webpack-å¦‚ä½•å®ç°æ‡’åŠ è½½" aria-hidden="true">#</a> webpack å¦‚ä½•å®ç°æ‡’åŠ è½½ï¼Ÿ</h3><ul><li>import()</li><li>ç»“åˆ Vue React å¼‚æ­¥ç»„ä»¶</li><li>ç»“åˆ Vue-router React-router å¼‚æ­¥åŠ è½½è·¯ç”±</li></ul><h3 id="ä¸ºä½•-proxy-ä¸èƒ½è¢«-polyfill" tabindex="-1"><a class="header-anchor" href="#ä¸ºä½•-proxy-ä¸èƒ½è¢«-polyfill" aria-hidden="true">#</a> ä¸ºä½• Proxy ä¸èƒ½è¢« Polyfillï¼Ÿ</h3><p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹é‚£äº›å¯ä»¥ Polyfill</p><ul><li>Class å¯ä»¥ç”¨ function æ¨¡æ‹Ÿ</li><li>Promise å¯ä»¥ç”¨ callback æ¥æ¨¡æ‹Ÿ</li><li>ä½† Proxy çš„åŠŸèƒ½ç”¨ Object.defineProperty æ— æ³•æ¨¡æ‹Ÿ</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://gitee.com/l544402029/blog/edit/gh-pages/é¢è¯•é¢˜åº“/Webpack.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><span class="info">9/14/2022, 2:06:01 PM</span></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 544402029@qq.com">åˆ˜ä¿Šå³°</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Vue3.html" class="nav-link prev" aria-label="Vue3"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><!---->Vue3</div></a><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Node.js.html" class="nav-link next" aria-label="Node.js"><div class="hint">Next<span class="arrow right"></span></div><div class="link">Node.js<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.fd58d3d6.js" defer></script>
  </body>
</html>
