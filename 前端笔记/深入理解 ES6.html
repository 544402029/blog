<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script>var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?87e6dfa24d2735e29aae05a54966e81f";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();</script><title>æ·±å…¥ç†è§£ ES6 | æ²§æµ·çš„é›¨å­£</title><meta name="description" content="è®°å½•æ—¥å¸¸æ‰€å¾—">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.e1dba4be.css">
    <link rel="modulepreload" href="/blog/assets/app.c9f640fb.js"><link rel="modulepreload" href="/blog/assets/æ·±å…¥ç†è§£ ES6.html.034086f8.js"><link rel="modulepreload" href="/blog/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/blog/assets/æ·±å…¥ç†è§£ ES6.html.a8c51033.js"><link rel="prefetch" href="/blog/assets/index.html.03f42a18.js"><link rel="prefetch" href="/blog/assets/Koa2æ–°æµªåšå®¢.html.79d49ccb.js"><link rel="prefetch" href="/blog/assets/Node.js_KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½ æŒæ¡KOA2æœåŠ¡ç«¯å¼€å‘.html.afce3e65.js"><link rel="prefetch" href="/blog/assets/Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›® å‰ç«¯æ™‹å‡å…¨æ ˆå·¥ç¨‹å¸ˆå¿…å¤‡.html.421251b0.js"><link rel="prefetch" href="/blog/assets/Vueå…¨å®¶æ¡¶_SSR_Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘.html.fc2b0d45.js"><link rel="prefetch" href="/blog/assets/vueä½¿ç”¨.html.ae47c623.js"><link rel="prefetch" href="/blog/assets/VUEé¡¹ç›®æ„å»ºä¸å¼€å‘å…¥é—¨.html.5b420c34.js"><link rel="prefetch" href="/blog/assets/å¾®ä¿¡å°ç¨‹åº.html.8b035fcd.js"><link rel="prefetch" href="/blog/assets/Git åŸç†è¯¦è§£åŠå®ç”¨æŒ‡å—.html.1d9a19ab.js"><link rel="prefetch" href="/blog/assets/Git.html.0dc9b5a8.js"><link rel="prefetch" href="/blog/assets/HTTPåè®®åŸç†_å®è·µ Webå¼€å‘å·¥ç¨‹å¸ˆå¿…å­¦.html.e8902f71.js"><link rel="prefetch" href="/blog/assets/JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ.html.7dda8a61.js"><link rel="prefetch" href="/blog/assets/JavaScriptæ­£åˆ™è¿·ä½ ä¹¦.html.c969b56a.js"><link rel="prefetch" href="/blog/assets/linuxå‘½ä»¤.html.ea893578.js"><link rel="prefetch" href="/blog/assets/TypeScript å…¥é—¨å®æˆ˜ç¬”è®°.html.860cfb75.js"><link rel="prefetch" href="/blog/assets/TypeScript.html.95ef3162.js"><link rel="prefetch" href="/blog/assets/å‰å°_ä¸­å°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.aaddce35.js"><link rel="prefetch" href="/blog/assets/åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.ac5fe8de.js"><link rel="prefetch" href="/blog/assets/å›¾è§£HTTP.html.00602da8.js"><link rel="prefetch" href="/blog/assets/æ­£åˆ™è¡¨è¾¾å¼.html.7e4b1c0d.js"><link rel="prefetch" href="/blog/assets/è®¡ç®—æœºç½‘ç»œå¿…çŸ¥å¿…ä¼š.html.5dfe3ab9.js"><link rel="prefetch" href="/blog/assets/é‡å­¦å‰ç«¯.html.5a36eef1.js"><link rel="prefetch" href="/blog/assets/CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.50d80a72.js"><link rel="prefetch" href="/blog/assets/JSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.7ff37d85.js"><link rel="prefetch" href="/blog/assets/CSS.html.c6d43320.js"><link rel="prefetch" href="/blog/assets/HTML.html.20d4300f.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.90a8cef2.js"><link rel="prefetch" href="/blog/assets/Node.js.html.7bda453d.js"><link rel="prefetch" href="/blog/assets/Vue.html.98d3f868.js"><link rel="prefetch" href="/blog/assets/Vue3.html.39daba74.js"><link rel="prefetch" href="/blog/assets/vueçš„diffç®—æ³•.html.4bf94362.js"><link rel="prefetch" href="/blog/assets/Webpack.html.188b3235.js"><link rel="prefetch" href="/blog/assets/å…¶å®ƒ.html.cfbdca30.js"><link rel="prefetch" href="/blog/assets/åŸºç¡€é¢è¯•é¢˜.html.20a16f1b.js"><link rel="prefetch" href="/blog/assets/ç¬”è¯•é¢˜.html.bf947a00.js"><link rel="prefetch" href="/blog/assets/é€šä¿¡ç±».html.dcc24034.js"><link rel="prefetch" href="/blog/assets/é¢è¯•çœŸé¢˜2022.html.e5e23099.js"><link rel="prefetch" href="/blog/assets/404.html.83136f9a.js"><link rel="prefetch" href="/blog/assets/index.html.cfd3ef64.js"><link rel="prefetch" href="/blog/assets/Koa2æ–°æµªåšå®¢.html.87d9fee5.js"><link rel="prefetch" href="/blog/assets/Node.js_KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½ æŒæ¡KOA2æœåŠ¡ç«¯å¼€å‘.html.1609d1ef.js"><link rel="prefetch" href="/blog/assets/Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›® å‰ç«¯æ™‹å‡å…¨æ ˆå·¥ç¨‹å¸ˆå¿…å¤‡.html.1cea4a67.js"><link rel="prefetch" href="/blog/assets/Vueå…¨å®¶æ¡¶_SSR_Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘.html.cad7abaa.js"><link rel="prefetch" href="/blog/assets/vueä½¿ç”¨.html.e65ba84c.js"><link rel="prefetch" href="/blog/assets/VUEé¡¹ç›®æ„å»ºä¸å¼€å‘å…¥é—¨.html.390c32ab.js"><link rel="prefetch" href="/blog/assets/å¾®ä¿¡å°ç¨‹åº.html.58bb76ee.js"><link rel="prefetch" href="/blog/assets/Git åŸç†è¯¦è§£åŠå®ç”¨æŒ‡å—.html.2f4e0894.js"><link rel="prefetch" href="/blog/assets/Git.html.fcd82fd9.js"><link rel="prefetch" href="/blog/assets/HTTPåè®®åŸç†_å®è·µ Webå¼€å‘å·¥ç¨‹å¸ˆå¿…å­¦.html.5b902a68.js"><link rel="prefetch" href="/blog/assets/JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ.html.fb455391.js"><link rel="prefetch" href="/blog/assets/JavaScriptæ­£åˆ™è¿·ä½ ä¹¦.html.2babef51.js"><link rel="prefetch" href="/blog/assets/linuxå‘½ä»¤.html.675f1e06.js"><link rel="prefetch" href="/blog/assets/TypeScript å…¥é—¨å®æˆ˜ç¬”è®°.html.d96b970a.js"><link rel="prefetch" href="/blog/assets/TypeScript.html.5d2da6d3.js"><link rel="prefetch" href="/blog/assets/å‰å°_ä¸­å°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.46cf965e.js"><link rel="prefetch" href="/blog/assets/åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ.html.c6016d65.js"><link rel="prefetch" href="/blog/assets/å›¾è§£HTTP.html.df775ad1.js"><link rel="prefetch" href="/blog/assets/æ­£åˆ™è¡¨è¾¾å¼.html.973dec70.js"><link rel="prefetch" href="/blog/assets/è®¡ç®—æœºç½‘ç»œå¿…çŸ¥å¿…ä¼š.html.dfe7c550.js"><link rel="prefetch" href="/blog/assets/é‡å­¦å‰ç«¯.html.1790b181.js"><link rel="prefetch" href="/blog/assets/CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.d302c22a.js"><link rel="prefetch" href="/blog/assets/JSå¸¸ç”¨ä»£ç ç‰‡æ®µ.html.a83d587f.js"><link rel="prefetch" href="/blog/assets/CSS.html.3984dad9.js"><link rel="prefetch" href="/blog/assets/HTML.html.d6ff6031.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.68251196.js"><link rel="prefetch" href="/blog/assets/Node.js.html.a0fbc146.js"><link rel="prefetch" href="/blog/assets/Vue.html.6e707b75.js"><link rel="prefetch" href="/blog/assets/Vue3.html.97b68ea0.js"><link rel="prefetch" href="/blog/assets/vueçš„diffç®—æ³•.html.2828a427.js"><link rel="prefetch" href="/blog/assets/Webpack.html.b9d5b90d.js"><link rel="prefetch" href="/blog/assets/å…¶å®ƒ.html.6a9d2266.js"><link rel="prefetch" href="/blog/assets/åŸºç¡€é¢è¯•é¢˜.html.3e6fee16.js"><link rel="prefetch" href="/blog/assets/ç¬”è¯•é¢˜.html.d0419d19.js"><link rel="prefetch" href="/blog/assets/é€šä¿¡ç±».html.e24a1a88.js"><link rel="prefetch" href="/blog/assets/é¢è¯•çœŸé¢˜2022.html.6659e419.js"><link rel="prefetch" href="/blog/assets/404.html.ed9f6cfc.js"><link rel="prefetch" href="/blog/assets/giscus.15440425.js"><link rel="prefetch" href="/blog/assets/photoswipe.esm.382b1873.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/blog/" class="brand"><!----><!----><span class="site-name">æ²§æµ·çš„é›¨å­£</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%982022.html" class="nav-link" aria-label="é¢è¯•é¢˜åº“"><!---->é¢è¯•é¢˜åº“<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¸¸ç”¨ä»£ç ç‰‡æ®µ"><span class="title"><!---->å¸¸ç”¨ä»£ç ç‰‡æ®µ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/CSS%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html" class="nav-link" aria-label="CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ"><!---->CSSå¸¸ç”¨ä»£ç ç‰‡æ®µ<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/JS%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html" class="nav-link" aria-label="JSå¸¸ç”¨ä»£ç ç‰‡æ®µ"><!---->JSå¸¸ç”¨ä»£ç ç‰‡æ®µ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‰ç«¯ç¬”è®°"><span class="title"><!---->å‰ç«¯ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html" class="router-link-active router-link-exact-active nav-link active" aria-label="æ·±å…¥ç†è§£ES6"><!---->æ·±å…¥ç†è§£ES6<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" class="nav-link" aria-label="æ­£åˆ™è¡¨è¾¾å¼"><!---->æ­£åˆ™è¡¨è¾¾å¼<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/JavaScript%E6%AD%A3%E5%88%99%E8%BF%B7%E4%BD%A0%E4%B9%A6.html" class="nav-link" aria-label="JavaScriptæ­£åˆ™è¿·ä½ ä¹¦"><!---->JavaScriptæ­£åˆ™è¿·ä½ ä¹¦<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/JavaScript%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A0%B8%E2%BC%BC%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E2%BD%A4%E5%AE%9E%E8%B7%B5.html" class="nav-link" aria-label="JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ"><!---->JavaScript è®¾è®¡æ¨¡å¼æ ¸â¼¼åŸç†ä¸åº”â½¤å®è·µ<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/TypeScript.html" class="nav-link" aria-label="TypeScript"><!---->TypeScript<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/linux%E5%91%BD%E4%BB%A4.html" class="nav-link" aria-label="linuxå‘½ä»¤"><!---->linuxå‘½ä»¤<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/HTTP%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86+%E5%AE%9E%E8%B7%B5%20Web%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%BF%85%E5%AD%A6.html" class="nav-link" aria-label="HTTPåè®®åŸç†"><!---->HTTPåè®®åŸç†<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%A7%A3HTTP.html" class="nav-link" aria-label="å›¾è§£HTTP"><!---->å›¾è§£HTTP<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%90%8E%E5%8F%B0%E9%80%9A%E7%94%A8%E6%8F%90%E6%95%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html" class="nav-link" aria-label="åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ"><!---->åå°é€šç”¨ææ•ˆè§£å†³æ–¹æ¡ˆ<!----></a></li><li class="dropdown-item"><a href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/Git.html" class="nav-link" aria-label="Git"><!---->Git<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Vue"><span class="title"><!---->Vue</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/vue/vue%E4%BD%BF%E7%94%A8.html" class="nav-link" aria-label="Vueä½¿ç”¨"><!---->Vueä½¿ç”¨<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å°ç¨‹åº"><span class="title"><!---->å°ç¨‹åº</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" class="nav-link" aria-label="å¾®ä¿¡å°ç¨‹åº"><!---->å¾®ä¿¡å°ç¨‹åº<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Node.js"><span class="title"><!---->Node.js</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/Node.js/Node.js%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%8F%91Web%20Server%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE%20%E5%89%8D%E7%AB%AF%E6%99%8B%E5%8D%87%E5%85%A8%E6%A0%88%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%BF%85%E5%A4%87.html" class="nav-link" aria-label="Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›®"><!---->Node.jsä»é›¶å¼€å‘Web Serveråšå®¢é¡¹ç›®<!----></a></li><li class="dropdown-item"><a href="/blog/Node.js/Node.js+KOA2%20%E4%BB%8E0%E5%88%B01%E6%89%93%E9%80%A0%E8%B6%85%E5%A5%BD%E7%94%A8Web%E6%A1%86%E6%9E%B6%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D%20%E6%8E%8C%E6%8F%A1KOA2%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91.html" class="nav-link" aria-label="Node.js+KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½"><!---->Node.js+KOA2 ä»0åˆ°1æ‰“é€ è¶…å¥½ç”¨Webæ¡†æ¶ä¸€æ­¥åˆ°ä½<!----></a></li><li class="dropdown-item"><a href="/blog/Node.js/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6+SSR+Koa2%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E7%BE%8E%E5%9B%A2%E7%BD%91.html" class="nav-link" aria-label="Vueå…¨å®¶æ¡¶+SSR+Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘"><!---->Vueå…¨å®¶æ¡¶+SSR+Koa2å…¨æ ˆå¼€å‘ç¾å›¢ç½‘<!----></a></li><li class="dropdown-item"><a href="/blog/Node.js/Koa2%E6%96%B0%E6%B5%AA%E5%8D%9A%E5%AE%A2.html" class="nav-link" aria-label="Koa2æ–°æµªåšå®¢"><!---->Koa2æ–°æµªåšå®¢<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://gitee.com/l544402029/blog" target="_blank" rel="noopener noreferrer" aria-label="gitee"><svg xmlns="http://www.w3.org/2000/svg" class="icon gitee-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="gitee icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm242.97-533.34H482.39a23.7 23.7 0 0 0-23.7 23.7l-.03 59.28c0 13.08 10.59 23.7 23.7 23.7h165.96a23.7 23.7 0 0 1 23.7 23.7v11.85a71.1 71.1 0 0 1-71.1 71.1H375.71a23.7 23.7 0 0 1-23.7-23.7V423.11a71.1 71.1 0 0 1 71.1-71.1h331.8a23.7 23.7 0 0 0 23.7-23.7l.06-59.25a23.73 23.73 0 0 0-23.7-23.73H423.11a177.78 177.78 0 0 0-177.78 177.75v331.83c0 13.08 10.62 23.7 23.7 23.7h349.62a159.99 159.99 0 0 0 159.99-159.99V482.33a23.7 23.7 0 0 0-23.7-23.7z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon creative"></span><span class="title">é¢è¯•é¢˜åº“</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%982022.html" class="nav-link sidebar-link sidebar-page" aria-label="é¢è¯•çœŸé¢˜2022"><!---->é¢è¯•çœŸé¢˜2022<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E9%80%9A%E4%BF%A1%E7%B1%BB.html" class="nav-link sidebar-link sidebar-page" aria-label="é€šä¿¡ç±»"><!---->é€šä¿¡ç±»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/HTML.html" class="nav-link sidebar-link sidebar-page" aria-label="HTML"><!---->HTML<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/CSS.html" class="nav-link sidebar-link sidebar-page" aria-label="CSS"><!---->CSS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/JavaScript.html" class="nav-link sidebar-link sidebar-page" aria-label="JavaScript"><!---->JavaScript<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E7%AC%94%E8%AF%95%E9%A2%98.html" class="nav-link sidebar-link sidebar-page" aria-label="ç¬”è¯•é¢˜"><!---->ç¬”è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Vue.html" class="nav-link sidebar-link sidebar-page" aria-label="Vue"><!---->Vue<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Vue3.html" class="nav-link sidebar-link sidebar-page" aria-label="Vue3"><!---->Vue3<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Webpack.html" class="nav-link sidebar-link sidebar-page" aria-label="Webpack"><!---->Webpack<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/Node.js.html" class="nav-link sidebar-link sidebar-page" aria-label="Node.js"><!---->Node.js<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/%E5%85%B6%E5%AE%83.html" class="nav-link sidebar-link sidebar-page" aria-label="å…¶å®ƒ"><!---->å…¶å®ƒ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/vue%E7%9A%84diff%E7%AE%97%E6%B3%95.html" class="nav-link sidebar-link sidebar-page" aria-label="vueçš„diffç®—æ³•"><!---->vueçš„diffç®—æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->æ·±å…¥ç†è§£ ES6</h1><div class="page-info"><!----><!----><span class="date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>September 14, 2022</span><meta property="datePublished" content="2022-09-14T06:06:01.000Z"></span><!----><!----><span class="reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down" localizeddate="September 14, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 74 min</span><meta property="timeRequired" content="PT74M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#let-å’Œ-const" class="router-link-active router-link-exact-active toc-link level2">let å’Œ const</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å—çº§ä½œç”¨åŸŸ" class="router-link-active router-link-exact-active toc-link level3">å—çº§ä½œç”¨åŸŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜" class="router-link-active router-link-exact-active toc-link level3">å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ä¸èƒ½é‡å¤å£°æ˜" class="router-link-active router-link-exact-active toc-link level3">ä¸èƒ½é‡å¤å£°æ˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼" class="router-link-active router-link-exact-active toc-link level2">å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å­—ç¬¦ä¸²æ¨¡æ¿" class="router-link-active router-link-exact-active toc-link level2">å­—ç¬¦ä¸²æ¨¡æ¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å‡½æ•°" class="router-link-active router-link-exact-active toc-link level2">å‡½æ•°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å‡½æ•°å½¢å‚çš„é»˜è®¤å€¼" class="router-link-active router-link-exact-active toc-link level3">å‡½æ•°å½¢å‚çš„é»˜è®¤å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¤„ç†æ— å‘½åå‚æ•°" class="router-link-active router-link-exact-active toc-link level3">å¤„ç†æ— å‘½åå‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å±•å¼€è¿ç®—ç¬¦" class="router-link-active router-link-exact-active toc-link level3">å±•å¼€è¿ç®—ç¬¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#name-å±æ€§" class="router-link-active router-link-exact-active toc-link level3">name å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ˜ç¡®å‡½æ•°çš„å¤šé‡ç”¨é€”" class="router-link-active router-link-exact-active toc-link level3">æ˜ç¡®å‡½æ•°çš„å¤šé‡ç”¨é€”</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç®­å¤´å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">ç®­å¤´å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å°¾è°ƒç”¨ä¼˜åŒ–" class="router-link-active router-link-exact-active toc-link level3">å°¾è°ƒç”¨ä¼˜åŒ–</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å­—ç¬¦ä¸²æ‰©å±•" class="router-link-active router-link-exact-active toc-link level2">å­—ç¬¦ä¸²æ‰©å±•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¸¸è§ç”¨é€”" class="router-link-active router-link-exact-active toc-link level3">å¸¸è§ç”¨é€”</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½æ€§" class="router-link-active router-link-exact-active toc-link level2">æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½æ€§</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¯¹è±¡å­—é¢é‡è¯­æ³•æ‰©å±•" class="router-link-active router-link-exact-active toc-link level3">å¯¹è±¡å­—é¢é‡è¯­æ³•æ‰©å±•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ–°å¢æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">æ–°å¢æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¢å¼ºå¯¹è±¡åŸå‹" class="router-link-active router-link-exact-active toc-link level3">å¢å¼ºå¯¹è±¡åŸå‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#è§£æ„-ä½¿æ•°æ®è®¿é—®æ›´ä¾¿æ·" class="router-link-active router-link-exact-active toc-link level2">è§£æ„ï¼šä½¿æ•°æ®è®¿é—®æ›´ä¾¿æ·</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¯¹è±¡è§£æ„" class="router-link-active router-link-exact-active toc-link level3">å¯¹è±¡è§£æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ•°ç»„è§£æ„" class="router-link-active router-link-exact-active toc-link level3">æ•°ç»„è§£æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ··åˆè§£æ„" class="router-link-active router-link-exact-active toc-link level3">æ··åˆè§£æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#è§£æ„å‚æ•°" class="router-link-active router-link-exact-active toc-link level3">è§£æ„å‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç”¨é€”" class="router-link-active router-link-exact-active toc-link level3">ç”¨é€”</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#symbol-å’Œ-symbol-å±æ€§" class="router-link-active router-link-exact-active toc-link level2">Symbol å’Œ Symbol å±æ€§</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åˆ›å»º-symbol" class="router-link-active router-link-exact-active toc-link level3">åˆ›å»º Symbol</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#symbol-çš„ä½¿ç”¨æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">Symbol çš„ä½¿ç”¨æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#symbol-å…±äº«ä½“ç³»" class="router-link-active router-link-exact-active toc-link level3">Symbol å…±äº«ä½“ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#symbol-ä¸ç±»å‹å¼ºåˆ¶è½¬æ¢" class="router-link-active router-link-exact-active toc-link level3">Symbol ä¸ç±»å‹å¼ºåˆ¶è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#symbol-å±æ€§æ£€ç´¢" class="router-link-active router-link-exact-active toc-link level3">Symbol å±æ€§æ£€ç´¢</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#set-é›†åˆä¸-map-é›†åˆ" class="router-link-active router-link-exact-active toc-link level2">Set é›†åˆä¸ Map é›†åˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#set-é›†åˆä¸-map-é›†åˆ-1" class="router-link-active router-link-exact-active toc-link level3">Set é›†åˆä¸ Map é›†åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#es6-ä¸­çš„-set-é›†åˆ" class="router-link-active router-link-exact-active toc-link level3">ES6 ä¸­çš„ Set é›†åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#weak-set-é›†åˆ" class="router-link-active router-link-exact-active toc-link level3">Weak Set é›†åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#es6-ä¸­çš„-map-é›†åˆ" class="router-link-active router-link-exact-active toc-link level3">ES6 ä¸­çš„ Map é›†åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#weakset-é›†åˆ" class="router-link-active router-link-exact-active toc-link level3">WeakSet é›†åˆ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#è¿­ä»£å™¨-iterator-å’Œç”Ÿæˆå™¨-generator" class="router-link-active router-link-exact-active toc-link level2">è¿­ä»£å™¨(iterator)å’Œç”Ÿæˆå™¨(Generator)</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨" class="router-link-active router-link-exact-active toc-link level3">ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¯è®¿é—®å¯¹è±¡ä¸-for-of-å¾ªç¯" class="router-link-active router-link-exact-active toc-link level3">å¯è®¿é—®å¯¹è±¡ä¸ for-of å¾ªç¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#è®¿é—®é»˜è®¤è¿­ä»£å™¨" class="router-link-active router-link-exact-active toc-link level3">è®¿é—®é»˜è®¤è¿­ä»£å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å†…å»ºè¿­ä»£å™¨" class="router-link-active router-link-exact-active toc-link level3">å†…å»ºè¿­ä»£å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#iterator" class="router-link-active router-link-exact-active toc-link level3">iterator</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#generator" class="router-link-active router-link-exact-active toc-link level3">Generator</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#javascript-ä¸­çš„ç±»" class="router-link-active router-link-exact-active toc-link level2">JavaScript ä¸­çš„ç±»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#es5-ä¸­çš„è¿‘ç±»ç»“æ„" class="router-link-active router-link-exact-active toc-link level3">ES5 ä¸­çš„è¿‘ç±»ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç±»çš„å£°æ˜" class="router-link-active router-link-exact-active toc-link level3">ç±»çš„å£°æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#è®¿é—®å™¨å±æ€§" class="router-link-active router-link-exact-active toc-link level3">è®¿é—®å™¨å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç»§æ‰¿" class="router-link-active router-link-exact-active toc-link level3">ç»§æ‰¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åœ¨ç±»æ„é€ å™¨ä¸­ä½¿ç”¨-new-target" class="router-link-active router-link-exact-active toc-link level3">åœ¨ç±»æ„é€ å™¨ä¸­ä½¿ç”¨ new.target</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#decorator" class="router-link-active router-link-exact-active toc-link level3">Decorator</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç”¨-decorators-ä¿®é¥°å™¨åšå‰ç«¯åŸ‹ç‚¹" class="router-link-active router-link-exact-active toc-link level3">ç”¨ Decorators ä¿®é¥°å™¨åšå‰ç«¯åŸ‹ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ€»ç»“" class="router-link-active router-link-exact-active toc-link level3">æ€»ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ”¹è¿›çš„æ•°ç»„åŠŸèƒ½" class="router-link-active router-link-exact-active toc-link level2">æ”¹è¿›çš„æ•°ç»„åŠŸèƒ½</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åˆ›å»ºæ•°ç»„" class="router-link-active router-link-exact-active toc-link level3">åˆ›å»ºæ•°ç»„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ‰€æœ‰æ•°ç»„ä¸Šçš„æ–°æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">æ‰€æœ‰æ•°ç»„ä¸Šçš„æ–°æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç±»å‹åŒ–æ•°ç»„" class="router-link-active router-link-exact-active toc-link level3">ç±»å‹åŒ–æ•°ç»„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„çš„ç›¸ä¼¼ç‚¹" class="router-link-active router-link-exact-active toc-link level3">ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„çš„ç›¸ä¼¼ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ€»ç»“-1" class="router-link-active router-link-exact-active toc-link level3">æ€»ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#promise-ä¸å¼‚æ­¥ç¼–ç¨‹" class="router-link-active router-link-exact-active toc-link level2">Promise ä¸å¼‚æ­¥ç¼–ç¨‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¼‚æ­¥ç¼–ç¨‹èƒŒæ™¯" class="router-link-active router-link-exact-active toc-link level3">å¼‚æ­¥ç¼–ç¨‹èƒŒæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#promise-åŸºç¡€" class="router-link-active router-link-exact-active toc-link level3">Promise åŸºç¡€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åˆ›å»ºå·²å†³çš„-promise" class="router-link-active router-link-exact-active toc-link level3">åˆ›å»ºå·²å†³çš„ Promise</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åœ¨-promise-é“¾ä¸­è¿”å›å€¼" class="router-link-active router-link-exact-active toc-link level3">åœ¨ Promise é“¾ä¸­è¿”å›å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å“åº”å¤šä¸ª-promise" class="router-link-active router-link-exact-active toc-link level3">å“åº”å¤šä¸ª Promise</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æœªæ¥çš„å¼‚æ­¥ä»»åŠ¡è¿è¡Œ" class="router-link-active router-link-exact-active toc-link level3">æœªæ¥çš„å¼‚æ­¥ä»»åŠ¡è¿è¡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ€»ç»“-2" class="router-link-active router-link-exact-active toc-link level3">æ€»ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ä»£ç†-proxy-å’Œåå°„-reflection-api" class="router-link-active router-link-exact-active toc-link level2">ä»£ç†(Proxy)å’Œåå°„(Reflection)API</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#proxy-ä¸-reflect" class="router-link-active router-link-exact-active toc-link level2">Proxy ä¸ Reflect</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#reflect" class="router-link-active router-link-exact-active toc-link level3">Reflect</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç”¨æ¨¡å—å°è£…ä»£ç " class="router-link-active router-link-exact-active toc-link level2">ç”¨æ¨¡å—å°è£…ä»£ç </a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ä½•ä¸ºæ¨¡å—" class="router-link-active router-link-exact-active toc-link level3">ä½•ä¸ºæ¨¡å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åŸºæœ¬çš„å¯¼å‡º" class="router-link-active router-link-exact-active toc-link level3">åŸºæœ¬çš„å¯¼å‡º</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#åŸºæœ¬çš„å¯¼å…¥" class="router-link-active router-link-exact-active toc-link level3">åŸºæœ¬çš„å¯¼å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å®Œå…¨å¯¼å…¥ä¸€ä¸ªæ¨¡å—" class="router-link-active router-link-exact-active toc-link level3">å®Œå…¨å¯¼å…¥ä¸€ä¸ªæ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¯¼å…¥ç»‘å®šçš„ä¸€ä¸ªå¾®å¦™æ€ªå¼‚ç‚¹" class="router-link-active router-link-exact-active toc-link level3">å¯¼å…¥ç»‘å®šçš„ä¸€ä¸ªå¾®å¦™æ€ªå¼‚ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¯¼å‡ºé»˜è®¤å€¼" class="router-link-active router-link-exact-active toc-link level3">å¯¼å‡ºé»˜è®¤å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#å¯¼å…¥é»˜è®¤å€¼" class="router-link-active router-link-exact-active toc-link level3">å¯¼å…¥é»˜è®¤å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#ç»‘å®šçš„å†å¯¼å‡º" class="router-link-active router-link-exact-active toc-link level3">ç»‘å®šçš„å†å¯¼å‡º</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ— ç»‘å®šçš„å¯¼å…¥" class="router-link-active router-link-exact-active toc-link level3">æ— ç»‘å®šçš„å¯¼å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æœ€ä½³å®è·µ" class="router-link-active router-link-exact-active toc-link level3">æœ€ä½³å®è·µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#æ€»ç»“-3" class="router-link-active router-link-exact-active toc-link level3">æ€»ç»“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#é™„å½•-a" class="router-link-active router-link-exact-active toc-link level2">é™„å½• A</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20ES6.html#é™„å½•-b" class="router-link-active router-link-exact-active toc-link level2">é™„å½• B</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="æ·±å…¥ç†è§£-es6" tabindex="-1"><a class="header-anchor" href="#æ·±å…¥ç†è§£-es6" aria-hidden="true">#</a> æ·±å…¥ç†è§£ ES6</h1><h2 id="let-å’Œ-const" tabindex="-1"><a class="header-anchor" href="#let-å’Œ-const" aria-hidden="true">#</a> let å’Œ const</h2><h3 id="å—çº§ä½œç”¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#å—çº§ä½œç”¨åŸŸ" aria-hidden="true">#</a> å—çº§ä½œç”¨åŸŸ</h3><p>let å’Œ const éƒ½æ˜¯å±äºå—ä½œç”¨åŸŸï¼Œåœ¨å—ä½œç”¨åŸŸä¹‹å¤–ä¸å­˜åœ¨ï¼Œå¯ä»¥ç†è§£ä¸ºå¤§æ‹¬å·å†…å°±æ˜¯å—ä½œç”¨åŸŸï¼›</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤–å±‚ä»£ç å—ä¸ä¼šå—å†…å±‚ä»£ç å½±å“ï¼Œå¦‚ä¸Šï¼Œæœ€åè¾“å‡º 5ã€‚å¦‚æœä½¿ç”¨<code>var</code>ï¼Œæœ€åè¾“å‡ºä¼šæ˜¯ 10ã€‚</p><h3 id="å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜" tabindex="-1"><a class="header-anchor" href="#å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜" aria-hidden="true">#</a> å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;I am outside!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// é‡å¤å£°æ˜ä¸€æ¬¡å‡½æ•°f</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;I am inside!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä»£ç åœ¨ ES5 ä¸­ä¼šè¾“å‡º<code>I am inside!</code>,å› ä¸ºå‡½æ•°è¢«æåˆ°äº†å±€éƒ¨ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p><p>è€Œåœ¨ ES6 æµè§ˆå™¨å†…ä¼šæŠ¥é”™ï¼Œ åŸå› å°±åœ¨äºå¦‚æœæ”¹å˜å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°çš„å¤„ç†è§„åˆ™ï¼Œä¼šå¯¹è€ä»£ç äº§ç”Ÿå¾ˆå¤§å½±å“ï¼ŒES6 åœ¨é™„å½• B é‡Œé¢è§„å®šï¼Œæµè§ˆå™¨çš„å®ç°å¯ä»¥ä¸éµå®ˆä¸Šé¢çš„è§„å®šï¼Œæœ‰è‡ªå·±çš„è¡Œä¸ºæ–¹å¼ã€‚</p><ul><li>å…è®¸åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚</li><li>å‡½æ•°å£°æ˜ç±»ä¼¼äº varï¼Œå³ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚</li><li>åŒæ—¶ï¼Œå‡½æ•°å£°æ˜è¿˜ä¼šæå‡åˆ°æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚</li></ul><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p><p>ä¸Šé¢ä¸‰æ¡è§„åˆ™åªå¯¹ ES6 çš„æµè§ˆå™¨å®ç°æœ‰æ•ˆï¼Œå…¶ä»–ç¯å¢ƒçš„å®ç°ä¸ç”¨éµå®ˆï¼Œè¿˜æ˜¯å°†å—çº§ä½œç”¨åŸŸçš„å‡½æ•°å£°æ˜å½“ä½œ let å¤„ç†ã€‚</p></div><p>æ ¹æ®ä¸Šè¿° 3 æ¡è§„åˆ™ï¼Œæµè§ˆå™¨åœ¨ ES6 ç¯å¢ƒä¸­ï¼Œå—çº§ä½œç”¨åŸŸå£°æ˜çš„å‡½æ•°ç±»ä¼¼äº<code>var</code>å£°æ˜çš„å˜é‡ï¼Œå®é™…è¿è¡Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æµè§ˆå™¨çš„ ES6 ç¯å¢ƒ</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;I am outside!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;I am inside!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Uncaught TypeError: f is not a function</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€ƒè™‘åˆ°ç¯å¢ƒå¯¼è‡´çš„è¡Œä¸ºå·®å¼‚å¤ªå¤§ï¼Œåº”è¯¥é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚å¦‚æœç¡®å®éœ€è¦ï¼Œä¹Ÿåº”è¯¥å†™æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜è¯­å¥ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å—çº§ä½œç”¨åŸŸå†…éƒ¨çš„å‡½æ•°å£°æ˜è¯­å¥ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&#39;secret&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å—çº§ä½œç”¨åŸŸå†…éƒ¨ï¼Œä¼˜å…ˆä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&#39;secret&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸èƒ½é‡å¤å£°æ˜" tabindex="-1"><a class="header-anchor" href="#ä¸èƒ½é‡å¤å£°æ˜" aria-hidden="true">#</a> ä¸èƒ½é‡å¤å£°æ˜</h3><p>letã€const ä¸èƒ½é‡å¤å£°æ˜, ä¸æŒ‚è½½åœ¨ window</p><p>const å£°æ˜å¸¸é‡æ˜¯ä¸èƒ½ä¿®æ”¹å€¼çš„ã€‚ä½†æ˜¯å¦‚æœ const å£°æ˜çš„æ˜¯å¯¹è±¡ï¼Œå¯ä»¥ä¿®æ”¹å¯¹è±¡å†…å±æ€§ã€‚å› ä¸ºå¯¹è±¡è¿”å›çš„æ˜¯ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆä¸èƒ½ä¿®æ”¹ï¼Œä½†æ˜¯å¯¹è±¡å†…å±æ€§å¯ä»¥ä¿®æ”¹</p><h2 id="å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼" aria-hidden="true">#</a> å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼</h2><h2 id="å­—ç¬¦ä¸²æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²æ¨¡æ¿" aria-hidden="true">#</a> å­—ç¬¦ä¸²æ¨¡æ¿</h2><p>æ¨¡æ¿å­—ç¬¦ä¸²åµŒå¥—ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">tmpl</span> <span class="token operator">=</span> <span class="token parameter">addrs</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;table&gt;
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addrs
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
      <span class="token parameter">addr</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;tr&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addr<span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addr<span class="token punctuation">.</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;/tr&gt;
  </span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  &lt;/table&gt;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">first</span><span class="token operator">:</span> <span class="token string">&#39;&lt;Jane&gt;&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">last</span><span class="token operator">:</span> <span class="token string">&#39;Bond&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">first</span><span class="token operator">:</span> <span class="token string">&#39;Lars&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">last</span><span class="token operator">:</span> <span class="token string">&#39;&lt;Croft&gt;&#39;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tmpl</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &lt;table&gt;</span>
<span class="token comment">//</span>
<span class="token comment">//   &lt;tr&gt;&lt;td&gt;&lt;Jane&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="token comment">//   &lt;tr&gt;&lt;td&gt;Bond&lt;/td&gt;&lt;/tr&gt;</span>
<span class="token comment">//</span>
<span class="token comment">//   &lt;tr&gt;&lt;td&gt;Lars&lt;/td&gt;&lt;/tr&gt;</span>
<span class="token comment">//   &lt;tr&gt;&lt;td&gt;&lt;Croft&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="token comment">//</span>
<span class="token comment">// &lt;/table&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°" aria-hidden="true">#</a> å‡½æ•°</h2><h3 id="å‡½æ•°å½¢å‚çš„é»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å½¢å‚çš„é»˜è®¤å€¼" aria-hidden="true">#</a> å‡½æ•°å½¢å‚çš„é»˜è®¤å€¼</h3><h4 id="æ€è€ƒ" tabindex="-1"><a class="header-anchor" href="#æ€è€ƒ" aria-hidden="true">#</a> æ€è€ƒ</h4><p>è¯·é—®ä¸‹é¢ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿ</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å†™æ³•ä¸€</span>
<span class="token keyword">function</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å†™æ³•äºŒ</span>
<span class="token keyword">function</span> <span class="token function">m2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸¤ç§å†™æ³•éƒ½å¯¹å‡½æ•°çš„å‚æ•°è®¾å®šäº†é»˜è®¤å€¼ï¼ŒåŒºåˆ«æ˜¯å†™æ³•ä¸€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼æ˜¯ç©ºå¯¹è±¡ï¼Œä½†æ˜¯è®¾ç½®äº†å¯¹è±¡è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼ï¼›å†™æ³•äºŒå‡½æ•°å‚æ•°çš„é»˜è®¤å€¼æ˜¯ä¸€ä¸ªæœ‰å…·ä½“å±æ€§çš„å¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®å¯¹è±¡è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å‡½æ•°æ²¡æœ‰å‚æ•°çš„æƒ…å†µ</span>
<span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span>
<span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span>

<span class="token comment">// x å’Œ y éƒ½æœ‰å€¼çš„æƒ…å†µ</span>
<span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 8]</span>
<span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 8]</span>

<span class="token comment">// x æœ‰å€¼ï¼Œy æ— å€¼çš„æƒ…å†µ</span>
<span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 0]</span>
<span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, undefined]</span>

<span class="token comment">// x å’Œ y éƒ½æ— å€¼çš„æƒ…å†µ</span>
<span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0];</span>
<span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [undefined, undefined]</span>

<span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span>
<span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [undefined, undefined]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é»˜è®¤å‚æ•°å¯¹-arguments-å¯¹è±¡çš„å½±å“" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å‚æ•°å¯¹-arguments-å¯¹è±¡çš„å½±å“" aria-hidden="true">#</a> é»˜è®¤å‚æ•°å¯¹ arguments å¯¹è±¡çš„å½±å“</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//éä¸¥æ ¼æ¨¡å¼</span>
<span class="token keyword">function</span> <span class="token function">mixArgs</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> second <span class="token operator">=</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>first <span class="token operator">===</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>second <span class="token operator">===</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
  first <span class="token operator">=</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">;</span>
  second <span class="token operator">=</span> <span class="token string">&#39;d&#39;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>first <span class="token operator">===</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>second <span class="token operator">===</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
<span class="token punctuation">}</span>
<span class="token function">mixArgs</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>mixArgs()</code>æ–¹æ³•ä¸­åªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°, <code>arguments.length</code>çš„å€¼ä¸º 1ã€‚<code>arguments[1]</code>çš„å€¼ä¸º<code>undefined</code>ï¼Œ<code>first</code>ä¸<code>arguments[0]</code>å…¨ç­‰ï¼Œæ”¹å˜<code>first</code>å’Œ<code>second</code>å¹¶ä¸ä¼šå½±å“<code>arguments</code>å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡<code>arguments</code>å¯¹è±¡æ¥æŠŠå‚æ•°æ¢å¤ä¸ºåˆå§‹å€¼ã€‚</p><h4 id="é»˜è®¤å‚æ•°è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å‚æ•°è¡¨è¾¾å¼" aria-hidden="true">#</a> é»˜è®¤å‚æ•°è¡¨è¾¾å¼</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> second <span class="token operator">=</span> <span class="token function">getValue</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å£°æ˜<code>second=getValue(first)</code>,å°½ç®¡<code>add(1,1)</code>è¿”å› 2ï¼Œä½†æ˜¯<code>add(1)</code>è¿”å›çš„æ˜¯(1+6)ä¹Ÿå°±æ˜¯ 7ã€‚ æ³¨æ„,å‡½æ•°è°ƒç”¨ç»“æœä½œä¸ºé»˜è®¤å‚æ•°å€¼æ—¶ï¼Œå¦‚æœå¿˜è®°å†™å°æ‹¬å·ï¼Œåˆ™æœ€ç»ˆä¼ å…¥çš„æ˜¯å¯¹å‡½æ•°çš„å¼•ç”¨ã€‚</p><h4 id="é»˜è®¤å‚æ•°çš„ä¸´æ—¶æ­»åŒº" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å‚æ•°çš„ä¸´æ—¶æ­»åŒº" aria-hidden="true">#</a> é»˜è®¤å‚æ•°çš„ä¸´æ—¶æ­»åŒº</h4><p>é»˜è®¤å‚æ•°å¯ä»¥è·å–å‡½æ•°å‚æ•°ä¹‹å‰å®šä¹‰çš„å‚æ•°ï¼Œä½†æ˜¯å‰é¢çš„å‚æ•°ä¸å¯ä»¥è·å–åé¢çš„å‚æ•°ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸ºä¸´æ—¶æ­»åŒºã€‚</p><p>å‡½æ•°å‚æ•°æœ‰è‡ªå·±çš„ä½œç”¨åŸŸå’Œä¸´æ—¶æ­»åŒºï¼Œå…¶ä¸å‡½æ•°ä½“çš„ä½œç”¨åŸŸæ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‚æ•°çš„é»˜è®¤å€¼ä¸å¯è®¿é—®å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ã€‚</p><h3 id="å¤„ç†æ— å‘½åå‚æ•°" tabindex="-1"><a class="header-anchor" href="#å¤„ç†æ— å‘½åå‚æ•°" aria-hidden="true">#</a> å¤„ç†æ— å‘½åå‚æ•°</h3><p>ES5 ä¸­ä½¿ç”¨<code>arguments</code>å¯¹è±¡æ£€æŸ¥æ‰€æœ‰å‚æ•°</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å¤„ç†æ— å‘½åå‚æ•°</span>
<span class="token keyword">function</span> <span class="token function">pick</span><span class="token punctuation">(</span><span class="token parameter">object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> object<span class="token punctuation">[</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Understanding&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&#39;Nicholas C.Zakas&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2016</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bookData <span class="token operator">=</span> <span class="token function">pick</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token string">&#39;author&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;year&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bookData<span class="token punctuation">.</span>author<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bookData<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸å®šå‚æ•°" tabindex="-1"><a class="header-anchor" href="#ä¸å®šå‚æ•°" aria-hidden="true">#</a> ä¸å®šå‚æ•°</h4><p>ES6 ä½¿ç”¨<code>...</code>è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªä¸å®šå‚æ•°,è¯¥å‚æ•°ä¸ºæ•°ç»„ï¼ŒåŒ…å«ç€å‘½åå‚æ•°ä¹‹åæ‰€æœ‰ä¼ å…¥çš„å‚æ•°ï¼Œé€šè¿‡æ•°ç»„åå¯ä»¥é€ä¸€è®¿é—®é‡Œé¢çš„å‚æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">pick</span><span class="token punctuation">(</span><span class="token parameter">object<span class="token punctuation">,</span> <span class="token operator">...</span>keys</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> object<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Understanding&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&#39;Nicholas C.Zakas&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2016</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bookData <span class="token operator">=</span> <span class="token function">pick</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token string">&#39;author&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;year&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bookData<span class="token punctuation">.</span>author<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bookData<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡½æ•°çš„<code>length</code>å±æ€§ç»Ÿè®¡çš„æ˜¯å‘½åå‚æ•°çš„æ•°é‡ï¼Œä¸å®šå‚æ•°çš„åŠ å…¥ä¸ä¼šå½±å“<code>length</code>çš„å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­<code>pick()</code>å‡½æ•°çš„<code>length</code>å€¼ä¸º 1ã€‚å› ä¸ºåªä¼šè®¡ç®—<code>object</code>ã€‚</p><h5 id="ä¸å®šå‚æ•°çš„ä½¿ç”¨é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#ä¸å®šå‚æ•°çš„ä½¿ç”¨é™åˆ¶" aria-hidden="true">#</a> ä¸å®šå‚æ•°çš„ä½¿ç”¨é™åˆ¶</h5><p>é¦–å…ˆä¸€ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªä¸å®šå‚æ•°ï¼Œè€Œä¸”ä¸å®šå‚æ•°å¿…é¡»è¦æ”¾åœ¨æœ«å°¾ã€‚ å…¶æ¬¡ï¼Œä¸å®šå‚æ•°ä¸èƒ½ç”¨äºå¯¹è±¡å­—é¢é‡<code>setter</code>ä¸­ï¼Œä¹‹æ‰€ä»¥å­˜åœ¨è¿™æ¡é™åˆ¶ï¼Œæ˜¯å› ä¸ºå¯¹è±¡å­—é¢é‡<code>setter</code>çš„å‚æ•°æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªã€‚è€Œåœ¨ä¸å®šå‚æ•°çš„å®šä¹‰ä¸­ï¼Œå‚æ•°çš„æ•°é‡å¯ä»¥æ— é™å¤šï¼Œæ‰€ä»¥å½“å‰ä¸Šä¸‹æ–‡ä¸å…è®¸ä½¿ç”¨ä¸å®šå‚æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//è¯­æ³•é”™è¯¯,ä¸å¯ä»¥åœ¨setterä¸­ä½¿ç”¨ä¸å®šå‚æ•°</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//æ‰§è¡Œä¸€äº›é€»è¾‘</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å±•å¼€è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#å±•å¼€è¿ç®—ç¬¦" aria-hidden="true">#</a> å±•å¼€è¿ç®—ç¬¦</h3><p>ç”±äº<code>Math.max()</code>æ–¹æ³•ä¸å…è®¸ä¼ å…¥æ•°ç»„ï¼Œ æˆ‘ä»¬å¯ä»¥å€ŸåŠ©å±•å¼€è¿ç®—ç¬¦æ¥å®ç°è¿™ä¸ªæ“ä½œã€‚å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ä¸å…¶å®ƒæ­£å¸¸ä¼ å…¥çš„å‚æ•°æ··åˆä½¿ç”¨ã€‚å‡è®¾ä½ æƒ³é™å®š<code>Math.max()</code>è¿”å›å€¼çš„æœ€å°å€¼ä¸º 0(é˜²æ­¢è´Ÿæ•°å·å·æºœè¿›æ•°ç»„), å¯ä»¥å•ç‹¬ä¼ å…¥é™å®šå€¼, å…¶ä»–çš„å‚æ•°ä»ç„¶ä½¿ç”¨å å¡è¿ç®—ç¬¦å¾—åˆ°, å¦‚ä¸‹:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å±•å¼€è¿ç®—ç¬¦</span>
<span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>values<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="name-å±æ€§" tabindex="-1"><a class="header-anchor" href="#name-å±æ€§" aria-hidden="true">#</a> name å±æ€§</h3><h4 id="name-å±æ€§çš„ç‰¹æ®Šæƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#name-å±æ€§çš„ç‰¹æ®Šæƒ…å†µ" aria-hidden="true">#</a> name å±æ€§çš„ç‰¹æ®Šæƒ…å†µ</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//nameå±æ€§</span>
<span class="token keyword">var</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//ç©ºå‡½æ•°</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">firstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(this.name);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">&#39;firstName&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doSomething<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>sayName<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor<span class="token punctuation">.</span>get<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ¬ä¾‹ä¸­, <code>doSomething.name</code>çš„å€¼ä¸º<code>doSomethingElse</code>, æ˜¯ç”±äºå‡½æ•°è¡¨è¾¾å¼æœ‰ä¸€ä¸ªåå­—, è¿™ä¸ªåå­—è¦æ¯”å‡½æ•°æœ¬èº«è¢«èµ‹å€¼çš„å˜é‡æƒé‡é«˜ã€‚ <code>person.sayName</code>å±æ€§çš„èŒä½<code>&quot;sayName&quot;</code>, å…¶å€¼å–è‡ªå¯¹è±¡å­—é¢é‡, ä¸ä¹‹ç±»ä¼¼, <code>person.firstName</code>å®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>getter</code>å‡½æ•°, æ‰€ä»¥å®ƒçš„åç§°ä¸º<code>&quot;get firstName&quot;</code>,<code>setter</code>å‡½æ•°åç§°ä¸­ä¹Ÿæœ‰å‰ç¼€<code>set</code>ã€‚(<code>getter</code>å’Œ<code>setter</code>å‡½æ•°éƒ½å¿…é¡»ç”¨<code>Object.getOwnPropertyDescriptor</code>æ¥æ£€ç´¢)</p><p>å¦å¤–ä¸¤ä¸ªæœ‰å…³å‡½æ•°åç§°çš„ç‰¹ä¾‹:é€šè¿‡<code>bind()</code>å‡½æ•°åˆ›å»ºçš„å‡½æ•°, å…¶åç§°å¸¦æœ‰<code>bound</code>å‰ç¼€; é€šè¿‡<code>Function</code>æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°, å…¶åç§°å°†æ˜¯<code>anonymous</code>, å¦‚ä¸‹:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//&#39;ç©ºå‡½æ•°&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">doSomething</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;bound doSomething&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;anonymous&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ‡è®°, å‡½æ•°<code>name</code>å±æ€§çš„å€¼ä¸ä¸€å®šå¼•ç”¨åŒåå˜é‡, å®ƒåªæ˜¯ååŠ©è°ƒè¯•ç”¨çš„é¢å¤–ä¿¡æ¯, æ‰€ä»¥ä¸èƒ½ä½¿ç”¨<code>name</code>å±æ€§çš„å€¼æ¥è·å–å¯¹äºå‡½æ•°çš„å¼•ç”¨ã€‚</p><h3 id="æ˜ç¡®å‡½æ•°çš„å¤šé‡ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#æ˜ç¡®å‡½æ•°çš„å¤šé‡ç”¨é€”" aria-hidden="true">#</a> æ˜ç¡®å‡½æ•°çš„å¤šé‡ç”¨é€”</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> notPerson <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Person {name: &quot;&quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>notPerson<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JavaScript å‡½æ•°æœ‰ä¸¤ä¸ªä¸åŒçš„å†…éƒ¨æ–¹æ³•: [[Call]]å’Œ[[Construct]]ã€‚å½“ç”¨<code>new</code>å…³é”®å­—æ¥è°ƒç”¨å‡½æ•°æ—¶, æ‰§è¡Œçš„æ˜¯[[Construct]]å‡½æ•°, ä»–è´Ÿè´£åˆ›å»ºä¸€ä¸ªé€šå¸¸è¢«ç§°ä½œå®ä¾‹çš„æ–°å¯¹è±¡, ç„¶åå†æ‰§è¡Œå‡½æ•°ä½“, å°†<code>this</code>ç»‘å®šåˆ°å®ä¾‹ä¸Š; å¦‚æœä¸é€šè¿‡<code>new</code>å…³é”®å­—è°ƒç”¨å‡½æ•°, åˆ™æ‰§è¡Œ[[Call]]å‡½æ•°, ä»è€Œç›´æ¥æ‰§è¡Œä»£ç ä¸­çš„å‡½æ•°ä½“ã€‚å…·æœ‰[[Construct]]æ–¹æ³•çš„å‡½æ•°ç»Ÿç§°ä¸ºæ„é€ å‡½æ•°ã€‚ åˆ‡è®°, ä¸æ˜¯æ‰€æœ‰å‡½æ•°éƒ½æ‹¥æœ‰[[Construct]]æ–¹æ³•, å› æ­¤ä¸æ˜¯æ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥é€šè¿‡<code>new</code>æ¥è°ƒç”¨ã€‚ä¾‹å¦‚, ç®­å¤´å‡½æ•°å°±æ²¡æœ‰è¿™ä¸ª[[]Construct]æ–¹æ³•ã€‚</p><h4 id="å…ƒå±æ€§-new-target" tabindex="-1"><a class="header-anchor" href="#å…ƒå±æ€§-new-target" aria-hidden="true">#</a> å…ƒå±æ€§ new.target</h4><p>å½“è°ƒç”¨å‡½æ•°çš„[[Construct]]æ–¹æ³•æ—¶, <code>new.target</code>è¢«èµ‹å€¼ä¸º<code>new</code>æ“ä½œç¬¦çš„ç›®æ ‡, é€šå¸¸æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡å®ä¾‹, ä¹Ÿå°±æ˜¯å‡½æ•°ä½“å†…<code>this</code>çš„æ„é€ å‡½æ•°; å¦‚æœè°ƒç”¨[[Call]]æ–¹æ³•, åˆ™<code>new.target</code>çš„å€¼ä¸º<code>undefined</code>ã€‚é€šè¿‡è¿™ä¸ªå±æ€§,å¯ä»¥å®‰å…¨çš„æ£€æµ‹ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ˜¯é€šè¿‡<code>new</code>å…³é”®å­—è°ƒç”¨çš„;ä¹Ÿå¯ä»¥ç”¨æ¥æ£€æŸ¥æ˜¯å¦è¢«æŸä¸ªç‰¹å®šæ„é€ å‡½æ•°æ‰€è°ƒç”¨, å¦‚ä¸‹:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;å¿…é¡»é€šè¿‡newå…³é”®å­—æ¥è°ƒç”¨Person&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">AnotherPerson</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> anotherPerson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnotherPerson</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŠ›å‡ºé”™è¯¯</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¦è®©ç¨‹åºæ­£ç¡®è¿è¡Œ, <code>new.target</code>ä¸€å®šæ˜¯<code>Person</code>ã€‚å½“è°ƒç”¨<code>new AnotherPerson(&quot;Nicholas&quot;)</code>æ—¶, çœŸæ­£è°ƒç”¨çš„<code>Person.call(this,name)</code>, æ²¡æœ‰ä½¿ç”¨<code>new</code>å…³é”®å­—, å› æ­¤ <code>new.target</code>çš„å€¼ä¸º<code>undefined</code>ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><p>åœ¨å‡½æ•°å¤–ä½¿ç”¨<code>new.target</code>æ˜¯ä¸€ä¸ªè¯­æ³•é”™è¯¯ã€‚</p><h3 id="ç®­å¤´å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°</h3><h4 id="ä¸ä¼ ç»Ÿå‡½æ•°åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ä¸ä¼ ç»Ÿå‡½æ•°åŒºåˆ«" aria-hidden="true">#</a> ä¸ä¼ ç»Ÿå‡½æ•°åŒºåˆ«:</h4><ul><li><strong>æ²¡æœ‰ thisã€superã€argumentsã€å’Œ new.target ç»‘å®š</strong>ã€‚è¿™äº›å€¼ç”±å¤–å›´æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°å†³å®šã€‚</li><li><strong>ä¸èƒ½é€šè¿‡ new å…³é”®å­—è°ƒç”¨ã€‚</strong> ç®­å¤´å‡½æ•°æ²¡æœ‰[[Construct]]æ–¹æ³•, ä¸èƒ½è¢«ç”¨ä½œæ„é€ å‡½æ•°ã€‚</li><li><strong>æ²¡æœ‰åŸå‹ã€‚</strong> ç”±äºä¸å¯ä»¥é€šè¿‡ new å…³é”®å­—æ¥è°ƒç”¨ç®­å¤´å‡½æ•°, å› è€Œæ²¡æœ‰æ„é€ åŸå‹çš„éœ€æ±‚, æ‰€ä»¥ä¸å­˜åœ¨ prototype è¿™ä¸ªå±æ€§ã€‚</li><li><strong>ä¸å¯ä»¥æ”¹å˜ this ç»‘å®š</strong>ã€‚å‡½æ•°å†…éƒ¨çš„ this å€¼ä¸å¯è¢«æ”¹å˜, åœ¨å‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸå†…å§‹ç»ˆä¿æŒä¸€è‡´ã€‚</li><li><strong>ä¸æ”¯æŒ arguments å¯¹è±¡</strong> ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments ç»‘å®š, æ‰€ä»¥å¿…é¡»é€šè¿‡å‘½åå‚æ•°å’Œä¸å®šå‚æ•°æ¥è®¿é—®å‡½æ•°çš„å‚æ•°ã€‚</li><li><strong>ä¸æ”¯æŒé‡å¤çš„å‘½åå‚æ•°ã€‚</strong> æ— è®ºæ˜¯å¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹, ç®­å¤´å‡½æ•°éƒ½ä¸æ”¯æŒé‡å¤çš„å‘½åå‚æ•°ã€‚è€Œåœ¨ä¼ ç»Ÿå‡½æ•°çš„è§„å®šä¸­, åªæœ‰åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰ä¸èƒ½æœ‰é‡å¤çš„å‘½åå‚æ•°ã€‚</li></ul><h4 id="ç®­å¤´å‡½æ•°è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°è¯­æ³•" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°è¯­æ³•</h4><p>å¦‚æœæƒ³è®©ç®­å¤´å‡½æ•°å‘å¤–è¿”å›ä¸€ä¸ªå¯¹è±¡å­—é¢é‡, åˆ™éœ€è¦å°†è¯¥å­—é¢é‡åŒ…è£¹åœ¨å°æ‹¬å·å†…ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ç®­å¤´å‡½æ•°è¯­æ³•</span>
<span class="token keyword">let</span> <span class="token function-variable function">doNothing</span> <span class="token operator">=</span> <span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> id<span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Temp&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//è¿™æ ·è¿”å›å¯¹è±¡å­—é¢é‡æ›´åŠ ç®€æ´!</span>
<span class="token keyword">let</span> <span class="token function-variable function">doNothing</span> <span class="token operator">=</span> <span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> id<span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Temp&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ›å»ºç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼" aria-hidden="true">#</a> åˆ›å»ºç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//åˆ›å»ºç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Nicholas</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯, å°æ‹¬å·åªåŒ…è£¹ç®­å¤´å‡½æ•°å®šä¹‰,æ²¡æœ‰åŒ…å«<code>(&#39;Nicholas&#39;)</code>,è¿™ä¸€ç‚¹ä¸æ­£å¸¸å‡½æ•°ä¸åŒ!</p><h3 id="å°¾è°ƒç”¨ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å°¾è°ƒç”¨ä¼˜åŒ–" aria-hidden="true">#</a> å°¾è°ƒç”¨ä¼˜åŒ–</h3><p>å°¾è°ƒç”¨ä¼˜åŒ–å‘ç”Ÿåœ¨å¼•æ“èƒŒå, é™¤éä½ å°è¯•ä¼˜åŒ–ä¸€ä¸ªå‡½æ•°, å¦åˆ™, æ— éœ€æ€è€ƒæ­¤ç±»é—®é¢˜ã€‚ é€’å½’å‡½æ•°æ˜¯å…¶æœ€ä¸»è¦çš„åº”ç”¨åœºæ™¯!</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å°¾è°ƒç”¨ä¼˜åŒ–</span>
<span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> n <span class="token operator">*</span> p<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//24</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å­—ç¬¦ä¸²æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²æ‰©å±•" aria-hidden="true">#</a> å­—ç¬¦ä¸²æ‰©å±•</h2><h3 id="å¸¸è§ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#å¸¸è§ç”¨é€”" aria-hidden="true">#</a> å¸¸è§ç”¨é€”</h3><p>padStart()çš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°ã€‚ä¸‹é¢ä»£ç ç”Ÿæˆ 10 ä½çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;1&#39;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;0000000001&quot;</span>
<span class="token string">&#39;12&#39;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;0000000012&quot;</span>
<span class="token string">&#39;123456&#39;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;0000123456&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦ä¸€ä¸ªç”¨é€”æ˜¯æç¤ºå­—ç¬¦ä¸²æ ¼å¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;12&#39;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;YYYY-MM-DD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;YYYY-MM-12&quot;</span>
<span class="token string">&#39;09-12&#39;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;YYYY-MM-DD&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;YYYY-09-12&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½æ€§" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½æ€§" aria-hidden="true">#</a> æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½æ€§</h2><h3 id="å¯¹è±¡å­—é¢é‡è¯­æ³•æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡å­—é¢é‡è¯­æ³•æ‰©å±•" aria-hidden="true">#</a> å¯¹è±¡å­—é¢é‡è¯­æ³•æ‰©å±•</h3><h4 id="å¯¹è±¡æ–¹æ³•çš„ç®€å†™" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡æ–¹æ³•çš„ç®€å†™" aria-hidden="true">#</a> å¯¹è±¡æ–¹æ³•çš„ç®€å†™</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å¯¹è±¡æ–¹æ³•çš„ç®€å†™è¯­æ³•</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">,</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªç®€å†™æ–¹æ³•ä¸ä¼ ç»Ÿå†™æ³•å”¯ä¸€åŒºåˆ«æ˜¯ç®€å†™æ–¹æ³•å¯ä»¥ä½¿ç”¨<code>super</code>å…³é”®å­—ã€‚</p><h4 id="å¯è®¡ç®—å±æ€§å" tabindex="-1"><a class="header-anchor" href="#å¯è®¡ç®—å±æ€§å" aria-hidden="true">#</a> å¯è®¡ç®—å±æ€§å</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å¯è®¡ç®—å±æ€§å</span>
<span class="token keyword">let</span> suffix <span class="token operator">=</span> <span class="token string">&#39; name&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string">&#39;first&#39;</span> <span class="token operator">+</span> suffix<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#39;last&#39;</span> <span class="token operator">+</span> suffix<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;Zakas&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token string">&#39;first name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Nicholas</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token string">&#39;last name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Zakas</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›å±æ€§çƒä¹‹åå­—ç¬¦ä¸²ä¸º<code>&#39;first name&#39;</code>å’ŒÂ·<code>&#39;last name&#39;</code>ï¼Œç„¶åä»–ä»¬å¯ä»¥ç”¨å±æ€§å¼•ç”¨ã€‚ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•ï¼Œä»»ä½•èƒ½æ”¾åœ¨å¯¹è±¡å®åŠ›æ–¹æ‹¬å·å†…çš„ä¸œè¥¿ï¼Œéƒ½å¯ä»¥ä½œä¸ºéœ€è®¡ç®—å±æ€§åç”¨åœ¨å¯¹è±¡å­—é¢é‡ä¸­ã€‚</p><h3 id="æ–°å¢æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–°å¢æ–¹æ³•" aria-hidden="true">#</a> æ–°å¢æ–¹æ³•</h3><h4 id="object-js-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#object-js-æ–¹æ³•" aria-hidden="true">#</a> Object.js()æ–¹æ³•</h4><p><code>Object.js()</code>æ–¹æ³•ä¸»è¦ç”¨æ¥å¼¥è¡¥å…¨ç­‰è¿ç®—ç¬¦çš„ä¸å‡†ç¡®è¿ç®—ï¼Œ è¿™ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œ å¦‚æœè¿™ä¸¤ä¸ªå‚æ•°ç±»å‹ç›¸åŒä¸”å…·æœ‰ç›¸åŒçš„å€¼ï¼Œ åˆ™è¿”å›<code>true</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//æ–°å¢æ–¹æ³•</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;5&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äº<code>Object.is()</code>æ–¹æ³•æ¥è¯´ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸å…¨ç­‰æ“ä½œç¬¦<code>===</code>ç›¸åŒï¼Œå”¯ä¸€åŒºåˆ«åœ¨äº<code>+0</code>å’Œ<code>-0</code>è¯†åˆ«ä¸ºä¸ç›¸ç­‰ï¼Œå¹¶ä¸”<code>NaN</code>ä¸<code>NaN</code>ç­‰ä»·ã€‚</p><h4 id="object-assign" tabindex="-1"><a class="header-anchor" href="#object-assign" aria-hidden="true">#</a> Object.assign()</h4><p><code>Object.assign()</code>æ–¹æ³•å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„æºå¯¹è±¡ï¼Œ å¹¶æŒ‰æŒ‡å®šçš„é¡ºåºå°†å±æ€§å¤åˆ¶åˆ°æ¥æ”¶å¯¹è±¡ä¸­ã€‚å¦‚æœæœ‰å¤šä¸ªæºå¯¹è±¡å…·æœ‰åŒåå±æ€§ï¼Œ åˆ™æ’ä½é åçš„æºå¯¹è±¡ä¼šè¦†ç›–æ’ä½é å‰çš„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> receiver <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
  receiver<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;file.js&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;css&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>receiver<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//css</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>receiver<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//file.js</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤„æœ‰ä¸¤ä¸ª<code>type</code>å±æ€§ï¼Œåé¢çš„<code>css</code>ä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚</p><h3 id="å¢å¼ºå¯¹è±¡åŸå‹" tabindex="-1"><a class="header-anchor" href="#å¢å¼ºå¯¹è±¡åŸå‹" aria-hidden="true">#</a> å¢å¼ºå¯¹è±¡åŸå‹</h3><h4 id="æ”¹å˜å¯¹è±¡çš„åŸå‹" tabindex="-1"><a class="header-anchor" href="#æ”¹å˜å¯¹è±¡çš„åŸå‹" aria-hidden="true">#</a> æ”¹å˜å¯¹è±¡çš„åŸå‹</h4><p>ES6 ä¸­æ·»åŠ äº†<code>Object.setPrototypeOf()</code>æ–¹æ³•æ¥æ”¹å˜åŸå‹ï¼Œ<code>Object.getPrototypeOf()</code>æ–¹æ³•è¿”å›åŸå‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//æ”¹å˜å¯¹è±¡çš„åŸå‹</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Hello&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Woof&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> friend <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token operator">===</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token comment">//å°†åŸå‹è®¾ç½®ä¸ºdog</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Woof</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token operator">===</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç®€åŒ–åŸå‹è®¿é—®çš„-super-å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#ç®€åŒ–åŸå‹è®¿é—®çš„-super-å¼•ç”¨" aria-hidden="true">#</a> ç®€åŒ–åŸå‹è®¿é—®çš„ Super å¼•ç”¨</h4><p>å¦‚æœä½ æƒ³é‡å†™å¯¹è±¡å®ä¾‹æ–¹æ³•ï¼Œåˆéœ€è¦è°ƒç”¨ä¸å®ƒåŒåçš„åŸå‹æ–¹æ³•ï¼ŒES5 å¯ä»¥è¿™æ ·å†™ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Hello&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Woof&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> friend <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;, hi!&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">,</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello, hi!</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token operator">===</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token comment">//å°†åŸå‹è®¾ç½®ä¸ºdog</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Woof,hi</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token operator">===</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªå®ä¾‹ä¸­ï¼Œ<code>friend</code>å¯¹è±¡çš„<code>getGreeting</code>æ–¹æ³•è°ƒç”¨äº†åŒåçš„åŸå‹æ–¹æ³•ï¼Œ<code>Object.getPrototypeOf(this)</code>æ–¹æ³•å¯ä»¥ç¡®ä¿è°ƒç”¨æ­£ç¡®çš„åŸå‹ã€‚åé¢çš„<code>.call(this)</code>å¯ä»¥ç¡®ä¿æ­£ç¡®è®¾ç½®åŸå‹æ–¹æ³•ä¸­çš„<code>this</code>å€¼ã€‚</p><p>ç”±äºè¦å‡†ç¡®è®°å¾—å¦‚ä½•ä½¿ç”¨<code>Object.getPrototypeOf()</code>æ–¹æ³•å’Œ<code>.call(this)</code>æ–¹æ³•æ¥è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•è¿‡äºå¤æ‚ï¼Œ ES6 å¯¹æ­¤å¼•å…¥äº†<code>super</code>å…³é”®å­—ã€‚ ç®€å•æ¥è¯´ï¼Œ <code>super</code>å¼•ç”¨ç›¸å½“äºæŒ‡å‘å¯¹è±¡åŸå‹çš„æŒ‡é’ˆï¼Œ å®é™…ä¸Šå°±æ˜¯<code>Object.getPrototypeOf()</code>çš„å€¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å†™ä¸Šé¢çš„æ–¹æ³•ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&#39;Hello&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&#39;Woof&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> friend <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">==</span><span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, hi!&quot;</span><span class="token punctuation">;</span><span class="token operator">==</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Hello, hi!</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token operator">===</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token comment">//å°†åŸå‹è®¾ç½®ä¸ºdog</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">,</span>dog<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Woof,hi</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token operator">===</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜æœ‰ä¸¤ä¸ªé‡è¦çš„ç‚¹ï¼š ä¸€æ˜¯ä½¿ç”¨<code>Super</code>å¼•ç”¨ï¼Œå¿…é¡»æ˜¯è¦åœ¨ä½¿ç”¨ç®€å†™æ–¹æ³•çš„å¯¹è±¡ä¸­ä½¿ç”¨ï¼Œ å¦‚æœåœ¨å…¶ä»–æ–¹æ³•å£°æ˜ä¸­ä½¿ç”¨ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚ äºŒæ˜¯ï¼Œ <code>Super</code>å¼•ç”¨åœ¨å¤šé‡ç»§æ‰¿çš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œ å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨<code>Object.getPrototypeOf()</code>æ–¹æ³•å°†ä¼šå‡ºç°é—®é¢˜ã€‚<code>Super</code>å¼•ç”¨ä¸æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå®ƒæ€»æ˜¯æŒ‡å‘æ­£ç¡®çš„å¯¹è±¡ã€‚</p><h2 id="è§£æ„-ä½¿æ•°æ®è®¿é—®æ›´ä¾¿æ·" tabindex="-1"><a class="header-anchor" href="#è§£æ„-ä½¿æ•°æ®è®¿é—®æ›´ä¾¿æ·" aria-hidden="true">#</a> è§£æ„ï¼šä½¿æ•°æ®è®¿é—®æ›´ä¾¿æ·</h2><h3 id="å¯¹è±¡è§£æ„" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡è§£æ„" aria-hidden="true">#</a> å¯¹è±¡è§£æ„</h3><p>å¯¹è±¡è§£æ„çš„è¯­æ³•å½¢å¼æ˜¯åœ¨ä¸€ä¸ªèµ‹å€¼æ“ä½œç¬¦å·¦è¾¹æ”¾ç½®ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Identifier&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Identifier</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//foo</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸è¦å¿˜è®°åˆå§‹åŒ–ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#ä¸è¦å¿˜è®°åˆå§‹åŒ–ç¨‹åº" aria-hidden="true">#</a> ä¸è¦å¿˜è®°åˆå§‹åŒ–ç¨‹åº</h4><p>å¦‚æœä½¿ç”¨<code>var</code>ã€<code>let</code>å’Œ<code>const</code>è§£æ„å£°æ˜å˜é‡ï¼Œ åˆ™å¿…é¡»è¦æä¾›åˆå§‹åŒ–ç¨‹åºï¼ˆä¹Ÿå°±æ˜¯ç­‰å·å³ä¾§çš„å€¼ï¼‰ã€‚ ä¸‹é¢è¿™å‡ è¡Œä»£ç å…¨éƒ¨ä¼šå¯¼è‡´ç¨‹åºæŠ›å‡ºè¯­æ³•é”™è¯¯ï¼Œ å®ƒä»¬ç¼ºå°‘äº†åˆå§‹åŒ–ç¨‹åºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// var {type , name};//æŠ¥é”™</span>

<span class="token comment">// let {type , name}ï¼›//æŠ¥é”™</span>

<span class="token comment">// const {type , name};//æŠ¥é”™</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è§£æ„èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#è§£æ„èµ‹å€¼" aria-hidden="true">#</a> è§£æ„èµ‹å€¼</h4><p>æˆ‘ä»¬å¯ä»¥åœ¨å˜é‡èµ‹å€¼æ—¶ä½¿ç”¨è§£æ„è¯­æ³•ï¼Œ å¯ä»¥åœ¨å®šä¹‰å˜é‡ä¹‹åä¿®æ”¹å®ƒä»¬çš„å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Identifier&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  type <span class="token operator">=</span> <span class="token string">&#39;Literal&#39;</span><span class="token punctuation">,</span>
  name <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;Identifier&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;foo&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">è­¦å‘Š</p><p>è¯·æ³¨æ„ï¼Œ ä¸€å®šè¦ä½¿ç”¨ä¸€å¯¹å°æ‹¬å·æ¥åŒ…è£¹è§£æ„èµ‹å€¼è¯­å¥ã€‚ JavaScript å¼•æ“ä¼šå°†ä¸€å¯¹å¼€æ”¾çš„èŠ±æ‹¬å·è§†ä¸ºä¸€ä¸ªä»£ç å—ï¼Œ è€Œè¯­æ³•è§„å®šï¼Œ ä»£ç å—è¯­å¥ä¸å…è®¸å‡ºç°åœ¨èµ‹å€¼è¯­å¥å·¦ä¾§ï¼Œ æ·»åŠ å°æ‹¬å·å¯ä»¥å°†è¯­å¥è½¬åŒ–ä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œ ä»è€Œå®ç°äº†æ•´ä¸ªè§£æ„èµ‹å€¼çš„è¿‡ç¨‹ã€‚</p></div><p>è§£æ„èµ‹å€¼è¡¨è¾¾å¼çš„å€¼ä¸è¡¨è¾¾å¼å³ä¾§çš„å€¼ç›¸ç­‰ï¼Œ å¦‚æ­¤ä¸€æ¥ï¼Œ åœ¨ä»»ä½•ä½¿ç”¨å€¼å¾—åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼è¡¨è¾¾å¼ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ç»™å‡½æ•°ä¼ é€’å‚æ•°å€¼çš„è¿‡ç¨‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Identifier&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  type <span class="token operator">=</span> <span class="token string">&#39;Literal&#39;</span><span class="token punctuation">,</span>
  name <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ouputInfo</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value <span class="token operator">===</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token punctuation">}</span>

<span class="token function">ouputInfo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;Identifier&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;foo&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥è§£æ„è¡¨è¾¾å¼ï¼Œ æ­¤æ—¶ä¼ å…¥çš„å‚æ•°ç­‰åŒäº<code>node</code>ï¼Œ ä¸”å˜é‡è¢«é‡æ–°å¤åˆ¶ã€‚</p><p>è§£æ„èµ‹å€¼è¡¨è¾¾å¼ï¼Œ ä¹Ÿå°±æ˜¯<code>=</code>å·å³ä¾§çš„è¡¨è¾¾å¼ï¼Œ å¦‚æœä¸º<code>null</code>æˆ–<code>undefined</code>ä¼šå¯¼è‡´ç¨‹åºæŠ›å‡ºé”™è¯¯ã€‚</p><h5 id="è§£æ„å¯¹è±¡æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è§£æ„å¯¹è±¡æ–¹æ³•" aria-hidden="true">#</a> è§£æ„å¯¹è±¡æ–¹æ³•</h5><p>å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ä¾‹ä¸€</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> log<span class="token punctuation">,</span> sin<span class="token punctuation">,</span> cos <span class="token punctuation">}</span> <span class="token operator">=</span> Math<span class="token punctuation">;</span>

<span class="token comment">// ä¾‹äºŒ</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> log <span class="token punctuation">}</span> <span class="token operator">=</span> console<span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç çš„ä¾‹ä¸€å°† Math å¯¹è±¡çš„å¯¹æ•°ã€æ­£å¼¦ã€ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•ï¼Œèµ‹å€¼åˆ°å¯¹åº”çš„å˜é‡ä¸Šï¼Œä½¿ç”¨èµ·æ¥å°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚ä¾‹äºŒå°† console.log èµ‹å€¼åˆ° log å˜é‡ã€‚</p><h4 id="é»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å€¼" aria-hidden="true">#</a> é»˜è®¤å€¼</h4><p>ä½¿ç”¨è§£æ„èµ‹å€¼è¡¨è¾¾å¼ï¼Œ å¦‚æœæŒ‡å®šçš„å±€éƒ¨å˜é‡åç§°åœ¨å¯¹è±¡ä¸­ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆå±€éƒ¨å˜é‡ä¼šè¢«èµ‹å€¼ä¸º<code>undefined</code>ã€‚</p><p>å½“ç„¶ï¼Œ æˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œ åœ¨å±æ€§åç§°åæ·»åŠ ä¸€ä¸ªç­‰å·å’Œç›¸åº”çš„é»˜è®¤å€¼å³å¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Identifier&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  type <span class="token operator">=</span> <span class="token string">&#39;Literal&#39;</span><span class="token punctuation">,</span>
  name <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;Identifier&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;foo&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“<code>node</code>ä¸Šæ²¡æœ‰è¯¥å±æ€§æˆ–è€…ä¸º<code>undefined</code>æ—¶é»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆã€‚</p><h4 id="ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼" aria-hidden="true">#</a> ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼</h4><p>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ä¸åŒå‘½åçš„å±€éƒ¨å˜é‡æ¥å­˜å‚¨å¯¹è±¡å±æ€§çš„å€¼ï¼Œ ES6 æœ‰ä¸€ä¸ªæ‰©å±•è¯­æ³•å¯ä»¥æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Identifier&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> localType<span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> localName <span class="token operator">=</span> <span class="token string">&#39;bar&#39;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;Identifier&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;foo&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç ä½¿ç”¨äº†ç»“æ„è‚¤è´¨æ¥å£°æ˜å˜é‡<code>localType</code>å’Œ<code>localName</code>, è¿™ä¸¤ä¸ªå˜é‡åˆ†åˆ«åŒ…å«äº†<code>node.type</code>å’Œ<code>node.name</code>å±æ€§çš„å€¼ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å†èµ‹å€¼æ—¶æ·»åŠ é»˜è®¤å€¼ã€‚åœ¨å˜é‡ååæ·»åŠ å³å¯ã€‚</p><p>å¯¹è±¡è§£æ„é»˜è®¤å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token punctuation">{</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">5</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
y<span class="token punctuation">;</span> <span class="token comment">// 5</span>

<span class="token keyword">var</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> y <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
y<span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> y <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
y<span class="token punctuation">;</span> <span class="token comment">// 5</span>

<span class="token keyword">var</span> <span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> msg <span class="token operator">=</span> <span class="token string">&#39;Something went wrong&#39;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
msg<span class="token punctuation">;</span> <span class="token comment">// &quot;Something went wrong&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ï¼Œå¯¹è±¡çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äº<code>undefined</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token punctuation">{</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> <span class="token punctuation">{</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå±æ€§<code>x</code>ç­‰äº<code>null</code>ï¼Œå› ä¸º<code>null</code>ä¸<code>undefined</code>ä¸ä¸¥æ ¼ç›¸ç­‰ï¼Œæ‰€ä»¥æ˜¯ä¸ªæœ‰æ•ˆçš„èµ‹å€¼ï¼Œå¯¼è‡´é»˜è®¤å€¼ 3 ä¸ä¼šç”Ÿæ•ˆã€‚</p><div class="custom-container warning"><p class="custom-container-title">è­¦å‘Š</p><p>å¦‚æœè¦å°†ä¸€ä¸ªå·²ç»å£°æ˜çš„å˜é‡ç”¨äºè§£æ„èµ‹å€¼ï¼Œå¿…é¡»éå¸¸å°å¿ƒã€‚</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// é”™è¯¯çš„å†™æ³•</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>
<span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// SyntaxError: syntax error</span>

<span class="token comment">// æ­£ç¡®çš„å†™æ³•</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åµŒå¥—å¯¹è±¡ç»“æ„" tabindex="-1"><a class="header-anchor" href="#åµŒå¥—å¯¹è±¡ç»“æ„" aria-hidden="true">#</a> åµŒå¥—å¯¹è±¡ç»“æ„</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Identifier&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">loc</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//æå–node.loc.start</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">loc</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">start</span><span class="token operator">:</span> localStart <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStart<span class="token punctuation">.</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStart<span class="token punctuation">.</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬åœ¨è§£æ„æ¨¡å¼ä¸­ä½¿ç”¨äº†èŠ±æ‹¬å·ï¼Œ å…¶å«ä¹‰ä¸ºæ‰¾åˆ°<code>node</code>å¯¹è±¡ä¸­çš„<code>loc</code>å±æ€§åï¼Œ åº”å½“æ·±å…¥ä¸€å±‚ç»§ç»­æŸ¥æ‰¾<code>start</code>å±æ€§ã€‚åœ¨ä¸Šé¢çš„è§£æ„ç¤ºä¾‹ä¸­ï¼Œ æ‰€æœ‰çš„å†’å·å‰æ ‡è¯†ç¬¦éƒ½ä»£è¡¨åœ¨å¯¹è±¡ä¸­çš„æ£€ç´¢ä½ç½®ï¼Œ å…¶å³ä¾§ä¸ºè¢«èµ‹å€¼çš„å˜é‡åã€‚å¦‚æœå†’å·åé¢æ˜¯èŠ±æ‹¬å·ï¼Œ åˆ™æ„å‘³ç€è¦èµ‹äºˆçš„æœ€ç»ˆå€¼åµŒå¥—åœ¨å¯¹è±¡å†…éƒ¨æ›´æ·±çš„å±‚çº§ä¸­ã€‚</p><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸å¯¹è±¡å±æ€§åä¸åŒçš„å±€éƒ¨å˜é‡åï¼Œ å¦‚ä¸Šï¼Œ è§£æ„æ¨¡å¼å¯ä»¥åº”ç”¨äºä»»æ„å±‚çº§æ·±åº¦çš„å¯¹è±¡ã€‚</p><h4 id="è¯­æ³•è­¦ç¤º" tabindex="-1"><a class="header-anchor" href="#è¯­æ³•è­¦ç¤º" aria-hidden="true">#</a> è¯­æ³•è­¦ç¤º</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//æœªå£°æ˜ä»»ä½•å˜é‡</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">loc</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¡è¯­å¥ä¸ä¼šå£°æ˜ä»»ä½•ç»‘å®šï¼Œ æ›´å¥½çš„åšæ³•æ˜¯å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p><h3 id="æ•°ç»„è§£æ„" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„è§£æ„" aria-hidden="true">#</a> æ•°ç»„è§£æ„</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> secondColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// &quot;a&quot;</span>
y<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
z<span class="token punctuation">;</span> <span class="token comment">// []</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//red</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//green</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä»æ•°ç»„<code>colors</code>è§£æ„å‡ºäº†<code>&quot;red&quot;</code>å’Œ<code>&quot;green&quot;</code>è¿™ä¸¤ä¸ªå€¼ï¼Œ åˆ†åˆ«å­˜åœ¨å˜é‡<code>firstColor</code>å’Œ<code>secondColor</code>ä¸­ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å€¼åœ¨æ•°ç»„ä¸­çš„ä½ç½®è¿›è¡Œé€‰å–ï¼Œ ä¸”å¯ä»¥å°†å…¶å­˜å‚¨åœ¨ä»»æ„å˜é‡ä¸­ï¼Œ æœªæ˜¾å¼å£°æ˜çš„å…ƒç´ ä¼šç›´æ¥å¿½ç•¥ã€‚</p><p>å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ç­‰äº<code>undefined</code>ã€‚</p><p>åˆ‡è®°ï¼Œ è¿™ä¸ªè¿‡ç¨‹æ•°ç»„ä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åªä¸ºæ„Ÿå…´è¶£çš„å…ƒç´ æä¾›å˜é‡åï¼Œ åªè¦ä½¿ç”¨å ä½ç¬¦å³å¯ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> thirdColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thirdColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//blue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸å®Œå…¨è§£æ„" tabindex="-1"><a class="header-anchor" href="#ä¸å®Œå…¨è§£æ„" aria-hidden="true">#</a> ä¸å®Œå…¨è§£æ„</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
y<span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// 1</span>
b<span class="token punctuation">;</span> <span class="token comment">// 2</span>
d<span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸¤ä¸ªä¾‹å­ï¼Œéƒ½å±äºä¸å®Œå…¨è§£æ„ï¼Œä½†æ˜¯å¯ä»¥æˆåŠŸ</p><p>å¦‚æœç­‰å·çš„å³è¾¹ä¸æ˜¯æ•°ç»„ï¼ˆæˆ–è€…ä¸¥æ ¼åœ°è¯´ï¼Œä¸æ˜¯å¯éå†çš„ç»“æ„ï¼Œï¼Œé‚£ä¹ˆå°†ä¼šæŠ¥é”™ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æŠ¥é”™</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„è¯­å¥éƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºç­‰å·å³è¾¹çš„å€¼ï¼Œè¦ä¹ˆè½¬ä¸ºå¯¹è±¡ä»¥åä¸å…·å¤‡ Iterator æ¥å£ï¼ˆå‰äº”ä¸ªè¡¨è¾¾å¼ï¼‰ï¼Œè¦ä¹ˆæœ¬èº«å°±ä¸å…·å¤‡ Iterator æ¥å£ï¼ˆæœ€åä¸€ä¸ªè¡¨è¾¾å¼ï¼‰ã€‚</p><p>å¯¹äº Set ç»“æ„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// &quot;a&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>äº‹å®ä¸Šï¼Œåªè¦æŸç§æ•°æ®ç»“æ„å…·æœ‰ Iterator æ¥å£ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼ã€‚</p><h4 id="è§£æ„èµ‹å€¼-1" tabindex="-1"><a class="header-anchor" href="#è§£æ„èµ‹å€¼-1" aria-hidden="true">#</a> è§£æ„èµ‹å€¼</h4><p>æ•°ç»„è§£æ„å¯ä»¥ç”¨äºèµ‹å€¼ä¸Šä¸‹æ–‡ï¼Œ ä½†ä¸éœ€è¦å°æ‹¬å·åŒ…è£¹è¡¨è¾¾å¼ï¼Œ è¿™ä¸€ç‚¹ä¸å¯¹è±¡ç»“æ„çš„çº¦å®šä¸åŒã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  firstColor <span class="token operator">=</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span>
  secondColor <span class="token operator">=</span> <span class="token string">&#39;purple&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> secondColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//red</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è§£æ„èµ‹å€¼äº¤æ¢å˜é‡å€¼" tabindex="-1"><a class="header-anchor" href="#è§£æ„èµ‹å€¼äº¤æ¢å˜é‡å€¼" aria-hidden="true">#</a> è§£æ„èµ‹å€¼äº¤æ¢å˜é‡å€¼</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>èµ‹å€¼è¯­å¥å·¦ä¾§ä¸å…¶ä»–æ•°ç»„è§£æ„ç¤ºä¾‹ä¸€æ ·ï¼Œ æ˜¯ä¸€ä¸ªè§£æ„æ¨¡å¼ï¼›å³ä¾§æ˜¯ä¸€ä¸ªäº¤æ¢è¿‡ç¨‹åˆ›å»ºçš„ä¸´æ—¶æ•°ç»„å­—é¢é‡ã€‚ ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ å…ˆè§£æ„ä¸´æ—¶æ•°ç»„ï¼Œ å°†<code>b</code> å’Œ <code>a</code>çš„å€¼å¤åˆ¶åˆ°å·¦ä¾§æ•°ç»„çš„å‰ä¸¤ä¸ªä½ç½®ï¼Œ æœ€ç»ˆç»“æœæ˜¯äº’æ¢äº†å®ƒä»¬çš„å€¼ï¼Œ</p><p>å¦‚æœå³ä¾§æ•°ç»„è§£æ„è¡¨è¾¾å¼å€¼ä¸º<code>null</code>æˆ–<code>undefined</code>ï¼Œ åˆ™ä¼šå¯¼è‡´æŠ¥é”™ã€‚</p><h5 id="é»˜è®¤å€¼-1" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å€¼-1" aria-hidden="true">#</a> é»˜è®¤å€¼</h5><p>å½“ç„¶æˆ‘ä»¬å¯ä»¥ä»¥åœ¨è§£æ„èµ‹å€¼è¡¨è¾¾å¼ä¸­ä¸ºæ•°ç»„ä»»æ„ä½ç½®æ·»åŠ é»˜è®¤å€¼ï¼Œ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æŒ‡å®šçš„ä½ç½®å±æ€§ä¸å­˜åœ¨æˆ–å…¶å€¼ä¸º<code>undefined</code>æ—¶ä½¿ç”¨é»˜è®¤å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> secondColor <span class="token operator">=</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//red</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//green</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p><p>ES6 å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ<code>===</code>ï¼‰ï¼Œåˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦æœ‰å€¼ã€‚æ‰€ä»¥ï¼Œåªæœ‰å½“ä¸€ä¸ªæ•°ç»„æˆå‘˜ä¸¥æ ¼ç­‰äº<code>undefined</code>ï¼Œé»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆã€‚</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸€ä¸ªæ•°ç»„æˆå‘˜æ˜¯<code>null</code>ï¼Œé»˜è®¤å€¼å°±ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸º<code>null</code>ä¸ä¸¥æ ¼ç­‰äº<code>undefined</code>ã€‚</p><h5 id="æƒ°æ€§æ±‚å€¼" tabindex="-1"><a class="header-anchor" href="#æƒ°æ€§æ±‚å€¼" aria-hidden="true">#</a> æƒ°æ€§æ±‚å€¼</h5><p>å¦‚æœé»˜è®¤å€¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œå³åªæœ‰åœ¨ç”¨åˆ°çš„æ—¶å€™ï¼Œæ‰ä¼šæ±‚å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åµŒå¥—æ•°ç»„è§£æ„" tabindex="-1"><a class="header-anchor" href="#åµŒå¥—æ•°ç»„è§£æ„" aria-hidden="true">#</a> åµŒå¥—æ•°ç»„è§£æ„</h4><p>ä¸åµŒå¥—å¯¹è±¡ç»“æ„è¯­æ³•ç±»ä¼¼ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lightgreen&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> <span class="token punctuation">[</span>secondColor<span class="token punctuation">,</span> thirdColor<span class="token punctuation">]</span><span class="token punctuation">,</span> fourColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//red</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secondColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//green</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thirdColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//lightgreen</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fourColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//blue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸å®šå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#ä¸å®šå…ƒç´ " aria-hidden="true">#</a> ä¸å®šå…ƒç´ </h4><p>åœ¨æ•°ç»„ä¸­ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>...</code>è¯­æ³•å°†æ•°ç»„ä¸­çš„å…¶ä½™å…ƒç´ èµ‹å€¼ç»™ä¸€ä¸ªç‰¹å®šçš„å˜é‡ï¼Œ å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lightgreen&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>firstColor<span class="token punctuation">,</span> <span class="token operator">...</span>restColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>restColor<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//green</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ JavaScript ä¸­ï¼Œ å¾ˆæ˜æ˜¾æ¼æ‰äº†æ•°ç»„å¤åˆ¶çš„åŠŸèƒ½ã€‚ åœ¨ ES5 ä¸­ï¼Œ æˆ‘ä»¬ä½¿ç”¨<code>concat</code>æ–¹æ³•å…‹éš†æ•°ç»„ï¼Œ è€Œåœ¨ ES6 ä¸­ï¼Œ æˆ‘ä»¬å…¶å®å¯ä»¥é€šè¿‡ä¸å®šå‚æ•°çš„è¯­æ³•æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lightgreen&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token operator">...</span>restColor<span class="token punctuation">]</span> <span class="token operator">=</span> colors<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>restColor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[&quot;red&quot;, &quot;green&quot;, &quot;lightgreen&quot;, &quot;blue&quot;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¢«è§£æ„çš„æ•°ç»„ä¸­ï¼Œ ä¸å®šå…ƒç´ å¿…é¡»ä¸ºæœ€åä¸€ä¸ªæ¡ç›®ï¼Œ åœ¨åé¢æ·»åŠ é€—å·ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ã€‚</p><h3 id="æ··åˆè§£æ„" tabindex="-1"><a class="header-anchor" href="#æ··åˆè§£æ„" aria-hidden="true">#</a> æ··åˆè§£æ„</h3><p>å¯ä»¥æ··åˆä½¿ç”¨å¯¹è±¡è§£æ„å’Œæ•°ç»„è§£æ„åˆ›å»ºæ›´å¤šå¤æ‚çš„è¡¨è¾¾å¼ï¼Œ ä½ å¯ä»¥æå–ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">loc</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">range</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">loc</span><span class="token operator">:</span> <span class="token punctuation">{</span> start <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">range</span><span class="token operator">:</span> <span class="token punctuation">[</span>startIndex<span class="token punctuation">]</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> node<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>start<span class="token punctuation">.</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>start<span class="token punctuation">.</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>startIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ è§£æ„æ¨¡å¼ä¸­çš„<code>loc:</code>å’Œ<code>range:</code>ä»…ä»£è¡¨ä»–ä»¬åœ¨<code>node</code>å¯¹è±¡ä¸­æ‰€å¤„çš„ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯è¯¥å¯¹è±¡çš„å±æ€§ï¼‰ã€‚</p><p>æ··åˆè§£æ„è¯­æ³•æä¸ºæœ‰æ•ˆï¼Œ å°¤å…¶æ˜¯ä»<code>JSON</code>é…ç½®ä¸­æå–ä¿¡æ¯ï¼Œ ä¸ç”¨éå†æ•´ä¸ªç»“æ„äº†ã€‚</p><h3 id="è§£æ„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è§£æ„å‚æ•°" aria-hidden="true">#</a> è§£æ„å‚æ•°</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//optionsçš„å±æ€§è¡¨ç¤ºå…¶ä»–å‚æ•°</span>
<span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  options <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> secure <span class="token operator">=</span> options<span class="token punctuation">.</span>secure<span class="token punctuation">,</span>
    path <span class="token operator">=</span> options<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secure<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true undefined</span>
<span class="token punctuation">}</span>

<span class="token comment">//ç¬¬ä¸‰ä¸ªå‚æ•°æ˜ å°„åˆ°optionsä¸­</span>
<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ç¤ºä¾‹å‡½æ•°ä¸­ï¼Œ <code>name</code>å’Œ<code>value</code>æ˜¯å¿…éœ€å‚æ•°ï¼Œ è€Œ<code>secure</code>å’Œ<code>path</code>åˆ™ä¸ç„¶ï¼Œ è¿™äº›å‚æ•°ç›¸å¯¹è€Œè¨€æ²¡æœ‰ä¼˜å…ˆé¡ºåºï¼Œ å°†å®ƒä»¬åˆ—ä¸ºé¢å¤–çš„å‘½åå‚æ•°ä¹Ÿä¸åˆé€‚ã€‚ æ­¤æ—¶ä¸º<code>options</code>å¯¹è±¡è®¾ç½®åŒåçš„å‘½åå±æ€§æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œ ä»…æŸ¥çœ‹å‡½æ•°å£°æ˜éƒ¨åˆ†ï¼Œ æ— æ³•åˆ†è¾¨å‡½æ•°é¢„æœŸå‚æ•°ï¼Œ å¿…é¡»è¦é€šè¿‡é˜…è¯»å‡½æ•°é¢˜æ‰å¯ä»¥ç¡®å®šã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†<code>options</code>å®šä¹‰ä¸ºè§£æ„å‚æ•°ï¼Œ å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span>
  <span class="token parameter">name<span class="token punctuation">,</span>
  value<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> secure<span class="token punctuation">,</span> <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> second<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">expires</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">bili</span><span class="token operator">:</span> b <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secure<span class="token punctuation">,</span> second<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true 2 233</span>
<span class="token punctuation">}</span>

<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">expires</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bili</span><span class="token operator">:</span> <span class="token number">233</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨è§£æ„è¯­æ³•ä»£æ›¿ç¬¬ 3 å„å‚æ•°æ¥æå–å¿…è¦çš„ä¿¡æ¯ï¼Œ å…¶ä»–å‚æ•°ä¿æŒä¸å˜ï¼Œ è¿™æ ·è§£æ„å‚æ•°å˜å¾—æ›´åŠ æ¸…æ™°ï¼</p><p>è§£æ„å‚æ•°æ”¯æŒæ‰€æœ‰è§£æ„ç‰¹æ€§ã€‚ å¯ä½¿ç”¨é»˜è®¤å€¼ï¼Œ æ··åˆå¯¹è±¡ï¼Œ å¯¹è±¡å’Œæ•°ç»„è§£æ„ï¼Œ åŠéåŒåå˜é‡å­˜å‚¨æå–å‡ºæ¥çš„ä¿¡æ¯ã€‚</p><h4 id="å¿…é¡»ä¼ å€¼çš„è§£æ„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å¿…é¡»ä¼ å€¼çš„è§£æ„å‚æ•°" aria-hidden="true">#</a> å¿…é¡»ä¼ å€¼çš„è§£æ„å‚æ•°</h4><p>è§£æ„å‚æ•°å¦‚æœè°ƒç”¨å‡½æ•°æ—¶ä¸æä¾›è§£æ„å‚æ•°ä¼šå¯¼è‡´ç¨‹åºæŠ›å‡ºé”™è¯¯ã€‚</p><p>è¿™æ˜¯å› ä¸ºç¡®å®çš„ç¬¬ 3 ä¸ªå‚æ•°ï¼Œ å…¶å€¼ä¸º<code>undefined</code>ã€‚ è§£æ„å‚æ•°åªæ˜¯å°†è§£æ„å£°æ˜åº”ç”¨åœ¨å‡½æ•°å‚æ•°çš„ä¸€ä¸ªç®€å†™æ–¹æ³•ã€‚å¦‚æœè§£æ„èµ‹å€¼è¡¨è¾¾å¼çš„å³ä¾§å€¼ä¸º<code>null</code>æˆ–è€…<code>undefined</code>åˆ™ç¨‹åºä¼šæŠ¥é”™ã€‚ JavaScript å¼•æ“å®é™…è¿è¡Œå¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span>
  <span class="token parameter">name<span class="token punctuation">,</span>
  value<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> secure<span class="token punctuation">,</span> <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> second<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">expires</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">bili</span><span class="token operator">:</span> b <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span>
    secure<span class="token punctuation">,</span>
    <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> second<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">expires</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">bili</span><span class="token operator">:</span> b <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ å¸Œæœ›è§£æ„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œ å¿…é¡»ä¸ºå…¶æä¾›é»˜è®¤å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span>
  name<span class="token punctuation">,</span>
  value<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> secure <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> expires <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">bli</span><span class="token operator">:</span> <span class="token string">&#39;233&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secure<span class="token punctuation">,</span> colors<span class="token punctuation">,</span> expires<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true  [1, 2] {bli: &quot;233&quot;}</span>
<span class="token punctuation">}</span>

<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è§£æ„å‚æ•°çš„é»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#è§£æ„å‚æ•°çš„é»˜è®¤å€¼" aria-hidden="true">#</a> è§£æ„å‚æ•°çš„é»˜è®¤å€¼</h4><p>è§£æ„å‚æ•°çš„æ¯ä¸€ä¸ªå±æ€§ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å€¼ã€‚ç„¶è€Œï¼Œ è¿™ä¹Ÿæœ‰å¾ˆå¤šç¼ºç‚¹ï¼š é¦–å…ˆï¼Œ å‡½æ•°å£°æ˜å˜å¾—æ¯”ä»¥å‰æ›´å¤æ‚äº†ï¼Œ å…¶æ¬¡ï¼Œ å¦‚æœè§£æ„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œ é‚£ä¹ˆä»ç„¶è¦ç»™å®ƒæ·»åŠ ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œ å¦åˆ™è°ƒç”¨æ—¶ä¼šæŠ¥é”™ã€‚</p><p>å»ºè®®å¯¹äºå¯¹è±¡ç±»å‹çš„è§£æ„å‚æ•°ï¼Œ ä¸ºå…¶èµ‹äºˆç›¸åŒè§£æ„çš„é»˜è®¤å‚æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> setCookieDefaults <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">985</span><span class="token punctuation">,</span> <span class="token number">211</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">expires</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">bli</span><span class="token operator">:</span> <span class="token number">233</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span>
  name<span class="token punctuation">,</span>
  value<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    secure <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    expires <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">bli</span><span class="token operator">:</span> <span class="token string">&#39;233&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> setCookieDefaults
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secure<span class="token punctuation">,</span> colors<span class="token punctuation">,</span> expires<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false [985, 211] {bli: 233}</span>
<span class="token punctuation">}</span>
<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æ”¹å˜é»˜è®¤å€¼ï¼Œ å¯ä»¥ç«‹å³åœ¨<code>setCookieDefaults</code>ä¸­ä¿®æ”¹ï¼Œ æ”¹å˜çš„æ•°æ®å°†è‡ªåŠ¨åŒæ­¥åˆ°æ‰€æœ‰å‡ºç°è¿‡çš„åœ°æ–¹ã€‚</p><h3 id="ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#ç”¨é€”" aria-hidden="true">#</a> ç”¨é€”</h3><h5 id="äº¤æ¢å˜é‡çš„å€¼" tabindex="-1"><a class="header-anchor" href="#äº¤æ¢å˜é‡çš„å€¼" aria-hidden="true">#</a> äº¤æ¢å˜é‡çš„å€¼</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼" tabindex="-1"><a class="header-anchor" href="#ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼" aria-hidden="true">#</a> ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// è¿”å›ä¸€ä¸ªæ•°ç»„</span>

<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡</span>

<span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="å‡½æ•°å‚æ•°çš„å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å‚æ•°çš„å®šä¹‰" aria-hidden="true">#</a> å‡½æ•°å‚æ•°çš„å®šä¹‰</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æå–-json-æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æå–-json-æ•°æ®" aria-hidden="true">#</a> æå– JSON æ•°æ®</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">&#39;OK&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">867</span><span class="token punctuation">,</span> <span class="token number">5309</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> jsonData<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 42, &quot;OK&quot;, [867, 5309]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼" aria-hidden="true">#</a> å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span><span class="token function-variable function">ajax</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
  url<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">beforeSend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    cache <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">complete</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    crossDomain <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    global <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token comment">// ... more config</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... do stuff</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±é¿å…äº†åœ¨å‡½æ•°ä½“å†…éƒ¨å†å†™<code>var foo = config.foo || &#39;default foo&#39;</code>;è¿™æ ·çš„è¯­å¥ã€‚</p><h5 id="éå†-map-ç»“æ„" tabindex="-1"><a class="header-anchor" href="#éå†-map-ç»“æ„" aria-hidden="true">#</a> éå† Map ç»“æ„</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;first&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;second&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&#39; is &#39;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// first is hello</span>
<span class="token comment">// second is world</span>

<span class="token comment">//å¦‚æœåªæƒ³è·å–é”®åï¼Œæˆ–è€…åªæƒ³è·å–é”®å€¼ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</span>

<span class="token comment">// è·å–é”®å</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·å–é”®å€¼</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•" aria-hidden="true">#</a> è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> SourceMapConsumer<span class="token punctuation">,</span> SourceNode <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;source-map&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="symbol-å’Œ-symbol-å±æ€§" tabindex="-1"><a class="header-anchor" href="#symbol-å’Œ-symbol-å±æ€§" aria-hidden="true">#</a> Symbol å’Œ Symbol å±æ€§</h2><h3 id="åˆ›å»º-symbol" tabindex="-1"><a class="header-anchor" href="#åˆ›å»º-symbol" aria-hidden="true">#</a> åˆ›å»º Symbol</h3><p>Symbol ä¸»è¦æ˜¯ç”¨æ¥å£°æ˜ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œ å®ƒä¸»è¦ä½œç”¨äºå¯¹è±¡å±æ€§ä¸­ï¼Œ æ¯”å¦‚åœ¨åŸæœ‰çš„ä»£ç ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡å±æ€§ä¸º<code>tools</code>ï¼Œæ­¤æ—¶ä½ ä¹Ÿæƒ³æ·»åŠ ä¸€ä¸ªå±æ€§<code>tools</code>ï¼Œ é‚£ä¹ˆæ­¤æ—¶ä½ å¯ä»¥ä½¿ç”¨<code>symbol</code>ï¼Œ å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<code>Symbol</code>å±æ€§éå¸¸é€‚ç”¨äºé‚£äº›éœ€è¦ä¸€å®šç¨‹åº¦ä¿æŠ¤çš„åŠŸèƒ½ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> firstName <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;first,name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">[</span>firstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;first name&#39;</span> <span class="token keyword">in</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span>firstName<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Nicholas</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Symbol(first,name)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> firstName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//symbol</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>firstName</code>çš„<code>Symbol</code>ï¼Œç”¨å®ƒå°†ä¸€ä¸ªæ–°çš„å±æ€§èµ‹å€¼ç»™<code>person</code>å¯¹è±¡ï¼Œæ¯å½“æƒ³è®¿é—®è¿™ä¸ªå±æ€§æ—¶ä¸€å®šè¦ç”¨åˆ°æœ€åˆå®šä¹‰çš„<code>Symbol</code>ï¼ŒSymol æ˜¯åŸå§‹å€¼ï¼Œ ä½¿ç”¨<code>new Symbol()</code>ä¼šæŠ¥é”™ã€‚</p><p><code>Symbol</code>å‡½æ•°æ¥å—ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œ å¯ä»¥æ·»åŠ ä¸€æ®µæ–‡æœ¬æè¿°å³å°†åˆ›å»ºçš„<code>Symbol</code>ï¼Œ è¿™æ ·ä¾¿äºé˜…è¯»ä»£ç å’Œè°ƒè¯•<code>Symbol</code>ç¨‹åºã€‚</p><p>å¯ä»¥ç”¨<code>typeof</code>æ¥æ£€æµ‹å˜é‡æ˜¯å¦ä¸º<code>Symbol</code>ç±»å‹ã€‚</p><h3 id="symbol-çš„ä½¿ç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#symbol-çš„ä½¿ç”¨æ–¹æ³•" aria-hidden="true">#</a> Symbol çš„ä½¿ç”¨æ–¹æ³•</h3><p><code>Symbol</code>å¯ä»¥ç”¨äºå¯è®¡ç®—å¯¹è±¡å­—é¢é‡å±æ€§åï¼Œ <code>Object.defineProperty()</code>æ–¹æ³•å’Œ<code>Object.defineProperties()</code>æ–¹æ³•çš„è°ƒç”¨è¿‡ç¨‹ä¸­ã€‚</p><h3 id="symbol-å…±äº«ä½“ç³»" tabindex="-1"><a class="header-anchor" href="#symbol-å…±äº«ä½“ç³»" aria-hidden="true">#</a> Symbol å…±äº«ä½“ç³»</h3><p>æƒ³è¦åœ¨ä¸åŒä»£ç ä¸­å…±äº«ä¸€ä¸ª<code>Symbol</code>ï¼Œ å¯ä»¥è¯•ç”¨<code>Symbol.for()</code>;</p><h3 id="symbol-ä¸ç±»å‹å¼ºåˆ¶è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#symbol-ä¸ç±»å‹å¼ºåˆ¶è½¬æ¢" aria-hidden="true">#</a> Symbol ä¸ç±»å‹å¼ºåˆ¶è½¬æ¢</h3><p>å¦‚æœä½ å°è¯•å°†<code>Symbol</code>å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ åˆ™ä¼šæŠ›å‡ºé”™è¯¯ã€‚åŒæ ·ï¼Œ ä»–ä¹Ÿä¸èƒ½å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ç±»å‹ã€‚ ä½¿ç”¨é€»è¾‘æ“ä½œç¬¦çš„è¯ä¼šè¿”å›<code>true</code>ã€‚</p><h3 id="symbol-å±æ€§æ£€ç´¢" tabindex="-1"><a class="header-anchor" href="#symbol-å±æ€§æ£€ç´¢" aria-hidden="true">#</a> Symbol å±æ€§æ£€ç´¢</h3><p><code>Object.keys()</code>æ–¹æ³•å¯ä»¥åæ‚”æ‰€æœ‰å¯æšä¸¾çš„å±æ€§åã€‚<code>Object.getOwnPropertyNames</code>æ–¹æ³•å¯ä»¥ä¸è€ƒè™‘å±æ€§çš„å¯æšä¸¾æ€§ä¸€å¾‹è¿”å›ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¸æ”¯æŒ<code>Symbol</code>å±æ€§ã€‚ åœ¨ ES6 ä¸­ï¼Œ <code>Object.getOwnProperty-Symbols()</code>æ–¹æ³•æ¥æ£€ç´¢å¯¹è±¡ä¸­çš„<code>Symbol</code>å±æ€§ã€‚</p><h2 id="set-é›†åˆä¸-map-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#set-é›†åˆä¸-map-é›†åˆ" aria-hidden="true">#</a> Set é›†åˆä¸ Map é›†åˆ</h2><h3 id="set-é›†åˆä¸-map-é›†åˆ-1" tabindex="-1"><a class="header-anchor" href="#set-é›†åˆä¸-map-é›†åˆ-1" aria-hidden="true">#</a> Set é›†åˆä¸ Map é›†åˆ</h3><ul><li><p>Set é›†åˆæ˜¯ä¸€ç§æ— é‡å¤å…ƒç´ çš„åˆ—è¡¨ï¼Œé€šå¸¸çš„åšæ³•æ˜¯æ£€æµ‹ç»™å®šçš„å€¼åœ¨æŸä¸ªé›†åˆä¸­æ˜¯å¦å­˜åœ¨ã€‚</p></li><li><p>Map é›†åˆå†…å«å¤šç»„é”®å€¼å¯¹ï¼Œé›†åˆä¸­æ¯ä¸ªå…ƒç´ åˆ†åˆ«å­˜æ”¾ç€å¯è®¿é—®çš„é”®åå’Œå®ƒå¯¹åº”çš„å€¼ã€‚Map é›†åˆç»å¸¸ç”¨äºç¼“å­˜é¢‘ç¹å–ç”¨çš„æ•°æ®ã€‚</p></li></ul><p>ä¸€èˆ¬æ¥è¯´ï¼Œ Set é›†åˆå¸¸ç”¨è¯­æ£€æŸ¥å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®åï¼Œ è€Œ Map é›†åˆå¸¸å¤‡ç”¨äºè·å–å·²å­˜çš„ä¿¡æ¯ã€‚</p><h3 id="es6-ä¸­çš„-set-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#es6-ä¸­çš„-set-é›†åˆ" aria-hidden="true">#</a> ES6 ä¸­çš„ Set é›†åˆ</h3><p>ES6 ä¸­çš„ Set é›†åˆæ˜¯ä¸€ç§æœ‰åºåˆ—è¡¨ï¼Œ å…¶ä¸­å«æœ‰ä¸€äº›ç›¸äº’ç‹¬ç«‹çš„éé‡å¤å€¼ï¼Œ é€šè¿‡ Set é›†åˆå¯ä»¥å¿«é€Ÿè®¿é—®å…¶ä¸­çš„æ•°æ®ï¼Œ æ›´æœ‰æ•ˆçš„è¿½è¸ªå„ç§ç¦»æ•£å€¼ã€‚</p><h4 id="åˆ›å»º-set-é›†åˆå¹¶æ·»åŠ å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#åˆ›å»º-set-é›†åˆå¹¶æ·»åŠ å…ƒç´ " aria-hidden="true">#</a> åˆ›å»º Set é›†åˆå¹¶æ·»åŠ å…ƒç´ </h4><p>è°ƒç”¨<code>new Set()</code>åˆ›å»º Set é›†åˆï¼Œ è°ƒç”¨<code>add()</code>æ–¹æ³•å‘é›†åˆä¸­æ·»åŠ å…ƒç´ ï¼Œ è®¿é—®é›†åˆçš„<code>size</code>å±æ€§å¯ä»¥è·å–é›†åˆä¸­ç›®å‰çš„å…ƒç´ æ•°é‡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//Seté›†åˆå’ŒMapé›†åˆ</span>
<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;5&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">,</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2  {5, &quot;5&quot;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ Set é›†åˆä¸­ï¼Œ ä¸ä¼šå¯¹æ‰€å­˜å€¼è¿›è¡Œå¼ºåˆ¶çš„ç±»å‹è½¬æ¢ï¼Œ æ•°å­— 5 å’Œå­—ç¬¦ä¸²â€œ5â€å¯ä»¥ä½œä¸ºä¸¤ä¸ªå•ç‹¬å…ƒç´ å­˜åœ¨ã€‚ä½¿ç”¨<code>Object.is()</code>æ–¹æ³•æ£€æµ‹ä¸¤ä¸ªå€¼æ˜¯å¦ä¸€è‡´ï¼Œ å”¯ä¸€ä¾‹å¤–çš„æ˜¯ï¼Œ Set é›†åˆä¸­+0 å’Œ-0 æ˜¯ç›¸ç­‰çš„ã€‚ å¦‚æœæƒ³ Set é›†åˆæ·»åŠ å¤šä¸ªå¯¹è±¡ï¼Œ ä»–ä»¬ä¹‹é—´å½¼æ­¤ä¿æŒç‹¬ç«‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  key1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  key2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>key1</code>å’Œ<code>key2</code>ä¸ä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå®ƒä»¬åœ¨é›†åˆä¸­æ˜¯ä¸¤ä¸ªå•ç‹¬çš„å…ƒç´ ã€‚</p><p>å¦‚æœå¤šæ¬¡è°ƒç”¨<code>add()</code>æ–¹æ³•å¹¶ä¼ å…¥ç›¸åŒçš„å€¼ä½œä¸ºå‚æ•°ï¼Œ é‚£ä¹ˆåç»­çš„è°ƒç”¨ä¼šè¢«å¿½ç•¥ã€‚ Set æ„é€ å‡½æ•°ä¼šè¿‡æ»¤æ‰é‡å¤çš„å€¼ä»è€Œä¿è¯é›†åˆä¸­çš„å…ƒç´ å„è‡ªå”¯ä¸€ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªåŠ¨å»é‡çš„åŠŸèƒ½å¯¹äºå°†å·²æœ‰ä»£ç æˆ–è€… JSON è§£æ„è½¬æ¢ä¸º Set é›†åˆæ‰§è¡Œéå¸¸å¥½ã€‚</p><p>Set æ„é€ å‡½æ•°å¯ä»¥æ¥å—æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œ å¦‚ï¼šæ•°ç»„ã€Set é›†åˆ ã€ Map é›†åˆã€‚</p><p>é€šè¿‡<code>has()</code>æ–¹æ³•æ£€æµ‹ Set é›†åˆä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;6&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç æ²¡æœ‰<strong>æ•°å­—</strong>6 è¿™ä¸ªå€¼ï¼Œ æ‰€ä»¥<code>set.has(6)</code>è°ƒç”¨è¿”å›<code>false</code>ã€‚</p><h4 id="ç§»é™¤å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#ç§»é™¤å…ƒç´ " aria-hidden="true">#</a> ç§»é™¤å…ƒç´ </h4><p>è°ƒç”¨<code>delete()</code>æ–¹æ³•ç§»é™¤æŸä¸ªå…ƒç´ ï¼Œ è°ƒç”¨<code>clear()</code>æ–¹æ³•ç§»é™¤é›†åˆæ‰€æœ‰å…ƒç´ ã€‚</p><h4 id="set-é›†åˆä¸­çš„-foreach-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#set-é›†åˆä¸­çš„-foreach-æ–¹æ³•" aria-hidden="true">#</a> Set é›†åˆä¸­çš„ forEachï¼ˆï¼‰æ–¹æ³•</h4><p>å’Œ ES5 ä¸­çš„<code>forEach()</code>æ–¹æ³•ç±»ä¼¼ï¼Œ ä¸åŒçš„æ˜¯ Set é›†åˆæ²¡æœ‰é”®åï¼Œå®ƒçš„å›è°ƒå‡½æ•°å‰ä¸¤ä¸ªå‚æ•°å…·æœ‰ç›¸åŒå«ä¹‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> ownerSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ownerSet <span class="token operator">===</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220805091503226.png" alt="image-20220805091503226"></p><p>åœ¨ Set é›†åˆçš„<code>forEach()</code>æ–¹æ³•ä¸­ï¼Œ ç¬¬äºŒä¸ªå‚æ•°ä¸æ•°ç»„ä¸€æ ·ï¼Œ å¦‚æœéœ€è¦åœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨<code>this</code>å¼•ç”¨ï¼Œ åˆ™å¯ä»¥å°†å®ƒä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥<code>forEach()</code>å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> processor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">output</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">process</span><span class="token punctuation">(</span><span class="token parameter">dataSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dataSet<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
processor<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å‰ªå¤´å‡½æ•°ï¼Œ è¿™æ ·å°±æ— é¡»å†å°†<code>this</code>ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å›è°ƒå‡½æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> processor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">output</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">process</span><span class="token punctuation">(</span><span class="token parameter">dataSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dataSet<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
processor<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·è®°ä½ï¼ŒSet é›†åˆæ›´é€‚åˆè·Ÿè¸ªå¤šä¸ªå€¼ï¼Œ ä¹Ÿå¯ä»¥é€šè¿‡<code>forEach()</code>æ“ä½œæ¯ä¸ªå…ƒç´  ï¼Œ ä½†æ˜¯ä¸èƒ½åƒæ•°ç»„å…ƒç´ é‚£æ ·ç›´æ¥é€šè¿‡ç´¢å¼•æ¥è®¿é—®é›†åˆä¸­çš„å…ƒç´ ã€‚ å¦‚æœ‰éœ€è¦ï¼Œ æœ€å¥½å…ˆå°† Set é›†åˆè½¬æ¢æˆä¸€ä¸ªæ•°ç»„ã€‚</p><h4 id="å°†-set-é›†åˆè½¬æ¢ä¸ºæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#å°†-set-é›†åˆè½¬æ¢ä¸ºæ•°ç»„" aria-hidden="true">#</a> å°† Set é›†åˆè½¬æ¢ä¸ºæ•°ç»„</h4><p>å°†æ•°ç»„è½¬æ¢ä¸º Set é›†åˆåªéœ€è¦åœ¨ Set æ„é€ å‡½æ•°ä¼ å…¥æ•°ç»„å³å¯ã€‚ è€Œ Set é›†åˆè½¬æ•°ç»„ä¹Ÿéå¸¸ç®€å•ï¼Œ åªéœ€è¦ç”¨å±•å¼€è¿ç®—ç¬¦ï¼ˆ<code>...</code>ï¼‰å³å¯ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>set<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1, 2, 3]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="weak-set-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#weak-set-é›†åˆ" aria-hidden="true">#</a> Weak Set é›†åˆ</h3><p>Set é›†åˆä¸å­˜å‚¨åœ¨å˜é‡ä¸­å®Œå…¨ä¸€æ ·ï¼Œ æ˜¯ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚ åªè¦ Set å®ä¾‹ä¸­çš„å¼•ç”¨å­˜åœ¨ï¼Œ åƒåœ¾å›æ”¶æœºåˆ¶å°±ä¸èƒ½é‡Šæ”¾è¯¥å¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  key <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//4</span>
<span class="token comment">//ç§»é™¤åŸå§‹å¼•ç”¨</span>
key <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//4</span>
<span class="token comment">//é‡æ–°å–å›åŸå§‹å¼•ç”¨</span>
key <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>set<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å³ä½¿å°†å˜é‡<code>key</code>è®¾ç½®ä¸º<code>null</code>æ—¶æ¸…é™¤äº†åˆå§‹å¯¹è±¡çš„å¼•ç”¨ï¼Œ ä½†æ˜¯ Set é›†åˆä¿ç•™äº†è¿™ä¸ªå¼•ç”¨ï¼Œ ä»ç„¶å¯ä»¥å–å‡ºè¯¥å¼•ç”¨ã€‚</p><p>å¦‚æœæˆ‘ä»¬å¸Œæœ›å½“å…¶ä»–å¼•ç”¨ä¸å­˜åœ¨æ—¶ï¼Œ Set é›†åˆä¸­çš„å¼•ç”¨ä¹Ÿæ¶ˆå¤±ã€‚ å¦‚åœ¨ Web é¡µé¢ä¸­è®°å½•ä¸€äº› DOM å…ƒç´ ï¼Œ è¿™äº›å…ƒç´ æœ‰å¯èƒ½è¢«ç§»é™¤ï¼Œ è€Œä½ åˆä¸å¸Œæœ›è‡ªå·±çš„ä»£ç ä¿ç•™è¿™äº› DOM å…ƒç´ çš„æœ€åä¸€ä¸ªå¼•ç”¨ã€‚ï¼ˆè¿™ä¸ªæƒ…æ™¯ç§°ä¸ºå†…å­˜æ³„æ¼ã€‚ï¼‰</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES6 ä¸­çš„ WeakSet é›†åˆï¼ˆå¼±å¼•ç”¨ Set é›†åˆï¼‰ã€‚WeakSet é›†åˆåªå­˜å‚¨å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œ å¹¶ä¸”ä¸å¯ä»¥å­˜å‚¨åŸå§‹å€¼ã€‚ é›†åˆä¸­çš„å¼±å¼•ç”¨å¦‚æœæ˜¯å¯¹è±¡ä¸­çš„å”¯ä¸€å¼•ç”¨ï¼Œ åˆ™ä¼šè¢«å›æ”¶å¹¶é‡Šæ”¾ç›¸åº”å†…å­˜ã€‚</p><h4 id="åˆ›å»º-weakset-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#åˆ›å»º-weakset-é›†åˆ" aria-hidden="true">#</a> åˆ›å»º WeakSet é›†åˆ</h4><p>WeakSet é›†åˆæ”¯æŒä¸‰ä¸ªæ–¹æ³•ï¼š<code>add()</code>æ·»åŠ , <code>has()</code>æ£€æŸ¥, <code>delete()</code>åˆ é™¤ï¼›</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> key1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  key2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·åŠ¡å¿…è¦è®°ä½ï¼Œ WeakSet æ„é€ å‡½æ•°ä¸æ¥å—ä»»ä½•åŸå§‹å€¼ï¼Œ å¦‚æœæ•°ç»„ä¸­åŒ…å«å…¶å®ƒéå¯¹è±¡å€¼ï¼Œ ç¨‹åºä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><h4 id="ä¸¤ç§-set-ç±»å‹ä¸»è¦åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ä¸¤ç§-set-ç±»å‹ä¸»è¦åŒºåˆ«" aria-hidden="true">#</a> ä¸¤ç§ Set ç±»å‹ä¸»è¦åŒºåˆ«</h4><p>æœ€å¤§åŒºåˆ«æ˜¯ WeakSet ä¿å­˜çš„æ˜¯å¯¹è±¡å€¼çš„å¼±å¼•ç”¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  key <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token comment">//ç§»é™¤åŸå§‹å¼•ç”¨, WeakSetä¸­çš„å¼•ç”¨ä¹Ÿè‡ªåŠ¨ç§»é™¤ã€‚</span>
key <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç æ‰§è¡Œä»¥åï¼Œ å°±æ— æ³•è®¿é—® WeakSet ä¸­çš„<code>key</code>å¼•ç”¨äº†ã€‚</p><h5 id="å·®åˆ«" tabindex="-1"><a class="header-anchor" href="#å·®åˆ«" aria-hidden="true">#</a> å·®åˆ«ï¼š</h5><ul><li>WeakSet å®ä¾‹ä¸­ï¼Œ å‘<code>add()</code>æ–¹æ³•ä¼ å…¥éå¯¹è±¡å‚æ•°ä¼šæŠ¥é”™ã€‚<code>has()</code>å’Œ<code>delete()</code>æ–¹æ³•ä¼ å…¥éå¯¹è±¡å‚æ•°ä¼šè¿”å›<code>false</code>ã€‚</li><li>WeakSet ä¸å¯è¿­ä»£ï¼Œ ä¸èƒ½ç”¨äº<code>for-of</code>å¾ªç¯ã€‚</li><li>WeakSet ä¸æš´éœ²ä»»ä½•è¿­ä»£å™¨ï¼Œå¦‚<code>keys()</code>,<code>values()</code>æ–¹æ³•ï¼Œ æ‰€ä»¥æ— æ³•é€šè¿‡ç¨‹åºæœ¬èº«æ¥æ£€æµ‹å…¶ä¸­çš„å†…å®¹ã€‚</li><li>WeakSet ä¸æ”¯æŒ<code>forEach()</code>æ–¹æ³•ã€‚</li><li>WeakSet ä¸æ”¯æŒ <code>size</code>å±æ€§ã€‚</li></ul><p>WeakSet é›†åˆåŠŸèƒ½çœ‹ä¼¼å—é™ï¼Œ å…¶å®æ˜¯ä¸ºäº†æ›´å¥½åœ°å¤„ç†å†…å­˜ä¸­çš„æ•°æ®ã€‚ æ€»ä¹‹ï¼Œ å¦‚æœä½ åªéœ€è¦è·Ÿè¸ªå¯¹è±¡å¼•ç”¨ï¼Œ ä½ æ›´åº”è¯¥ä½¿ç”¨ WeakSet é›†åˆè€Œä¸æ˜¯æ™®é€šçš„<code>set</code>é›†åˆã€‚</p><h3 id="es6-ä¸­çš„-map-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#es6-ä¸­çš„-map-é›†åˆ" aria-hidden="true">#</a> ES6 ä¸­çš„ Map é›†åˆ</h3><p>Set ç±»å‹å¯ä»¥å¤„ç†åˆ—è¡¨ä¸­çš„å€¼ï¼Œ ä½†æ˜¯ä¸é€‚ç”¨äºå¤„ç†é”®å€¼å¯¹è¿™æ ·çš„ä¿¡æ¯ç»“æ„ã€‚ES6 æ·»åŠ äº† Map é›†åˆæ¥è§£å†³ç±»ä¼¼é—®é¢˜ã€‚</p><p>ES6 çš„ Map ç±»å‹æ˜¯ä¸€ç§å­˜å‚¨è®¸å¤šé”®å€¼å¯¹çš„æœ‰åºåˆ—è¡¨ï¼Œ å…¶ä¸­é”®åå’Œå¯¹åº”çš„å€¼æ”¯æŒæ‰€æœ‰æ•°æ®ç±»å‹ã€‚é”®åçš„ç­‰ä»·æ€§åˆ¤æ–­æ˜¯é€šè¿‡è°ƒç”¨<code>Object.is()</code>æ–¹æ³•æ¥å®ç°çš„ï¼Œ æ‰€ä»¥æ•°å­— 5 å’Œå­—ç¬¦ä¸² 5 ä¼šè¢«åˆ¤å®šä¸ºä¸¤ç§ç±»å‹ï¼Œ å¯ä»¥åˆ†åˆ«ä½œä¸ºç‹¬ç«‹çš„ä¸¤ä¸ªé”®å‡ºç°åœ¨ç¨‹åºä¸­ï¼Œ è¿™ä¸€ç‚¹ä¸å¯¹è±¡ä¸å¤ªä¸€æ ·ï¼Œ å› ä¸ºå¯¹è±¡çš„å±æ€§åä¼šå¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</p><p>å‘ Map é›†åˆæ·»åŠ æ–°å…ƒç´ ä½¿ç”¨<code>set()</code>æ–¹æ³•å¹¶åˆ†åˆ«ä¼ å…¥é”®åå’Œå¯¹åº”å€¼ä½œä¸ºä¸¤ä¸ªå‚æ•°ã€‚ å¦‚æœè¦è·å–ä¿¡æ¯ï¼Œ å¯ä»¥è°ƒç”¨<code>get()</code>æ–¹æ³•ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;es6&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2019&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//es6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2019</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè°ƒç”¨<code>get()</code>æ–¹æ³•æ—¶ä¼ å…¥çš„é”®ååœ¨ Map é›†åˆä¸å­˜åœ¨ï¼Œ åˆ™ä¼šè¿”å›<code>undefined</code>ã€‚</p><p>åœ¨å¯¹è±¡ä¸­ï¼Œ æ— æ³•ä½¿ç”¨å¯¹è±¡ä½œä¸ºå¯¹è±¡å±æ€§çš„é”®åï¼Œ ä½†åœ¨ Map é›†åˆä¸­ï¼Œ å´å¯ä»¥è¿™æ ·åšã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  key1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  key2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key1<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key2<span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//42</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="map-é›†åˆæ”¯æŒçš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#map-é›†åˆæ”¯æŒçš„æ–¹æ³•" aria-hidden="true">#</a> Map é›†åˆæ”¯æŒçš„æ–¹æ³•</h4><p>Map é›†åˆå’Œ Set é›†åˆè®¾è®¡äº† 3 ä¸ªé€šç”¨çš„æ–¹æ³•ï¼š</p><ol><li><code>has(key)</code>æ£€æµ‹æŒ‡å®šçš„é”®ååœ¨ Map é›†åˆä¸­æ˜¯å¦å·²ç»å­˜åœ¨ã€‚</li><li><code>delete(key)</code>ä» Map é›†åˆä¸­ç§»é™¤æŒ‡å®šé”®ååŠå¯¹åº”çš„å€¼ã€‚</li><li><code>clear()</code>ç§»é™¤ Map é›†åˆä¸­çš„æ‰€æœ‰é”®å€¼å¯¹</li></ol><p>Map é›†åˆåŒæ ·ä¹Ÿæ”¯æŒ<code>size</code>å±æ€§ï¼Œ å…¶ä»£è¡¨å½“å‰é›†åˆä¸­æ‰€å«çš„é”®å€¼å¯¹æ•°é‡ã€‚</p><h4 id="map-é›†åˆçš„åˆå§‹åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#map-é›†åˆçš„åˆå§‹åŒ–æ–¹æ³•" aria-hidden="true">#</a> Map é›†åˆçš„åˆå§‹åŒ–æ–¹æ³•</h4><p>å¯ä»¥å‘<code>Map</code>æ„é€ å‡½æ•°ä¼ å…¥==æ•°ç»„==æ¥åˆå§‹åŒ–ä¸€ä¸ª Map é›†åˆï¼Œ è¿™ä¸€ç‚¹ä¸ Set ç›¸ä¼¼ã€‚æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå­æ•°ç»„ï¼Œ ==å­æ•°ç»„åŒ…å«ä¸€ä¸ªé”®å€¼å¯¹çš„é”®åä¸å€¼ä¸¤ä¸ªå…ƒç´ ==ã€‚å› æ­¤ï¼Œ æ•´ä¸ª Map é›†åˆåŒ…å«çš„å…¨æ˜¯è¿™æ ·çš„ä¸¤å…ƒç´ æ•°ç»„ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nicholas&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;25&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//nicholas</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="map-é›†åˆä¸­çš„-foreach-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#map-é›†åˆä¸­çš„-foreach-æ–¹æ³•" aria-hidden="true">#</a> Map é›†åˆä¸­çš„ forEach()æ–¹æ³•</h4><p>Map é›†åˆä¸­çš„<code>forEach()</code>æ–¹æ³•ç±»ä¼¼ï¼Œ å›è°ƒå‡½æ•°æ¥å— 3 ä¸ªå‚æ•°ï¼š</p><ul><li>Map é›†åˆä¸­ä¸‹ä¸€æ¬¡ç´¢å¼•çš„ä½ç½®</li><li>å€¼å¯¹åº”çš„é”®å</li><li>Map é›†åˆæœ¬èº«</li></ul><p>è¿™äº›å›è°ƒå‚æ•°ä¸æ•°ç»„ä¸­çš„æ›´ç›¸è¿‘ï¼Œ ç¬¬ä¸€å‚æ•°æ˜¯å€¼ï¼Œ ç¬¬äºŒä¸ªæ˜¯é”®åï¼ˆåœ¨æ•°ç»„ä¸­å¯¹åº”çš„æ˜¯æ•°å€¼å‹çš„ç´¢å¼•å€¼ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nicholas&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;25&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> k<span class="token punctuation">,</span> ownerMap</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ownerMap <span class="token operator">===</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220805091544344.png" alt="image-20220805091544344"></p><p>éå†è¿‡ç¨‹ä¸­ï¼Œ ä¼šæŒ‰ç…§é”®å€¼å¯¹æ’å…¥ Map é›†åˆçš„é¡ºåºå°†ç›¸åº”ä¿¡æ¯ä¼ å…¥<code>forEach()</code>æ–¹æ³•çš„å›è°ƒå‡½æ•°ï¼Œ è€Œåœ¨æ•°ç»„ä¸­ï¼Œ ä¼šæŒ‰ç…§æ•°å€¼å‹ç´¢å¼•å€¼çš„é¡ºåºä¾æ¬¡ä¼ å…¥å›è°ƒå‡½æ•°ã€‚</p><h3 id="weakset-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#weakset-é›†åˆ" aria-hidden="true">#</a> WeakSet é›†åˆ</h3><p>WeakSet æ˜¯å¼±å¼•ç”¨ Map é›†åˆï¼Œ ç”¨äºå­˜å‚¨å¯¹è±¡çš„å¼±å¼•ç”¨ã€‚==WeakMap é›†åˆé”®åå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡==ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚é›†åˆçš„é”®åå¯¹è±¡çš„å¼±å¼•ç”¨ä¹‹å¤–å¦‚æœä¸å­˜åœ¨å…¶ä»–å¼ºå¼•ç”¨ï¼Œ åˆ™å¼•æ“åƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¿™ä¸ªå¯¹è±¡ï¼Œ åŒæ—¶ä¹Ÿä¼šç§»é™¤ WeakMap é›†åˆä¸­çš„é”®å€¼å¯¹ã€‚==é›†åˆçš„é”®å€¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ åˆ™ä¿å­˜çš„æ˜¯å¯¹è±¡çš„å¼ºå¼•ç”¨ï¼Œ ä¸ä¼šè§¦å‘åƒåœ¾å›æ”¶æœºåˆ¶ã€‚==</p><p>WeakMap æœ€å¤§ç”¨é€”æ˜¯ä¿å­˜ Web é¡µé¢ä¸­çš„ DOM å…ƒç´ ã€‚</p><h4 id="ä½¿ç”¨-weakmap-é›†åˆ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-weakmap-é›†åˆ" aria-hidden="true">#</a> ä½¿ç”¨ WeakMap é›†åˆ</h4><p>ES6 ä¸­çš„ WeakMap ç±»å‹æ˜¯ä¸€ç§å­˜å‚¨è®¸å¤šé”®å€¼å¯¹çš„æ— åºåˆ—è¡¨ï¼Œ åˆ—è¡¨çš„é”®åå¿…é¡»æ˜¯é<code>null</code>ç±»å‹å¯¹è±¡ï¼Œ é”®åå¯¹åº”çš„å€¼å¯ä»¥ä½¿ä»»ä½•ç±»å‹ã€‚ä¸ Map éå¸¸ç›¸ä¼¼ï¼Œ é€šè¿‡ Set()æ–¹æ³•æ·»åŠ æ•°æ®ï¼Œ é€šè¿‡ Get()æ–¹æ³•è·å–æ•°æ®ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.element&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">&#39;Original&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Original</span>
<span class="token comment">//ç§»é™¤elementå…ƒç´ </span>
element<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
element <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
<span class="token comment">//æ­¤æ—¶WeakMapé›†åˆä¸ºç©º</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä»é¡µé¢æ–‡æ¡£ç§»é™¤ DOM å…ƒç´ ï¼Œ å¹¶å°†å¼•ç”¨çš„è¿™ä¸ªå…ƒç´ è®¾ç½®ä¸º<code>null</code>ï¼Œ é‚£ä¹ˆ WeakMap é›†åˆä¸­çš„æ•°æ®ä¹Ÿä¼šè¢«æ¸…é™¤ã€‚</p><p>ä¸ WeakSet é›†åˆç›¸ä¼¼ï¼Œ WeakMao ä¹Ÿä¸æ”¯æŒ<code>size</code>å±æ€§ã€‚åœ¨å…¶å®ƒå¼•ç”¨è¢«ç§»é™¤åï¼Œ ç”±äºå¯¹é”®çš„å¼•ç”¨ä¸å†æœ‰æ®‹ç•™ï¼Œ ä¹Ÿæ— æ³•è°ƒç”¨<code>get()</code>æ–¹æ³•æ¥æå–å¯¹åº”çš„å€¼ã€‚Weak Map å·²ç»åˆ‡æ–­äº†å¯¹äºè¯¥å€¼çš„è®¿é—®ï¼Œ å…¶æ‰€å çš„å†…å­˜åœ¨åƒåœ¾å›æ”¶å™¨è¿è¡Œæ—¶ä¾¿ä¼šè¢«é‡Šæ”¾ã€‚</p><h4 id="weak-map-åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#weak-map-åˆå§‹åŒ–" aria-hidden="true">#</a> Weak Map åˆå§‹åŒ–</h4><p>WeakMap æ„é€ å‡½æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªæ•°ç»„å®¹å™¨ï¼Œ å®¹å™¨å†…åŒ…å«å…¶å®ƒæ•°ç»„ã€‚å†…éƒ¨æ•°ç»„åº”å½“æœ‰ä¸¤é¡¹ï¼Œ ç¬¬ä¸€é¡¹æ˜¯ä½œä¸ºé”®çš„==é<code>null</code>çš„å¯¹è±¡==ï¼Œ ç¬¬äºŒé¡¹åˆ™æ˜¯å¯¹åº”çš„å€¼ï¼ˆ ä»»æ„ç±»å‹ï¼‰ ã€‚</p><p>å¦‚æœä¼ å…¥çš„é”®å€¼å«æœ‰éå¯¹è±¡çš„é”®ï¼Œ ä¼šæŠ¥é”™ã€‚</p><h4 id="weak-map-é›†åˆæ”¯æŒçš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#weak-map-é›†åˆæ”¯æŒçš„æ–¹æ³•" aria-hidden="true">#</a> Weak Map é›†åˆæ”¯æŒçš„æ–¹æ³•</h4><p>WeakMap æœ‰ä¸¤ä¸ªå¯ä»¥æ“ä½œé”®å€¼å¯¹çš„æ–¹æ³•ï¼Œ <code>has()</code>æ£€æµ‹ç»™å®šçš„é”®åœ¨é›†åˆä¸­æ˜¯å¦å­˜åœ¨ï¼Œ <code>delete()</code>æ–¹æ³•ç§»é™¤æŒ‡å®šçš„é”®å€¼å¯¹ã€‚ä¸ WeakSet é›†åˆä¸€æ ·ï¼Œ äºŒè€…ä¸æ”¯æŒé”®åæšä¸¾ã€‚ ä»è€Œä¸æ”¯æŒ<code>clear()</code>æ–¹æ³•ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.element&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">&#39;Original&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Original</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç§æœ‰å¯¹è±¡æ•°æ®" tabindex="-1"><a class="header-anchor" href="#ç§æœ‰å¯¹è±¡æ•°æ®" aria-hidden="true">#</a> ç§æœ‰å¯¹è±¡æ•°æ®</h4><p>è™½ç„¶å¤§å¤šæ•°å¼€å‘è€…è®¤ä¸º Weak Map çš„ä¸»è¦ç”¨é€”æ˜¯å­˜å‚¨ DOM å…ƒç´ ï¼Œ ä½†ä»ç„¶è¿˜å­˜åœ¨è¨±å¤šå¯èƒ½çš„ç”¨æ³• ã€‚Weak Map çš„ä¸€ä¸ªå®é™…åº”ç”¨å°±æ˜¯åœ¨å¯¹è±¡å®ä¾‹ä¸­==å­˜å‚¨ç§æœ‰æ•°æ®==ã€‚åœ¨ ES6 ä¸­å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å…¬å¼€çš„ï¼Œ å› æ­¤è‹¥æƒ³è®©æ•°æ®å¯¹äºå¯¹è±¡è‡ªèº«å¯è®¿é—®ã€è€Œåœ¨å…¶ä»–æ¡ä»¶ä¸‹ä¸å¯è®¿é—®ï¼Œ é‚£ä¹ˆä½ å°±éœ€è¦ä½¿ç”¨ä¸€äº›åˆ›é€ åŠ›ã€‚å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> Person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> privateData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    privateData<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> privateData<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ç‰ˆæœ¬çš„<code>Person</code> èŒƒä¾‹ä½¿ç”¨äº† Weak Map è€Œä¸æ˜¯å¯¹è±¡æ¥ä¿å­˜ç§æœ‰æ•°æ®ã€‚ç”±äº person å¯¹è±¡çš„å®ä¾‹æœ¬èº«èƒ½è¢«ä½œä¸ºé”®æ¥ä½¿ç”¨ï¼Œ äºæ˜¯ä¹Ÿå°±æ— é¡»å†è®°å½•å•ç‹¬çš„<code>id</code>ã€‚å½“<code>Person</code> æ„é€ å™¨è¢«è°ƒç”¨æ—¶ï¼Œå°†<code>this</code> ä½œä¸ºé”®åœ¨ Weak Map ä¸Šå»ºç«‹äº†ä¸€ä¸ªå…¥å£ï¼Œ è€ŒåŒ…å«ç§æœ‰ä¿¡æ¯çš„å¯¹è±¡æˆä¸ºäº†å¯¹åº”çš„å€¼ï¼Œå…¶ä¸­åªå­˜æ”¾äº†<code>name</code> å±æ€§ã€‚é€šè¿‡å°†<code>this</code> ä¼ é€’ç»™<code>privateData</code> ï¼Œ <code>get()</code> æ–¹æ³•ï¼Œ ä»¥èŒ¯å–å€¼å¯¹è±¡å¹¶è®¿é—®å…¶<code>name</code> å±æ€§ï¼Œ <code>getName()</code> å‡½æ•°ä¾¿èƒ½æå–æœ‰ä¿¡æ¯ã€‚è¿™ç§æŠ€æœ¯è®©ç§æœ‰ä¿¡æ¯èƒ½å¤Ÿä¿æŒç§æœ‰çŠ¶æ€ï¼Œ å¹¶ä¸”å½“ä¸ä¹‹å…³è”çš„å¯¹è±¡å®ä¾‹è¢«é”€æ¯æ—¶ï¼Œ ç§æœ‰ä¿¡æ¯ä¹Ÿä¼šè¢«åŒæ—¶é”€æ¯ã€‚</p><h4 id="weak-map-é›†åˆçš„ä½¿ç”¨æ–¹å¼åŠä½¿ç”¨é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#weak-map-é›†åˆçš„ä½¿ç”¨æ–¹å¼åŠä½¿ç”¨é™åˆ¶" aria-hidden="true">#</a> Weak Map é›†åˆçš„ä½¿ç”¨æ–¹å¼åŠä½¿ç”¨é™åˆ¶</h4><p>å½“å†³å®šæ˜¯è¦ä½¿ç”¨ Weak Map è¿˜æ˜¯ä½¿ç”¨æ­£è§„ Map æ—¶ï¼Œ é¦–è¦è€ƒè™‘å› ç´ åœ¨äºä½ ==æ˜¯å¦åªæƒ³ä½¿ç”¨å¯¹è±¡ç±»å‹çš„é”®==ã€‚å¦‚æœä½ æ‰“ç®—è¿™ä¹ˆåšï¼Œ é‚£ä¹ˆæœ€å¥½çš„é€‰æ‹©å°±æ˜¯ Weak Map ã€‚å› ä¸ºå®ƒèƒ½ç¡®ä¿é¢å¤–æ•°æ®åœ¨ä¸å†å¯ç”¨åè¢«é”€æ¯ï¼Œ ä»è€Œèƒ½ä¼˜åŒ–å†…å­˜ä½¿ç”¨å¹¶è§„é¿å†…å­˜æ³„æ¼ã€‚è¦è®°ä½ Weak Map åªä¸ºå®ƒä»¬çš„å†…å®¹æä¾›äº†å¾ˆå°çš„å¯è§åº¦ï¼Œ å› æ­¤ä½ ä¸èƒ½ä½¿ç”¨<code>forEach()</code> æ–¹æ³•ã€<code>size</code> å±æ€§æˆ–<code>clear()</code> æ–¹æ³•æ¥ç®¡ç†å…¶ä¸­çš„é¡¹ã€‚å¦‚æœä½ ç¡®å®éœ€è¦ä¸€äº›æ£€æµ‹åŠŸèƒ½ï¼Œ é‚£ä¹ˆæ­£è§„ Map ä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œ åªæ˜¯ä¸€å®šè¦ç¡®ä¿ç•™æ„å†…å­˜çš„ä½¿ç”¨ã€‚å½“ç„¶ï¼Œ è‹¥ä½ æƒ³ä½¿ç”¨éå¯¹è±¡çš„é”®ï¼Œ é‚£ä¹ˆæ­£è§„ Map å°±æ˜¯å”¯ä¸€é€‰æ‹©ã€‚</p><h2 id="è¿­ä»£å™¨-iterator-å’Œç”Ÿæˆå™¨-generator" tabindex="-1"><a class="header-anchor" href="#è¿­ä»£å™¨-iterator-å’Œç”Ÿæˆå™¨-generator" aria-hidden="true">#</a> è¿­ä»£å™¨(iterator)å’Œç”Ÿæˆå™¨(Generator)</h2><p>ç”¨å¾ªç¯è¯­å¥è¿­ä»£æ•°æ®æ—¶ï¼Œ å¿…é¡»è¦åˆå§‹åŒ–ä¸€ä¸ªå˜é‡æ¥è®°å½•æ¯ä¸€æ¬¡è¿­ä»£åœ¨æ•°æ®é›†åˆä¸­çš„ä½ç½®ã€‚ è€Œåœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­ï¼Œ å·²ç»å¼€å§‹é€šè¿‡ç¨‹åºåŒ–çš„æ–¹å¼ç”¨è¿­ä»£å™¨å¯¹è±¡è¿”å›è¿­ä»£è¿‡ç¨‹ä¸­é›†åˆçš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨</h3><p>ç”Ÿæˆå™¨æ˜¯ä¸€ç§è¿”å›è¿­ä»£å™¨çš„å‡½æ•°ï¼Œ é€šè¿‡<code>function</code>å…³é”®å­—åé¢çš„æ˜Ÿå·(*) æ¥è¡¨ç¤ºï¼Œ å‡½æ•°ä¸­ä¼šç”¨åˆ°æ–°çš„å…³é”®å­—<code>yield</code>ã€‚æ˜Ÿå·å¯ä»¥ç´§æŒ¨ç€<code>function</code>å…³é”®å­—ï¼Œ ä¹Ÿå¯ä»¥åœ¨ä¸­é—´æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œ å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//ç”Ÿæˆå™¨çš„è°ƒç”¨æ–¹å¼ä¸æ™®é€šå‡½æ•°ä¸€æ ·ï¼Œ åªä¸è¿‡è¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‚</span>
<span class="token keyword">let</span> iterator <span class="token operator">=</span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>createIterator()</code>å‰çš„æ˜Ÿå·è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œ <code>yield</code>å…³é”®å­—ä¹Ÿæ˜¯ ES6 çš„æ–°ç‰¹æ€§ï¼Œ é€šè¿‡å®ƒæ¥æŒ‡å®šè°ƒç”¨è¿­ä»£å™¨çš„<code>next()</code>æ–¹æ³•æ—¶çš„è¿”å›å€¼å’Œè¿”å›é¡ºåºã€‚ æ¯å½“æ‰§è¡Œå®Œä¸€æ‰<code>yield</code>è¯­å¥åå‡½æ•°ä¼šè‡ªåŠ¨åœæ­¢æ‰§è¡Œã€‚ç›´åˆ°å†æ¬¡è°ƒç”¨è¿­ä»£å™¨çš„<code>next()</code>æ–¹æ³•æ‰ä¼šç»§ç»­æ‰§è¡Œ<code>yield2</code>è¯­å¥ã€‚</p><p>ä½¿ç”¨<code>yield</code>å…³é”®å­—å¯ä»¥è¿”å›ä»»ä½•å€¼æˆ–è€…è¡¨è¾¾å¼ï¼Œ å¯ä»¥é€šè¿‡ç”Ÿæˆå™¨å‡½æ•°æ‰¹é‡çš„ç»™è¿­ä»£å™¨å¢åŠ å…ƒç´ ï¼Œ ä¾‹å¦‚ï¼Œ å¯ä»¥åœ¨å¾ªç¯ä¸­ä½¿ç”¨<code>yield</code>å…³é”®å­—ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> iterator <span class="token operator">=</span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ä¹‹åæ‰€æœ‰çš„è°ƒç”¨éƒ½ä¼šè¿”å›ç›¸åŒå†…å®¹</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœï¼š</p><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220805091608066.png" alt="image-20220805091608066"></p><h4 id="yield-çš„ä½¿ç”¨é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#yield-çš„ä½¿ç”¨é™åˆ¶" aria-hidden="true">#</a> yield çš„ä½¿ç”¨é™åˆ¶</h4><p><code>yield</code>å…³é”®å­—åªåœ¨ç”Ÿæˆå™¨å†…éƒ¨ä½¿ç”¨ï¼Œ åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ã€‚ å³ä¾¿åœ¨ç”Ÿæˆå™¨å†…éƒ¨çš„å‡½æ•°é‡Œä½¿ç”¨ä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//è¯­æ³•é”™è¯¯</span>
    <span class="token keyword">yield</span> item<span class="token operator">+</span><span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>yield</code>å…³é”®å­—ç¡®å®åœ¨<code>createIterator</code>å‡½æ•°å†…éƒ¨ï¼Œ ä½†æ˜¯å®ƒä¸<code>return</code>å…³é”®å­—ä¸€æ ·ï¼Œ äºŒè€…ä¸èƒ½ç©¿é€å‡½æ•°è¾¹ç•Œï¼Œ åµŒå¥—å‡½æ•°ä¸­çš„<code>return</code>è¯­å¥ä¸èƒ½ç”¨åšå¤–éƒ¨å‡½æ•°çš„è¿”å›è¯­å¥ï¼Œ æ­¤å¤„åµŒå¥—å‡½æ•°ä¸­çš„<code>yield</code>è¯­å¥ä¼šå¯¼è‡´æŠ¥é”™ã€‚</p><h4 id="ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼" aria-hidden="true">#</a> ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼</h4><p>ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºç”Ÿæˆå™¨ï¼Œ åªéœ€åœ¨<code>function</code>å…³é”®å­—å’Œå°æ‹¬å·ä¸­é—´æ·»åŠ ä¸€ä¸ªæ˜Ÿå·ï¼ˆ*ï¼‰å³å¯ã€‚</p><p>ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥åˆ›å»ºç”Ÿæˆå™¨ã€‚</p><h4 id="ç”Ÿæˆå™¨å¯¹è±¡çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆå™¨å¯¹è±¡çš„æ–¹æ³•" aria-hidden="true">#</a> ç”Ÿæˆå™¨å¯¹è±¡çš„æ–¹æ³•</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> iterator <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªéœ€åœ¨å‡½æ•°åå‰æ·»åŠ ä¸€ä¸ªæ˜Ÿå·ï¼ˆ*ï¼‰ã€‚</p><h3 id="å¯è®¿é—®å¯¹è±¡ä¸-for-of-å¾ªç¯" tabindex="-1"><a class="header-anchor" href="#å¯è®¿é—®å¯¹è±¡ä¸-for-of-å¾ªç¯" aria-hidden="true">#</a> å¯è®¿é—®å¯¹è±¡ä¸ for-of å¾ªç¯</h3><p>å¯è¿­ä»£å¯¹è±¡å…·æœ‰<code>Symbol.iterator</code>å±æ€§ï¼Œ æ˜¯ä¸€ç§ä¸è¿­ä»£å™¨å¯†åˆ‡ç›¸å…³çš„å¯¹è±¡ã€‚<code>Symbol.iterator</code>é€šè¿‡æŒ‡å®šçš„å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªç”¨äºé™„å±å¯¹è±¡çš„è¿­ä»£å™¨ã€‚ åœ¨ ES6 ä¸­ï¼Œ æ‰€æœ‰çš„é›†åˆå¯¹è±¡ï¼ˆæ•°ç»„ï¼Œ Set é›†åˆå’Œ Map é›†åˆï¼‰å’Œå­—ç¬¦ä¸²éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œ è¿™äº›å¯¹è±¡ä¸­éƒ½æœ‰é»˜è®¤çš„è¿­ä»£å™¨ã€‚ES6 ä¸­æ–°åŠ å…¥çš„ç‰¹æ€§<code>for-of</code>å¾ªç¯éœ€è¦ç”¨åˆ°å¯è¿­ä»£å¯¹è±¡çš„è¿™äº›åŠŸèƒ½ã€‚</p><p><code>for-of</code>å¾ªç¯æ¯æ‰§è¡Œä¸€æ¬¡éƒ½ä¼šè°ƒç”¨å¯è¿­ä»£å¯¹è±¡çš„<code>next()</code>æ–¹æ³•ï¼Œ å¹¶å°†è¿­ä»£å™¨è¿”å›çš„ç»“æœå¯¹è±¡çš„<code>value</code>å±æ€§å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œ å¾ªç¯å°†æŒç»­æ‰§è¡Œåˆ°è¿”å›å¯¹è±¡çš„<code>done</code>å±æ€§çš„å€¼ä¸º<code>true</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> num <span class="token keyword">of</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://blog-picgo-typora.oss-cn-hangzhou.aliyuncs.com/image-20220805091630835.png" alt="image-20220805091630835"></p><p>å¦‚æœåªéœ€è¿­ä»£æ•°ç»„æˆ–é›†åˆä¸­çš„å€¼ï¼Œ ç”¨<code>for-of</code>å¾ªç¯ä»£æ›¿<code>for</code>å¾ªç¯æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œ ç›¸æ¯”ä¼ ç»Ÿçš„<code>for</code>å¾ªç¯ï¼Œ <code>for-of</code>å¾ªç¯çš„æ§åˆ¶æ¡ä»¶æ›´ç®€å•ï¼Œ ä¸éœ€è¦è¿½è¸ªå¤æ‚çš„æ¡ä»¶ï¼Œ æ‰€ä»¥æ›´å°‘å‡ºé”™ã€‚</p><p><code>for-of</code>è¯­å¥ç”¨äºä¸å¯è¿­ä»£å¯¹è±¡, <code>null</code>æˆ–<code>undefined</code>å°†ä¼šå¯¼è‡´ç¨‹åºæŠ›å‡ºé”™è¯¯ã€‚</p><h3 id="è®¿é—®é»˜è®¤è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#è®¿é—®é»˜è®¤è¿­ä»£å™¨" aria-hidden="true">#</a> è®¿é—®é»˜è®¤è¿­ä»£å™¨</h3><p>å¯ä»¥é€šè¿‡ Symbol.iterator æ¥è®¿é—®å¯¹è±¡é»˜è®¤çš„è¿­ä»£å™¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> iterator <span class="token operator">=</span> values<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{value:1,done:false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{value:2,done:false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{value:3,done:false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{value:4,done:true}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç é€šè¿‡<code>Symbol.iterator</code>è·å–äº†æ•°ç»„<code>values</code>çš„é»˜è®¤è¿­ä»£å™¨ï¼Œ å¹¶ç”¨å®ƒéå†æ•°ç»„ä¸­çš„å…ƒç´ ã€‚åœ¨ JavaScript å¼•æ“ä¸­æ‰§è¡Œ<code>for-of</code>å¾ªç¯è¯­å¥ä¹Ÿä¼šæœ‰ç±»ä¼¼çš„å¤„ç†è¿‡ç¨‹ã€‚</p><p>ç”±äºå…·æœ‰<code>Symbol.iterator</code>å±æ€§çš„å¯¹è±¡å…·æœ‰é»˜è®¤çš„è¿­ä»£å™¨ï¼Œ å› æ­¤å¯ä»¥ç”¨å®ƒæ¥æ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºå¯è¿­ä»£å¯¹è±¡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token parameter">object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> object<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isIterable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„ isIterable()å‡½æ•°å¯ä»¥æ£€æŸ¥æŒ‡å®šå¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨é»˜è®¤çš„<strong>å‡½æ•°ç±»å‹è¿­ä»£å™¨</strong>ï¼Œè€Œ<code>for-of</code>å¾ªç¯åœ¨æ‰§è¡Œå‰ä¹Ÿä¼šåšç›¸ä¼¼çš„æ£€æŸ¥ã€‚</p><h3 id="å†…å»ºè¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#å†…å»ºè¿­ä»£å™¨" aria-hidden="true">#</a> å†…å»ºè¿­ä»£å™¨</h3><h4 id="é›†åˆå¯¹è±¡è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#é›†åˆå¯¹è±¡è¿­ä»£å™¨" aria-hidden="true">#</a> é›†åˆå¯¹è±¡è¿­ä»£å™¨</h4><p>åœ¨ ES6 ä¸­æœ‰ 3 ç§ç±»å‹çš„é›†åˆå¯¹è±¡ï¼Œ æ•°ç»„ã€Map é›†åˆä¸ Set é›†åˆï¼Œ è¿™ 3 ç§å¯¹è±¡éƒ½å†…å¥¸äº†ä»¥ä¸‹ä¸‰ç§è¿­ä»£å™¨ï¼š</p><ul><li>entires() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œ å…¶å€¼ä¸ºå¤šä¸ªé”®å€¼å¯¹</li><li>values() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œ å…¶å€¼ä¸ºé›†åˆçš„å€¼</li><li>keys() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œ å…¶å€¼ä¸ºé›†åˆä¸­çš„æ‰€æœ‰é”®å</li></ul><h4 id="ä¸åŒé›†åˆç±»å‹çš„é»˜è®¤è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#ä¸åŒé›†åˆç±»å‹çš„é»˜è®¤è¿­ä»£å™¨" aria-hidden="true">#</a> ä¸åŒé›†åˆç±»å‹çš„é»˜è®¤è¿­ä»£å™¨</h4><p>æ¯ä¸ªé›†åˆç±»å‹éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„è¿­ä»£å™¨ï¼Œ åœ¨ for-of å¾ªç¯ä¸­ï¼Œ å¦‚æœæ²¡æœ‰æ˜¾ç¤ºçš„ç½®é¡¶åˆ™ä½¿ç”¨é»˜è®¤çš„è¿­ä»£å™¨ã€‚æ•°ç»„å’Œ Set é›†åˆé»˜è®¤è¿­ä»£å™¨æ˜¯<code>values()</code>æ–¹æ³•ï¼Œ Map é›†åˆé»˜è®¤è¿­ä»£å™¨æ˜¯<code>entries()</code>æ–¹æ³•ã€‚</p><h4 id="nodelist-è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#nodelist-è¿­ä»£å™¨" aria-hidden="true">#</a> NodeList è¿­ä»£å™¨</h4><p>DOM æ ‡å‡†ä¸­æœ‰ä¸€ä¸ª NodeList ç±»å‹ï¼Œ ä»£è¡¨é¡µé¢æ–‡æ¡£ä¸­æ‰€æœ‰å…ƒç´ çš„é›†åˆã€‚åœ¨ ES6 æ·»åŠ é»˜è®¤è¿­ä»£å™¨åï¼ŒDOM ä¸­å®šä¹‰çš„ NodeList ç±»å‹ä¹Ÿæ‹¥æœ‰äº†é»˜è®¤è¿­ä»£å™¨ï¼Œ å…¶è¡Œä¸ºä¸æ•°ç»„çš„é»˜è®¤è¿­ä»£å™¨å®Œå…¨ä¸€è‡´ã€‚ æ‰€ä»¥å¯ä»¥å°† NodeList åº”ç”¨äº<code>for-of</code>å¾ªç¯çº§å…¶ä»–æ”¯æŒå¯¹è±¡é»˜è®¤è¿­ä»£å™¨çš„åœ°æ–¹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> div <span class="token keyword">of</span> divs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="iterator" tabindex="-1"><a class="header-anchor" href="#iterator" aria-hidden="true">#</a> iterator</h3><p>åœ¨ ES6 ä¸­ï¼Œæœ‰äº›æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡<code>Iterator</code>æ¥å£ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ï¼Œå³ä¸ç”¨ä»»ä½•å¤„ç†ï¼Œå°±å¯ä»¥è¢«<code>for...of</code>å¾ªç¯éå†ï¼Œ æœ‰äº›å°±ä¸è¡Œï¼ˆæ¯”å¦‚å¯¹è±¡ï¼‰ã€‚åŸå› åœ¨äºï¼Œè¿™äº›æ•°æ®ç»“æ„åŸç”Ÿéƒ¨ç½²äº†<code>Symbol.iterator</code>å±æ€§ï¼Œå¦å¤–ä¸€äº›æ•°æ®ç»“æ„æ²¡ æœ‰ã€‚å‡¡æ˜¯éƒ¨ç½²äº†<code>Symbol.iterator</code>å±æ€§çš„æ•°æ®ç»“æ„ï¼Œå°±ç§°ä¸ºéƒ¨ç½²äº†éå†å™¨æ¥å£ã€‚è°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé å†å™¨å¯¹è±¡</p><h4 id="æ•°ç»„éå†" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„éå†" aria-hidden="true">#</a> æ•°ç»„éå†</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ•°ç»„å†…éƒ¨è‡ªèº«å®ç°çš„æ¥å£</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯¹è±¡è‡ªå®šä¹‰-iterator-æ¥å£" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡è‡ªå®šä¹‰-iterator-æ¥å£" aria-hidden="true">#</a> å¯¹è±¡è‡ªå®šä¹‰ iterator æ¥å£</h4><p>åœ¨å¯¹è±¡å†…æ˜¯æ²¡æœ‰éƒ¨ç½²<code>iterator</code>æ¥å£ï¼Œ<code>object</code>çš„æ•°æ®æ˜¯æˆ‘ä»¬è‡ªå·±å¡«å……çš„ï¼Œä»–ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ•°æ®ï¼Œæ‰€ä»¥ä¹Ÿä¸çŸ¥é“æ€ä¹ˆå»éå†ã€‚</p><p>æ•°ç»„æ˜¯æŒ‰ç…§ç´¢å¼•é¡ºåºæ¥çš„</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> self<span class="token punctuation">.</span>start<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="generator" tabindex="-1"><a class="header-anchor" href="#generator" aria-hidden="true">#</a> Generator</h3><h4 id="åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> åŸºæœ¬æ¦‚å¿µ</h4><p><code>Generator</code>æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ—©æœŸæœ‰<code>promise</code>,<code>callback</code>ã€‚</p><p>åŸºæœ¬ç”¨æ³•ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   <span class="token keyword">let</span> <span class="token function-variable function">tell</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">yield</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
     <span class="token keyword">yield</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>

   <span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="javascript-ä¸­çš„ç±»" tabindex="-1"><a class="header-anchor" href="#javascript-ä¸­çš„ç±»" aria-hidden="true">#</a> JavaScript ä¸­çš„ç±»</h2><h3 id="es5-ä¸­çš„è¿‘ç±»ç»“æ„" tabindex="-1"><a class="header-anchor" href="#es5-ä¸­çš„è¿‘ç±»ç»“æ„" aria-hidden="true">#</a> ES5 ä¸­çš„è¿‘ç±»ç»“æ„</h3><p>åœ¨ ES5 åŠæ›´æ—©ç‰ˆæœ¬æ ¹æœ¬ä¸å­˜åœ¨ç±»ã€‚ä¸ç±»æ›´æ¥è¿‘çš„æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªæ„é€ å™¨ï¼Œç„¶åå°†æ–¹æ³•æŒ‡æ´¾åˆ°è¯¥æ„é€ å™¨çš„åŸå‹ä¸Šã€‚è¿™ç§æ–¹å¼é€šå¸¸ç§°ä¸ºåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ã€‚å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">personType</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
personType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">personType</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">personType</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šä»£ç ä¸­çš„<code>PersonType</code>æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œ åˆ›å»ºäº†ä¸€ä¸ª<code>name</code>çš„å±æ€§ï¼Œåˆåœ¨<code>PersonType</code>çš„åŸå‹ä¸Šæ·»åŠ äº†<code>sayName()</code>æ–¹æ³•ï¼Œ <code>PersonType</code>çš„æ‰€æœ‰å®ä¾‹éƒ½ä¼šå…±äº«è¿™ä¸ªæ–¹æ³•ã€‚ ç„¶åä½¿ç”¨äº†<code>new</code>æ“ä½œç¬¦åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼Œ å¹¶æœ€ç»ˆè¯å®äº†å®ƒæ˜¯<code>PersonType</code>çš„å®ä¾‹ï¼Œ ä¸”ç”±äºå­˜åœ¨åŸå‹ç»§æ‰¿çš„ç‰¹æ€§ï¼Œ å®ƒä¹Ÿæ˜¯<code>Object</code>çš„å®ä¾‹ã€‚</p><p>è®¸å¤šæ¨¡æ‹Ÿç´¯çš„ JavaScript åº“éƒ½æ˜¯åŸºäºè¿™ä¸ªæ¨¡å¼æ¥è¿›è¡Œå¼€å‘ï¼ŒES6 çš„ç±»ä¹Ÿå€Ÿé‰´äº†ç±»ä¼¼çš„æ–¹æ³•ã€‚</p><h3 id="ç±»çš„å£°æ˜" tabindex="-1"><a class="header-anchor" href="#ç±»çš„å£°æ˜" aria-hidden="true">#</a> ç±»çš„å£°æ˜</h3><h4 id="åŸºæœ¬çš„ç±»å£°æ˜è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬çš„ç±»å£°æ˜è¯­æ³•" aria-hidden="true">#</a> åŸºæœ¬çš„ç±»å£°æ˜è¯­æ³•</h4><p>è¦å£°æ˜ä¸€ä¸ªç±»ï¼Œé¦–å…ˆè¦ä¾¿æº<code>class</code>å…³é”®å­—ï¼Œ å…¶åæ˜¯ç±»çš„åç§°ã€‚å‰©ä½™éƒ¨åˆ†ç±»ä¼¼å¯¹è±¡å­—é¢é‡ä¸­çš„æ–¹æ³•ç®€å†™ï¼Œ å¹¶ä¸”æ–¹æ³•ä¹‹é—´ä¸è¦æœ‰é€—å·ã€‚å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">PersonClass</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PersonClass</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Nicholas</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">PersonClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> PersonClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token class-name">PersonClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ª<code>PersonClass</code>ç±»å£°æ˜ç±»ä¼¼äºä¸Šä¸ªä¾‹å­ä¸­çš„<code>personType</code>ã€‚ç±»å£°æ˜å…è®¸ä½ åœ¨å…¶ä¸­ä½¿ç”¨ç‰¹æ®Šçš„<code>constructor</code>æ–¹æ³•åç§°ç›´æ¥å®šä¹‰ä¸€ä¸ªæ„é€ å™¨ï¼Œ è€Œä¸éœ€è¦å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°å†æŠŠå®ƒå½“åšæ„é€ å™¨ä½¿ç”¨ã€‚ç”±äºç±»çš„æ–¹æ³•ä½¿ç”¨äº†ç®€å†™æ–¹æ³•ï¼Œ äºæ˜¯å°±ä¸åœ¨éœ€è¦<code>function</code>å…³é”®å­—ã€‚<code>constructor</code>ä¹‹å¤–çš„åç§°åˆ™æ²¡æœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œ ä½ å¯ä»¥è‡ªç”±æ·»åŠ æ–¹æ³•ã€‚</p><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p><p>è‡ªæœ‰å±æ€§ï¼šè¯¥å±æ€§å‡ºç°åœ¨å®ä¾‹ä¸Šè€Œä¸æ˜¯åœ¨åŸå‹ä¸Šï¼Œåªèƒ½åœ¨ç±»çš„æ„é€ å™¨æˆ–æ–¹æ³•å†…éƒ¨è¿›è¡Œæ„å»ºã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œ<code>name</code>å°±æ˜¯ä¸€ä¸ªè‡ªæœ‰å±æ€§ã€‚å»ºè®®åœ¨æ„é€ å™¨å‡½æ•°å†…åˆ›å»ºæ‰€æœ‰å¯èƒ½å‡ºç°çš„è‡ªæœ‰å±æ€§ï¼Œè¿™æ ·åœ¨ç±»ä¸­å£°æ˜å˜é‡å°±ä¼šé™åˆ¶åœ¨å•ä¸€ä½ç½®ã€‚</p></div><h4 id="ä¸ºä½•è¦ä½¿ç”¨ç±»çš„è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#ä¸ºä½•è¦ä½¿ç”¨ç±»çš„è¯­æ³•" aria-hidden="true">#</a> ä¸ºä½•è¦ä½¿ç”¨ç±»çš„è¯­æ³•</h4><p>å°½ç®¡ç±»ä¸è‡ªå®šä¹‰ç±»å‹ï¼ˆæ„é€ å™¨å‡½æ•°ï¼‰ï¼Œä½†ä»ç„¶è¦è®°ä½ä¸€äº›åŒºåˆ«ï¼š</p><ol><li>ç±»å£°æ˜ä¸ä¼šè¢«æå‡ï¼Œè¿™ä¸å‡½æ•°å®šä¹‰ä¸åŒã€‚ç±»å£°æ˜çš„è¡Œä¸ºä¸<code>let</code>ç±»ä¼¼ï¼Œå› æ­¤åœ¨ç¨‹åºçš„æ‰§è¡Œåˆ°è¾¾å£°æ˜ä¹‹å‰ï¼Œç±»ä¼šæš‚æ—¶å­˜åœ¨äºæš‚æ—¶æ€§æ—¶åŒºå†…ã€‚</li><li>ç±»å£°æ˜çš„æ‰€æœ‰ä»£ç è‡ªåŠ¨è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ å¹¶ä¸”æ— æ³•é€€å‡ºä¸¥æ ¼æ¨¡å¼ã€‚</li><li>ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„ã€‚è¿™äº‹å¯¹äºè‡ªå®šä¹‰ç±»å‹çš„æ˜¾è‘—å˜åŒ–ï¼Œ åè€…å¿…é¡»ç”¨<code>Object.defineProperty()</code>æ‰èƒ½å°†æ–¹æ³•å˜ä¸ºä¸å¯æšä¸¾ã€‚</li><li>ç±»çš„æ‰€æœ‰æ–¹æ³•ä¸­å†…éƒ¨éƒ½æ²¡æœ‰<code>[[constructor]]</code>ï¼Œ å› æ­¤ä½¿ç”¨<code>new</code>æ¥è°ƒç”¨å®ƒä»¬ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li><li>è°ƒç”¨ç±»æ„é€ å™¨æ—¶ä¸ä½¿ç”¨<code>new</code>ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li><li>è¯•å›¾åœ¨ç±»çš„æ–¹æ³•å†…éƒ¨é‡å†™ç±»åï¼Œ ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li></ol><h4 id="åŸºæœ¬çš„ç±»è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬çš„ç±»è¡¨è¾¾å¼" aria-hidden="true">#</a> åŸºæœ¬çš„ç±»è¡¨è¾¾å¼</h4><p>ç±»ä¹Ÿæœ‰ä¸éœ€è¦æ ‡è¯†ç¬¦çš„è¡¨è¾¾å¼å½¢å¼ã€‚ç±»è¡¨è¾¾å¼è¢«è®¾è®¡ç”¨äºå˜é‡å£°æ˜ï¼Œæˆ–å¯ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚</p><p>æ­¤å¤„æ˜¯ä¸Šä¾‹ä¸­<code>PersonClass</code>ç­‰æ•ˆçš„ç±»è¡¨è¾¾å¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> PersonClass <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PersonClass</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Nicholas</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">PersonClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> PersonClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token class-name">PersonClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>ç›¸å¯¹äºå‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼ä¹‹é—´çš„åŒºåˆ«ï¼Œ ç±»å£°æ˜ä¸ç±»è¡¨è¾¾å¼éƒ½ä¸ä¼šè¢«æå‡ã€‚å¯¹ä»£ç è¿è¡Œå½±å“ç”šå¾®ã€‚</p></div><h4 id="å…·åç±»è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#å…·åç±»è¡¨è¾¾å¼" aria-hidden="true">#</a> å…·åç±»è¡¨è¾¾å¼</h4><p>ä½ ä¹Ÿå¯ä»¥ä¸ºç±»è¡¨è¾¾å¼å‘½åã€‚ä¸ºæ­¤éœ€è¦åœ¨<code>class</code>å…³é”®å­—åæ·»åŠ æ ‡è¯†ç¬¦ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> PersonClass <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">PersonClass2</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> PersonClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> PersonClass2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä¾‹ä¸­çš„ç±»è¡¨è¾¾å¼è¢«å‘½åä¸º<code>PersonClass2</code>ã€‚<code>PersonClass2</code>æ ‡è¯†ç¬¦åªåœ¨ç±»å®šä¹‰å†…éƒ¨å­˜åœ¨ï¼Œ å› æ­¤åªèƒ½ç”¨åœ¨ç±»æ–¹æ³•å†…éƒ¨ã€‚ï¼ˆä¾‹å¦‚æœ¬ä¾‹ä¸­çš„ s<code>sayName()</code>å†…ï¼‰ã€‚åœ¨ç±»çš„å¤–éƒ¨ï¼Œ<code>typeof PersonClass2</code>çš„ç»“æœä¸º<code>undefined</code>, è¿™æ˜¯å› ä¸ºå¤–éƒ¨ä¸å­˜åœ¨<code>PersonClass2</code>ç»‘å®šã€‚</p><p>å…·åç±»è¡¨è¾¾å¼ä¸å…·åå‡½æ•°è¡¨è¾¾å¼æœ‰å¾ˆå¤šç›¸ä¼¼ç‚¹ã€‚äºŒè€…éƒ½èƒ½è¢«å½“åšå€¼æ¥ä½¿ç”¨ã€‚</p><h4 id="ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»" tabindex="-1"><a class="header-anchor" href="#ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»" aria-hidden="true">#</a> ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»</h4><p>åœ¨ç¼–ç¨‹ä¸­ï¼Œ èƒ½è¢«å½“åšå€¼æ¥ä½¿ç”¨çš„å°±ç§°ä¹‹ä¸ºä¸€çº§å…¬æ°‘ã€‚æ„å‘³ç€ä»–èƒ½ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°ã€èƒ½ä½œä¸ºå‡½æ•°è¿”å›å€¼ã€èƒ½ç”¨æ¥ç»™å˜é‡èµ‹å€¼ã€‚js çš„å‡½æ•°å°±æ˜¯ä¸€çº§å…¬æ°‘ï¼ˆæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºä¸€çº§å‡½æ•°ï¼‰ï¼Œæ­¤ç‰¹æ€§è®© js ç‹¬ä¸€æ— äºŒã€‚</p><p>ES6 å»¶ç»­äº†ä¼ ç»Ÿï¼Œ è®©ç±»åŒæ ·æˆä¸ºä¸€çº§å…¬æ°‘ã€‚è¿™å°±ä½¿å¾—ç±»å¯ä»¥è¢«å¤šç§æ–¹å¼æ‰€ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createObject</span><span class="token punctuation">(</span><span class="token parameter">classDef</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">classDef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">createObject</span><span class="token punctuation">(</span>
  <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hi!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä¾‹ä¸­<code>createObject()</code>å‡½æ•°è¢«è°ƒç”¨æ—¶æ¥æ”¶äº†ä¸€ä¸ªåŒ¿åè¡¨è¾¾å¼ä½œä¸ºå‚æ•°ï¼Œ ä½¿ç”¨<code>new</code>åˆ›å»ºäº†è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶å°†å…¶è¿”å›å‡ºæ¥ã€‚éšåå˜é‡<code>obj</code>å‚¨å­˜äº†è¿”å›çš„å®ä¾‹ã€‚</p><h3 id="è®¿é—®å™¨å±æ€§" tabindex="-1"><a class="header-anchor" href="#è®¿é—®å™¨å±æ€§" aria-hidden="true">#</a> è®¿é—®å™¨å±æ€§</h3><p>è‡ªæœ‰å±æ€§è¦åœ¨ç±»æ„é€ å™¨ä¸­åˆ›å»ºï¼Œè€Œç±»è¿˜å…è®¸ä½ åœ¨åŸå‹ä¸Šå®šä¹‰è®¿é—®å™¨å±æ€§ã€‚ä¸ºäº†åˆ›å»ºä¸€ä¸ª<code>getter</code>ï¼Œè¦ä½¿ç”¨<code>get</code>å…³é”®å­—ï¼Œå¹¶è¦ä¸åæ–¹æ ‡è¯†ç¬¦ä¹‹é—´ç•™å‡ºç©ºæ ¼ï¼› åˆ›å»º<code>setter</code>ç”¨ç›¸åŒæ–¹å¼ï¼Œåªæ˜¯è¦ä½¿ç”¨<code>set</code>å…³é”®å­—ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CustomHTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">gtml</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>
  <span class="token class-name">CustomHTMLElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span>
  <span class="token string">&#39;html&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;set&#39;</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor<span class="token punctuation">.</span>enumerable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä»£ç ä¸­çš„<code>CustomHTMLElement</code>ç±»ç”¨äºåŒ…è£…ä¸€ä¸ªå·²å­˜åœ¨çš„ DOM å…ƒç´ ã€‚å®ƒçš„å±æ€§<code>html</code>æ‹¥æœ‰<code>getter</code>ä¸<code>setter</code>ï¼Œå§”æ‰˜äº†å…ƒç´ è‡ªèº«çš„<code>innerHTML</code>æ–¹æ³•ã€‚ è¯¥è®¿é—®å™¨å±æ€§è¢«åˆ›å»ºåœ¨<code>CustomHTMLElement.prototype</code>ä¸Šï¼Œ å¹¶ä¸”åƒå…¶ä»–å±æ€§è¢«åˆ›å»ºä¸ºä¸å¯æšä¸¾å±æ€§ã€‚</p><h4 id="é™æ€æˆå‘˜" tabindex="-1"><a class="header-anchor" href="#é™æ€æˆå‘˜" aria-hidden="true">#</a> é™æ€æˆå‘˜</h4><p>å½“ä½ æƒ³è®©æ–¹æ³•ä¸è®¿é—®å™¨å±æ€§åœ¨å¯¹è±¡å®ä¾‹ä¸Šå‡ºç°æ—¶ï¼ŒæŠŠå®ƒæ·»åŠ åˆ°ç±»çš„åŸå‹ä¸Šå°±ä¼šå¯¹æ­¤ç›®çš„æœ‰å¸®åŠ©ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œ è‹¥æƒ³è®©æ–¹æ³•ä¸è®¿é—®å™¨å±æ€§åªå­˜åœ¨äºç±»è‡ªèº«ï¼Œ é‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨é™æ€æˆå‘˜ã€‚</p><p>ES6 é™æ€æˆå‘˜çš„åˆ›å»ºè¦åœ¨æ–¹æ³•ä¸è®¿é—®å™¨å±æ€§çš„åç§°å‰æ·»åŠ æ­£å¼çš„<code>static</code>æ ‡æ³¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">PersonClass</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PersonClass</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> PersonClass<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>PersonClass</code>çš„å®šä¹‰æ‹¥æœ‰åä¸º<code>create()</code>çš„å•ä¸ªé™æ€æ–¹æ³•ï¼Œ æ­¤è¯­æ³•ä¸<code>sayName()</code>åŸºæœ¬ç›¸åŒï¼Œ åªæ˜¯å¤šäº†ä¸€ä¸ª<code>static</code>å…³é”®å­—ã€‚ ä½ èƒ½åœ¨ç±»çš„ä»»ä½•æ–¹æ³•å’Œè®¿é—®å™¨å±æ€§ä¸Šä½¿ç”¨<code>static</code>å…³é”®å­—ï¼Œ å”¯ä¸€çš„é™åˆ¶æ˜¯ä¸èƒ½å°†å®ƒç”¨äº<code>constructor</code>æ–¹æ³•çš„å®šä¹‰ã€‚</p><div class="custom-container warning"><p class="custom-container-title">è­¦å‘Š</p><p>é™æ€æˆå‘˜ä¸èƒ½ç”¨å®ä¾‹æ¥è®¿é—®ï¼Œ ä½ å§‹ç»ˆéœ€è¦ç›´æ¥ç”¨ç±»è‡ªèº«æ¥è®¿é—®å®ƒä»¬ã€‚</p></div><h3 id="ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿" aria-hidden="true">#</a> ç»§æ‰¿</h3><p>ç±»è®©ç»§æ‰¿å·¥ä½œå˜å¾—æ›´è½»æ˜“ï¼Œ ä½¿ç”¨ç†Ÿæ‚‰çš„<code>extends</code>å…³é”®å­—æ¥åˆ¶å®šå½“å‰ç±»æ‰€éœ€è¦ç»§æ‰¿çš„å‡½æ•°ã€‚ä½ è¿˜å¯ä»¥è°ƒç”¨<code>seper()</code>æ–¹æ³•æ¥è®¿é—®åŸºç±»çš„æ„é€ å™¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Rectange</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Rectange</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> square <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>square<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>square <span class="token keyword">instanceof</span> <span class="token class-name">Square</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>square <span class="token keyword">instanceof</span> <span class="token class-name">Rectange</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>square</code>ç±»ä¸­ä½¿ç”¨äº†<code>extends</code>å…³é”®å­—ç»§æ‰¿äº†<code>Rectange</code>ã€‚<code>square</code>æ„é€ å™¨ä½¿ç”¨äº†<code>super()</code>é…åˆæŒ‡å®šå‚æ•°è°ƒç”¨äº†<code>Rectange</code>æ„é€ å™¨ã€‚</p><p>ç»§æ‰¿äº†å…¶ä»–ç±»çš„ç±»è¢«ç§°ä¸ºæ´¾ç”Ÿç±»ã€‚ å¦‚æœæ´¾ç”Ÿç±»æŒ‡å®šäº†æ„é€ å™¨ï¼Œ<strong>å°±éœ€è¦ä½¿ç”¨<code>super</code></strong>ï¼Œå¦åˆ™ä¼šé€ æˆé”™è¯¯ã€‚ è‹¥ä½ é€‰æ‹©ä¸ä½¿ç”¨æ„é€ å™¨ï¼Œ<code>super()</code>æ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œå¹¶ä¼šä½¿ç”¨åˆ›å»ºæ–°å®ä¾‹æ—¶æä¾›çš„æ‰€æœ‰å‚æ•°ã€‚å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Rectange</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// ç­‰ä»·äº</span>
<span class="token keyword">class</span> <span class="token class-name">square</span> <span class="token keyword">extends</span> <span class="token class-name">Rectange</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä¾‹ä¸­çš„ç¬¬äºŒä¸ªç±»å±•ç¤ºäº†ä¸æ‰€æœ‰æ´¾ç”Ÿç±»é»˜è®¤æ„é€ å™¨ç­‰ä»·çš„å†™æ³•ï¼Œ æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰é¡ºåºä¼ é€’ç»™äº†åŸºç±»çš„æ„é€ å™¨ã€‚ åœ¨å½“å‰éœ€æ±‚ä¸‹ï¼Œ è¿™ç§åšæ³•å¹¶ä¸å®Œå…¨å‡†ç¡®ï¼Œå› ä¸º<code>square</code>æ„é€ å™¨åªéœ€è¦å•ä¸ªå‚æ•°ï¼Œ å› æ­¤æœ€å¥½æ‰‹åŠ¨å®šä¹‰æ„é€ å™¨ã€‚</p><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>ä½¿ç”¨<code>super()</code>æ—¶è¦ç‰¢è®°ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li>ä½ åªèƒ½åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨<code>super()</code>ã€‚è‹¥å°è¯•åœ¨éæ´¾ç”Ÿçš„ç±»ï¼ˆå³ï¼šæ²¡æœ‰ä½¿ç”¨<code>extends</code>å…³é”®å­—çš„ç±»ï¼‰æˆ–å‡½æ•°ä¸­ä½¿ç”¨å®ƒï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li><li>åœ¨æ„é€ å™¨ä¸­ï¼Œ ä½ å¿…é¡»åœ¨è®¿é—®<code>this</code>ä¹‹å‰è°ƒç”¨<code>super()</code>ã€‚ç”±äº<code>super()</code>è´Ÿè´£åˆå§‹åŒ–<code>this</code>ï¼Œå› æ­¤è¯•å›¾å…ˆè®¿é—®<code>this</code>è‡ªç„¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li><li>å”¯ä¸€èƒ½é¿å…è°ƒç”¨<code>super()</code>çš„æ–¹æ³•ï¼Œ æ˜¯ä»ç±»æ„é€ å™¨ä¸­è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</li></ol></div><h3 id="åœ¨ç±»æ„é€ å™¨ä¸­ä½¿ç”¨-new-target" tabindex="-1"><a class="header-anchor" href="#åœ¨ç±»æ„é€ å™¨ä¸­ä½¿ç”¨-new-target" aria-hidden="true">#</a> åœ¨ç±»æ„é€ å™¨ä¸­ä½¿ç”¨ new.target</h3><p>åœ¨ç±»æ„é€ å™¨ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨<code>new.target</code>ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­ç±»æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ã€‚ åœ¨ç®€å•æƒ…å†µä¸‹ï¼Œ <code>new.target</code>å°±ç­‰äºæœ¬ç±»çš„æ„é€ å™¨å‡½æ•°ï¼Œ å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Rectange</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Rectange<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectange</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä»£ç è¯´æ˜åœ¨<code>new Rectange(3,4)</code>è¢«è°ƒç”¨æ—¶ï¼Œ <code>new.target</code>å°±ç­‰äº<code>Rectangle</code>ã€‚ç±»æ„é€ å™¨è¢«è°ƒç”¨æ—¶ä¸èƒ½ç¼ºå°‘<code>new</code>ï¼Œ å› æ­¤<code>new.target</code>å±æ€§å°±å§‹ç»ˆä¼šåœ¨ç±»æ„é€ å™¨å†…è¢«å®šä¹‰ã€‚ ä¸è¿‡è¿™ä¸ªå€¼å¹¶ä¸æ˜¯ç›¸åŒçš„ï¼Œ å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span>width</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Rectange<span class="token punctuation">)</span><span class="token comment">//false</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length
        <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Rectange</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>super</code>è°ƒç”¨äº†<code>Rectangle</code>æ„é€ å™¨ï¼Œ å› æ­¤å½“<code>Rectangle</code>æ„é€ å™¨è¢«è°ƒç”¨æ—¶ï¼Œ <code>new.target</code>ç­‰äº<code>Square</code>ã€‚è¿™å¾ˆé‡è¦ï¼Œ å› ä¸ºæ„é€ å™¨èƒ½å¤Ÿæ ¹æ®å¦‚ä½•è¢«è°ƒç”¨è€Œæœ‰ä¸åŒè¡Œä¸ºï¼Œ å¹¶ä¸”è¿™ç»™äº†æ›´æ”¹è¿™ç§è¡Œä¸ºçš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œ ä½ å¯ä»¥ä½¿ç”¨<code>new.target</code>æ¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼ˆä¸€ç§ä¸èƒ½å®ä¾‹åŒ–çš„ç±»ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;This class cannot be instantiated directly&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Rectange</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// var x= new Shape()//æŠ›å‡ºé”™è¯¯</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectange</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ²¡æœ‰é”™è¯¯</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y <span class="token keyword">instanceof</span> <span class="token class-name">Shape</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä¾‹ä¸­çš„<code>shape</code>ç±»æ„é€ å™¨ä¼šåœ¨<code>new.target</code>ä¸º<code>shape</code>çš„æ—¶å€™æŠ›å‡ºé”™è¯¯ï¼Œ æ„å‘³ç€<code>new Shape()</code>æ°¸è¿œä¼šæŠ›å‡ºé”™è¯¯ã€‚ ç„¶è€Œï¼Œ ä½ ä¾ç„¶å¯ä»¥å°†<code>shape</code>ç”¨ä½œä¸€ä¸ªåŸºç±»ï¼Œ æ­£å¦‚<code>Rectangle</code>æ‰€åšçš„é‚£æ ·ã€‚ <code>super()</code>çš„è°ƒç”¨æ‰§è¡Œäº†<code>shape</code>æ„é€ å™¨ï¼Œ è€Œä¸”<code>new target</code>çš„å€¼ç­‰äº<code>Rectangle</code>ï¼Œ å› æ­¤è¯¥æ„é€ å™¨èƒ½å¤Ÿæ— é”™è¯¯çš„ç»§ç»­æ‰§è¡Œã€‚</p><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>ç”±äºè°ƒç”¨ç±»æ˜¯ä¸èƒ½ç¼ºå°‘<code>new</code>ï¼Œ äºæ˜¯<code>new target</code>å±æ€§åœ¨ç±»æ„é€ å™¨å†…éƒ¨æ®ä¸ä¼šæ˜¯<code>undefined</code>ã€‚</p></div><h3 id="decorator" tabindex="-1"><a class="header-anchor" href="#decorator" aria-hidden="true">#</a> Decorator</h3><p>å®šä¹‰ï¼š æ˜¯ä¸€ä¸ªå‡½æ•°ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚</p><p>ä¿®é¥°å™¨ä½œç”¨ï¼š</p><ol><li>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ</li><li>ä¿®æ”¹ç±»çš„è¡Œä¸ºï¼Œ</li><li>ä¿®æ”¹ç±»æœ¬èº«çš„åŠŸèƒ½ã€‚ ï¼ˆåªåœ¨ç±»ä¸­èƒ½ä½¿ç”¨ï¼‰</li></ol><h4 id="ç¬¬ä¸‰æ–¹åº“ä¿®é¥°å™¨çš„-js-åº“" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰æ–¹åº“ä¿®é¥°å™¨çš„-js-åº“" aria-hidden="true">#</a> ç¬¬ä¸‰æ–¹åº“ä¿®é¥°å™¨çš„ js åº“ï¼š</h4><p>core-decorators; npm install core-decorators</p><h4 id="ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨" aria-hidden="true">#</a> ä½¿ç”¨</h4><p>ä¿®é¥°å™¨å‡½æ•°ä¸€å…±å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰€è¦ä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦ä¿®é¥°çš„å±æ€§åï¼Œç¬¬ ä¸‰ä¸ªå‚æ•°æ˜¯è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">readonly</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//ä¸å…è®¸ä¿®æ”¹</span>
  <span class="token keyword">return</span> descriptor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  @readonly
  <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;2017-03-11&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test.time=function(){</span>
<span class="token comment">//   console.log(&#39;reset time&#39;);</span>
<span class="token comment">// };</span>

<span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> test<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªèƒ½åœ¨ class å‰å¢åŠ ä¿®é¥°å™¨</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">typename</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">.</span>myname <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

@typename
<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ç±»ä¿®é¥°ç¬¦&#39;</span><span class="token punctuation">,</span> Test<span class="token punctuation">.</span>myname<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”¨-decorators-ä¿®é¥°å™¨åšå‰ç«¯åŸ‹ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç”¨-decorators-ä¿®é¥°å™¨åšå‰ç«¯åŸ‹ç‚¹" aria-hidden="true">#</a> ç”¨ Decorators ä¿®é¥°å™¨åšå‰ç«¯åŸ‹ç‚¹</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> src_method <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">src_method</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">log </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AD</span> <span class="token punctuation">{</span>
  @<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;show&#39;</span><span class="token punctuation">)</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;ad is show&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  @<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">)</span>
  <span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;ad is click&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> ad <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ad<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ad<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h3><p>ES6 çš„ç±»èµ·åˆæ˜¯ä½œä¸º ES5 ä¼ ç»Ÿç»§æ‰¿æ¨¡å‹çš„è¯­æ³•ç³–ï¼Œ ä½†æ·»åŠ äº†è®¸å¤šç‰¹æ€§æ¥å‡å°‘é”™è¯¯ã€‚</p><p>ES6 çš„ç±»é…åˆåŸå‹ç»§æ‰¿å·¥ä½œï¼Œ åœ¨ç±»çš„åŸå‹ä¸Šå®šä¹‰äº†éé™æ€çš„æ–¹æ³•ï¼Œ è€Œé™æ€æ–¹æ³•è¢«ç»‘å®šåœ¨ç±»æ„é€ å™¨è‡ªèº«ä¸Šã€‚ ç±»çš„æ‰€æœ‰æ–¹æ³•åˆå§‹æ˜¯ä¸å¯æšä¸¾çš„ï¼Œ è¿™æ›´å¥‘åˆäº†å†…ç½®å¯¹è±¡çš„è¡Œä¸ºï¼Œ åè€…çš„æ–¹æ³•é»˜è®¤æƒ…å†µä¸‹é€šå¸¸æ˜¯ä¸å¯æšä¸¾çš„ã€‚ æ­¤å¤–ï¼Œ ç±»æ„é€ å™¨è¢«è°ƒç”¨æ—¶ä¸èƒ½ç¼ºå°‘<code>new</code>ï¼Œ ç¡®ä¿äº†ä¸èƒ½æ„å¤–çš„å°†ç±»ä½œä¸ºå‡½æ•°ä½¿ç”¨ã€‚</p><p>åŸºäºç±»çš„ç»§æ‰¿å…è®¸ä½ ä»å¦ä¸€ä¸ªç±»ã€å‡½æ•°ã€è¡¨è¾¾å¼ä¸Šæ´¾ç”Ÿæ–°çš„ç±»ã€‚è¿™ç§èƒ½åŠ›æ„å‘³ç€ä½ å¯ä»¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­éœ€è¦ç»§æ‰¿çš„æ­£ç¡®åŸºç±»ï¼Œ ä¹Ÿå…è®¸ä½¿ç”¨æ··å…¥æˆ–å…¶å®ƒä¸åŒç»„åˆæ¨¡å¼æ¥åˆ›å»ºä¸€ä¸ªæ–°ç±»ã€‚æ–°çš„ç»§æ‰¿æ–¹å¼è®©ç»§æ‰¿å†…ç½®å¯¹è±¡ï¼ˆä¾‹å¦‚æ•°ç»„ï¼‰ä¹Ÿå˜ä¸ºå¯èƒ½ï¼Œ å¹¶ä¸”å…¶å·¥ä½œç¬¦åˆé¢„æœŸã€‚</p><p>ä½ å¯ä»¥åœ¨ç±»æ„é€ å™¨å†…éƒ¨ä½¿ç”¨<code>new.target</code>ï¼Œä»¥ä¾¿æ ¹æ®ç±»å¦‚ä½•è¢«è°ƒç”¨æ¥åšå‡ºä¸åŒçš„è¡Œä¸ºã€‚ æœ€å¸¸ç”¨çš„å°±æ˜¯åˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œ ç›´æ¥å®ä¾‹åŒ–å®ƒä¼šæŠ›å‡ºé”™è¯¯ï¼Œ ä½†ä»–ä»ç„¶å…è®¸è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿ã€‚</p><p>æ€»ä¹‹ï¼Œ ç±»æ˜¯ js çš„ä¸€é¡¹æ–°ç‰¹æ€§ï¼Œ ä»–æä¾›äº†æ›´ç®€æ´çš„è¯­æ³•ä¸æ›´å¥½çš„åŠŸèƒ½ï¼Œ é€šè¿‡å®‰å…¨ä¸€è‡´çš„æ–¹å¼æ¥è‡ªå®šä¹‰ä¸€ä¸ªå¯¹è±¡ç±»å‹ã€‚</p><h2 id="æ”¹è¿›çš„æ•°ç»„åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#æ”¹è¿›çš„æ•°ç»„åŠŸèƒ½" aria-hidden="true">#</a> æ”¹è¿›çš„æ•°ç»„åŠŸèƒ½</h2><h3 id="åˆ›å»ºæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ•°ç»„" aria-hidden="true">#</a> åˆ›å»ºæ•°ç»„</h3><p>ä¸ºäº†æ•°ç»„æ›´æ˜“åˆ›å»ºï¼ŒES6 æ–°å¢äº†<code>Array.of()</code>ä¸<code>Array.from()</code>æ–¹æ³•ã€‚</p><h4 id="array-of-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#array-of-æ–¹æ³•" aria-hidden="true">#</a> Array.of()æ–¹æ³•</h4><p>è¯¥æ–¹æ³•ç±»ä¼¼äº<code>Array</code>æ„é€ å™¨ï¼Œ å®ƒåœ¨ä½¿ç”¨å•ä¸ªæ•°å€¼å‚æ•°ä¸ä¼šå¯¼è‡´ç‰¹æ®Šçš„ç»“æœã€‚ <code>Array.of()</code>æ–¹æ³•æ€»ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¼ å…¥å‚æ•°çš„æ•°ç»„ï¼Œ è€Œä¸ç®¡ä¼ å…¥çš„å‚æ•°æ•°é‡ä¸ç±»å‹ã€‚ å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> items <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>

items <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>

items <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šå¸¸æˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨æ•°ç»„å­—é¢é‡çš„å†™æ³•ä»£æ›¿<code>Array.of()</code>ï¼Œä½†è‹¥æƒ³å‘å‡½æ•°ä¼ é€’å‚æ•°ï¼Œ ä½¿ç”¨<code>Array.of()</code>è€Œé<code>Array</code>æ„é€ å™¨å‡½æ•°èƒ½å¤Ÿç¡®ä¿è¡Œä¸ºä¸€è‡´ã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token parameter">arratCreate<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">arratCreate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä»£ç ä¸­<code>createArray</code>å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š ä¸€ä¸ªæ•°ç»„åˆ›å»ºå™¨ä¸ä¸€ä¸ªå€¼ï¼Œ å¹¶å°†åè€…æ’å…¥åˆ°ç›®æ ‡æ•°ç»„ä¸­ã€‚ ä½ åº”å½“å‘<code>createArray()</code>å‡½æ•°ä¼ é€’<code>Array.of()</code>ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ¥åˆ›å»ºæ–°æ•°ç»„ã€‚ç›¸åä¼ é€’<code>Array</code>æ„é€ å™¨åˆ™ä¼šæœ‰å±é™©ï¼Œ å› ä¸ºæ— æ³•ä¿è¯ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯æ•°å€¼ç±»å‹ã€‚</p><h4 id="arrat-from-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#arrat-from-æ–¹æ³•" aria-hidden="true">#</a> Arrat.from()æ–¹æ³•</h4><p>åœ¨ JS ä¸­å°†éæ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„éå¸¸éº»çƒ¦ã€‚ES6 æ–°å¢äº†<code>Array.form()</code>æ–¹æ³•æ¥æä¾›ä¸€ç§æ˜ç¡®æ¸…æ™°çš„æ–¹å¼æ¥è§£å†³è¿™æ–¹é¢éœ€æ±‚ã€‚</p><p>å°†å¯è¿­ä»£çš„å¯¹è±¡æˆ–è€…ç±»æ•°ç»„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼Œ <code>Array.form()</code>å°±èƒ½è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚</p><h5 id="æ˜ å°„è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„è½¬æ¢" aria-hidden="true">#</a> æ˜ å°„è½¬æ¢</h5><p>ä½ ä¹Ÿå¯ä»¥æƒ³<code>Array.from()</code>æ–¹æ³•ä¼ é€’ä¸€ä¸ªæ˜ å°„ç”¨çš„å‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚ æ­¤å‡½æ•°ä¼šå°†ç±»æ•°ç»„å¯¹è±¡çš„æ¯ä¸€ä¸ªå€¼è½¬æ¢ä¸ºç›®æ ‡å½¢å¼ï¼Œ å¹¶å°†å…¶å­˜å‚¨åœ¨ç›®æ ‡æ•°ç»„çš„å¯¹åº”ä½ç½®ä¸Šã€‚å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>argumenrs<span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2,3,4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä»£ç å°†<code>(value)=&gt;value+1</code>ä½œä¸ºæ˜ å°„å‡½æ•°ä¼ é€’ç»™äº†<code>Array.from()</code>æ–¹æ³•ï¼Œ å¯¹æ¯ä¸ªé¡¹è¿›è¡Œäº†ä¸€æ¬¡<code>+1</code>å¤„ç†ã€‚å¦‚æœæ˜ å°„å‡½æ•°éœ€è¦åœ¨å¯¹è±¡ä¸Šå·¥ä½œï¼Œ ä½ å¯ä»¥æ‰‹åŠ¨ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°ç»™<code>Array.from()</code>æ–¹æ³•ï¼Œ ä»è€ŒæŒ‡å®šæ˜ å°„å‡½æ•°å†…éƒ¨çš„<code>this</code>å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> helper <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">diff</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>diff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> helper<span class="token punctuation">.</span>add<span class="token punctuation">,</span> helper<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="åœ¨å¯è¿­ä»£å¯¹è±¡ä¸Šä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åœ¨å¯è¿­ä»£å¯¹è±¡ä¸Šä½¿ç”¨" aria-hidden="true">#</a> åœ¨å¯è¿­ä»£å¯¹è±¡ä¸Šä½¿ç”¨</h5><h3 id="æ‰€æœ‰æ•°ç»„ä¸Šçš„æ–°æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ‰€æœ‰æ•°ç»„ä¸Šçš„æ–°æ–¹æ³•" aria-hidden="true">#</a> æ‰€æœ‰æ•°ç»„ä¸Šçš„æ–°æ–¹æ³•</h3><h4 id="find-ä¸-findindex-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#find-ä¸-findindex-æ–¹æ³•" aria-hidden="true">#</a> find()ä¸ findIndex()æ–¹æ³•</h4><p><code>find()</code>ä¸<code>findIndex()</code>æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå›è°ƒå‡½æ•°ã€ä¸€ä¸ªå¯é€‰å€¼ï¼ˆç”¨äºæŒ‡å®šå›è°ƒå‡½æ•°å†…éƒ¨çš„<code>this</code>ï¼‰ã€‚è¯¥å›è°ƒå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šæ•°ç»„çš„æŸä¸ªå…ƒç´ ã€è¯¥å…ƒç´ å¯¹åº”çš„ç´¢å¼•ä½ç½®ã€ä»¥åŠæ•°ç»„æœ¬èº«ï¼Œ è¿™ä¸<code>map</code>ä¸<code>forEach</code>æ–¹æ³•çš„å›è°ƒå‡½æ•°æ‰€æœ‰çš„å‚æ•°ä¸€è‡´ã€‚è¯¥å›è°ƒå‡½æ•°åœ¨ç»™å®šå…ƒç´ å®šä¹‰çš„æ¡ä»¶æ»¡è¶³æ—¶è¿”å›<code>true</code>ï¼Œè€Œ<code>find()</code>ä¸<code>findIndex()</code>æ–¹æ³•ä¼šåœ¨å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡è¿”å›<code>true</code>æ—¶åœæ­¢æŸ¥æ‰¾ã€‚</p><p>äºŒè€…å”¯ä¸€åŒºåˆ«ï¼š<code>find</code>è¿”å›å€¼ï¼Œ <code>findIndex</code>è¿”å›ç´¢å¼•ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">n</span> <span class="token operator">=&gt;</span> n <span class="token operator">&gt;</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//35</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">N</span></span> <span class="token operator">=&gt;</span> <span class="token constant">N</span> <span class="token operator">&gt;</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>find</code>ä¸<code>findIndex</code>æ–¹æ³•åœ¨æŸ¥æ‰¾æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æ•°ç»„å…ƒç´ éå¸¸æœ‰ç”¨ã€‚ä½†è‹¥æƒ³æŸ¥æ‰¾ç‰¹å®šçš„å€¼ï¼Œ åˆ™ä½¿ç”¨<code>indexOf()</code>ä¸<code>lastIndexOf()</code>æ–¹æ³•ä¼šæ˜¯æ›´å¥½é€‰æ‹©ã€‚</p><h3 id="ç±»å‹åŒ–æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åŒ–æ•°ç»„" aria-hidden="true">#</a> ç±»å‹åŒ–æ•°ç»„</h3><h4 id="æ•°å€¼æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°å€¼æ•°æ®ç±»å‹" aria-hidden="true">#</a> æ•°å€¼æ•°æ®ç±»å‹</h4><h4 id="æ•°ç»„ç¼“å†²åŒº" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„ç¼“å†²åŒº" aria-hidden="true">#</a> æ•°ç»„ç¼“å†²åŒº</h4><h4 id="ä½¿ç”¨è§†å›¾æ“ä½œæ•°ç»„ç¼“å†²åŒº" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨è§†å›¾æ“ä½œæ•°ç»„ç¼“å†²åŒº" aria-hidden="true">#</a> ä½¿ç”¨è§†å›¾æ“ä½œæ•°ç»„ç¼“å†²åŒº</h4><h5 id="è·å–è§†å›¾ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è·å–è§†å›¾ä¿¡æ¯" aria-hidden="true">#</a> è·å–è§†å›¾ä¿¡æ¯</h5><h5 id="è¯»å–æˆ–å†™å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#è¯»å–æˆ–å†™å…¥æ•°æ®" aria-hidden="true">#</a> è¯»å–æˆ–å†™å…¥æ•°æ®</h5><h5 id="ç±»å‹åŒ–æ•°ç»„å³ä¸ºè§†å›¾" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åŒ–æ•°ç»„å³ä¸ºè§†å›¾" aria-hidden="true">#</a> ç±»å‹åŒ–æ•°ç»„å³ä¸ºè§†å›¾</h5><h5 id="åˆ›å»ºç‰¹å®šç±»å‹è§†å›¾" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç‰¹å®šç±»å‹è§†å›¾" aria-hidden="true">#</a> åˆ›å»ºç‰¹å®šç±»å‹è§†å›¾</h5><h3 id="ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„çš„ç›¸ä¼¼ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„çš„ç›¸ä¼¼ç‚¹" aria-hidden="true">#</a> ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„çš„ç›¸ä¼¼ç‚¹</h3><h4 id="å…¬å…±æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å…¬å…±æ–¹æ³•" aria-hidden="true">#</a> å…¬å…±æ–¹æ³•</h4><h4 id="ç›¸åŒçš„è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#ç›¸åŒçš„è¿­ä»£å™¨" aria-hidden="true">#</a> ç›¸åŒçš„è¿­ä»£å™¨</h4><h4 id="of-ä¸-from-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#of-ä¸-from-æ–¹æ³•" aria-hidden="true">#</a> of()ä¸ from()æ–¹æ³•</h4><h3 id="ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„åŒºåˆ«" aria-hidden="true">#</a> ç±»å‹åŒ–æ•°ç»„ä¸å¸¸è§„æ•°ç»„åŒºåˆ«</h3><h4 id="è¡Œä¸ºå·®å¼‚" tabindex="-1"><a class="header-anchor" href="#è¡Œä¸ºå·®å¼‚" aria-hidden="true">#</a> è¡Œä¸ºå·®å¼‚</h4><h4 id="é—æ¼çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é—æ¼çš„æ–¹æ³•" aria-hidden="true">#</a> é—æ¼çš„æ–¹æ³•</h4><h4 id="é™„åŠ çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é™„åŠ çš„æ–¹æ³•" aria-hidden="true">#</a> é™„åŠ çš„æ–¹æ³•</h4><h3 id="æ€»ç»“-1" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-1" aria-hidden="true">#</a> æ€»ç»“</h3><h2 id="promise-ä¸å¼‚æ­¥ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#promise-ä¸å¼‚æ­¥ç¼–ç¨‹" aria-hidden="true">#</a> Promise ä¸å¼‚æ­¥ç¼–ç¨‹</h2><h3 id="å¼‚æ­¥ç¼–ç¨‹èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥ç¼–ç¨‹èƒŒæ™¯" aria-hidden="true">#</a> å¼‚æ­¥ç¼–ç¨‹èƒŒæ™¯</h3><p>JS å¼•æ“å»ºç«‹åœ¨å•çº¿ç¨‹æ—¶é—´å¾ªç¯çš„æ¦‚å¿µä¸Šã€‚ å•çº¿ç¨‹æ„å‘³ç€åŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€æ®µä»£ç ï¼Œä¸ JAVA å’Œ C++è¿™ç§å…è®¸åŒæ—¶æ‰§è¡Œå¤šæ®µä¸åŒçš„ä»£ç çš„å¤šçº¿ç¨‹è¯­è¨€å½¢æˆäº†åå·®ã€‚å¤šæ®µä»£ç å¯ä»¥åŒæ—¶è®¿é—®æˆ–ä¿®æ”¹çŠ¶æ€ï¼Œç»´æŠ¤å¹¶ä¿æŠ¤è¿™äº›çŠ¶æ€å°±å˜æˆäº†éš¾é¢˜ï¼Œ è¿™ä¹Ÿæ˜¯åŸºäºå¤šçº¿ç¨‹è½¯ä»¶å‡ºç°çš„<code>bug</code>å¸¸è§æ ¹æºä¹‹ä¸€ã€‚</p><h3 id="promise-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#promise-åŸºç¡€" aria-hidden="true">#</a> Promise åŸºç¡€</h3><p>Promise æ˜¯ä¸ºå¼‚æ­¥æ“ä½œçš„ç»“æœæ‰€å‡†å¤‡çš„å ä½ç¬¦ã€‚å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ª Promise, è€Œä¸å¿…è®¢é˜…ä¸€ä¸ªäº‹ä»¶æˆ–å‘å‡½æ•°ä¼ é€’ä¸€ä¸ªå›è°ƒå‚æ•°ã€‚</p><h4 id="promise-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#promise-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Promise ç”Ÿå‘½å‘¨æœŸ</h4><p>æ¯ä¸ª Promise éƒ½æœ‰ä¸€ä¸ªçŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸï¼Œ åˆå§‹ä¸ºæŒ‚èµ·çŠ¶æ€ï¼ˆpendingï¼‰, è¡¨ç¤ºå¼‚æ­¥æ“ä½œå°šæœªç»“æŸã€‚ä¸€æ—¦å¼‚æ­¥æ“ä½œç»“æŸï¼Œ Promise å°±ä¼šè¢«è®¤ä¸ºæ˜¯å·²å†³çš„ï¼Œ å¹¶è¿›å…¥ä»¥ä¸‹ä¸¤ç§çŠ¶æ€ï¼š</p><ol><li>å·²å®Œæˆï¼ˆfulfilledï¼‰</li><li>å·²æ‹’ç»ï¼ˆrejectedï¼‰</li></ol><p>å¯ä»¥é€šè¿‡<code>then()</code>æ–¹æ³•åœ¨ Promise çŠ¶æ€æ”¹å˜æ—¶æ‰§è¡Œä¸€äº›ç‰¹å®šæ“ä½œã€‚</p><p><code>then</code>æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>Promise</code>æˆåŠŸæ—¶è¦è°ƒç”¨çš„å‡½æ•°ï¼Œ ä¸å¼‚æ­¥æ“ä½œç›¸å…³è”çš„ä»»ä½•é™„åŠ æ•°æ®éƒ½ä¼šè¢«ä¼ å…¥è¿™ä¸ªå®Œæˆå‡½æ•°ã€‚ç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯<code>Promise</code>è¢«æ‹’ç»æ—¶è¦è°ƒç”¨çš„å‡½æ•°ï¼Œ ä¸å®Œæˆå‡½æ•°ç±»ä¼¼ï¼Œ æ‹’ç»å‡½æ•°ä¼šä¼ å…¥ä¸æ‹’ç»ç›¸å…³è”çš„ä»»ä½•é™„åŠ æ•°æ®ã€‚</p><h3 id="åˆ›å»ºå·²å†³çš„-promise" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºå·²å†³çš„-promise" aria-hidden="true">#</a> åˆ›å»ºå·²å†³çš„ Promise</h3><h4 id="promise-resolve" tabindex="-1"><a class="header-anchor" href="#promise-resolve" aria-hidden="true">#</a> Promise.resolve()</h4><p><code>Promise.resolve()</code>æ–¹æ³•æ¥å—å•ä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªå¤„äºå®Œæˆæ€çš„ Promiseã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//42</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åœ¨-promise-é“¾ä¸­è¿”å›å€¼" tabindex="-1"><a class="header-anchor" href="#åœ¨-promise-é“¾ä¸­è¿”å›å€¼" aria-hidden="true">#</a> åœ¨ Promise é“¾ä¸­è¿”å›å€¼</h3><p>Promise é“¾çš„å¦ä¸€é‡è¦æ–¹é¢æ˜¯ä»ä¸€ä¸ª Promise ä¼ é€’æ•°æ®ç»™ä¸‹ä¸€ä¸ª Promise çš„èƒ½åŠ›ã€‚ä¼ é€’ç»™æ‰§è¡Œå™¨ä¸­çš„<code>resolve()</code>å¤„ç†å‡½æ•°çš„å‚æ•°ï¼Œä¼šè¢«ä¼ é€’ç»™å¯¹åº” Promise çš„å®Œæˆå¤„ç†å‡½æ•°ã€‚ä½ å¯ä»¥æŒ‡å®šå®Œæˆå¤„ç†å‡½æ•°çš„è¿”å›å€¼ï¼Œ ä»¥ä¾¿æ²¿ç€ä¸€ä¸ªé“¾ç»§ç»­ä¼ é€’æ•°æ®ã€‚å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//42</span>
  <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//43</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>p1</code>çš„å®Œæˆå¤„ç†å‡½æ•°åœ¨è¢«æ‰§è¡Œæ—¶è¿”å›äº†<code>value+1</code>ã€‚ç”±äº<code>value</code>çš„å€¼ä¸º 42(æ¥è‡ªæ‰§è¡Œå™¨)ï¼Œæ­¤å®Œæˆå¤„ç†å‡½æ•°å°±è¿”å›äº†<code>43</code>ã€‚è¿™ä¸ªå€¼éšåè¢«ä¼ é€’ç»™ç¬¬äºŒä¸ª Promise çš„å®Œæˆå¤„ç†å‡½æ•°ï¼Œ å¹¶è¢«å…¶è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚</p><h4 id="åœ¨-promise-é“¾ä¸­è¿”å›-promise" tabindex="-1"><a class="header-anchor" href="#åœ¨-promise-é“¾ä¸­è¿”å›-promise" aria-hidden="true">#</a> åœ¨ Promise é“¾ä¸­è¿”å› Promise</h4><p>ä»å®Œæˆæˆ–æ‹’ç»å¤„ç†å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼ï¼Œ èƒ½å¤Ÿåœ¨ Promise ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œ ä½†è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡å‘¢ï¼Ÿ è‹¥è¯¥å¯¹è±¡æ˜¯ä¸€ä¸ª Promise è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ è¯·ç ”ç©¶ä»¥ä¸‹ä¾‹å­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
  <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ promise</span>
  <span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> p2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 43</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤ä¾‹ä¸­ï¼Œä¸€ä¸ªæ–°çš„ Promise åœ¨ p1 çš„å®Œæˆå¤„ç†å‡½æ•°ä¸­è¢«åˆ›å»ºã€‚è¿™æ„å‘³ç€ç›´åˆ° p2 è¢«å®Œæˆä¹‹åï¼Œç¬¬äºŒä¸ªå®Œæˆå¤„ç†å‡½æ•°æ‰ä¼šæ‰§è¡Œã€‚<strong>è‹¥ä½ æƒ³ç­‰å¾…å‰é¢çš„ Promise è¢«è§£å†³ï¼Œä¹‹åæ‰å»è§¦å‘å¦ä¸€ä¸ª Promise ï¼Œé‚£ä¹ˆè¿™ç§æ¨¡å¼å°±éå¸¸æœ‰ç”¨ã€‚</strong></p><h3 id="å“åº”å¤šä¸ª-promise" tabindex="-1"><a class="header-anchor" href="#å“åº”å¤šä¸ª-promise" aria-hidden="true">#</a> å“åº”å¤šä¸ª Promise</h3><p>æœ¬ç« è‡³ä»Šçš„æ¯ä¸ªä¾‹å­åœ¨åŒä¸€æ—¶åˆ»éƒ½åªå“åº”ä¸€ä¸ª Promise ã€‚ç„¶è€Œæœ‰æ—¶ä½ ä¼šæƒ³ç›‘è§†å¤šä¸ª Promise çš„è¿›ç¨‹ï¼Œä»¥ä¾¿å†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚ ES6 æä¾›äº†èƒ½ç›‘è§†å¤šä¸ª Promise çš„ä¸¤ä¸ªæ–¹æ³•ï¼šPromise.all() ä¸ Promise.race() ã€‚</p><h4 id="promise-all-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#promise-all-æ–¹æ³•" aria-hidden="true">#</a> Promise.all() æ–¹æ³•</h4><p>Promise.all() æ–¹æ³•æ¥æ”¶å•ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª Promise ã€‚è¿™ä¸ªå¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ éƒ½æ˜¯ Promise ï¼Œåªæœ‰åœ¨å®ƒä»¬éƒ½å®Œæˆåï¼Œæ‰€è¿”å›çš„ Promise æ‰ä¼šè¢«å®Œæˆã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p4 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p4<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 43</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 44</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä¾‹ä¸­åªæœ‰<code>p1,p2,p3</code>å…¨éƒ¨æ‰§è¡Œå®Œæ¯•åæ‰ä¼šæ‰§è¡Œ<code>p4</code>ï¼Œè‹¥ä¼ é€’ç»™ Promise.all() çš„ä»»æ„ Promise è¢«æ‹’ç»äº†ï¼Œé‚£ä¹ˆæ–¹æ³•æ‰€è¿”å›çš„ Promise å°±ä¼šç«‹åˆ»è¢«æ‹’ç»ï¼Œè€Œä¸å¿…ç­‰å¾…å…¶ä»–çš„ Promise ç»“æŸã€‚</p><h4 id="promise-race-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#promise-race-æ–¹æ³•" aria-hidden="true">#</a> Promise.race() æ–¹æ³•</h4><p>Promise.race() æä¾›äº†ç›‘è§†å¤šä¸ª Promise çš„ä¸€ä¸ªç¨å¾®ä¸åŒçš„æ–¹æ³•ã€‚æ­¤æ–¹æ³•ä¹Ÿæ¥å—ä¸€ä¸ªåŒ…å«éœ€ç›‘è§†çš„ Promise çš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Promise ï¼Œä½†ä¸€æ—¦æ¥æº Promise ä¸­æœ‰ä¸€ä¸ªè¢«è§£å†³ï¼Œæ‰€è¿”å›çš„ Promise å°±ä¼šç«‹åˆ»è¢«è§£å†³ã€‚ä¸ç­‰å¾…æ‰€æœ‰ Promise å®Œæˆçš„ Promise.all() æ–¹æ³•ä¸åŒï¼Œåœ¨æ¥æº Promise ä¸­ä»»æ„ä¸€ä¸ªè¢«å®Œæˆæ—¶ï¼Œ Promise.race() æ–¹æ³•æ‰€è¿”å›çš„ Promise å°±èƒ½ä½œå‡ºå“åº”ã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p4 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p4<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤ä»£ç ä¸­ï¼Œ <code>p1</code> è¢«åˆ›å»ºä¸ºä¸€ä¸ªå·²å®Œæˆçš„ Promise ï¼Œè€Œå…¶ä»–çš„ Promise åˆ™éœ€è¦è°ƒåº¦ä½œä¸šã€‚p4 çš„å®Œæˆå¤„ç†å‡½æ•°è¢«ä½¿ç”¨æ•°å€¼ 42 è¿›è¡Œäº†è°ƒç”¨ï¼Œå¹¶å¿½ç•¥äº†å…¶ä»–çš„ Promise ã€‚ä¼ é€’ç»™<code>Promise.race()</code> çš„ Promise ç¡®å®åœ¨è¿›è¡Œèµ›è·‘ï¼Œçœ‹å“ªä¸€ä¸ªé¦–å…ˆè¢«è§£å†³ã€‚è‹¥èƒœå‡ºçš„ Promise æ˜¯è¢«å®Œæˆï¼Œåˆ™è¿”å›çš„æ–° Promise ä¹Ÿä¼šè¢«å®Œæˆï¼›è€Œèƒœå‡ºçš„ Promise è‹¥æ˜¯è¢«æ‹’ç»ï¼Œåˆ™æ–° Promise ä¹Ÿä¼šè¢«æ‹’ç»ã€‚æ­¤å¤„æœ‰ä¸ªä½¿ç”¨æ‹’ç»çš„èŒƒä¾‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p2 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> p4 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p4<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æœªæ¥çš„å¼‚æ­¥ä»»åŠ¡è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#æœªæ¥çš„å¼‚æ­¥ä»»åŠ¡è¿è¡Œ" aria-hidden="true">#</a> æœªæ¥çš„å¼‚æ­¥ä»»åŠ¡è¿è¡Œ</h3><p>åœ¨æˆ‘å†™è¿™æœ¬ä¹¦çš„æ—¶å€™ï¼Œé’ˆå¯¹ JS ä¸­çš„å¼‚æ­¥ä»»åŠ¡è¿è¡Œï¼Œä¸ºä¹‹å¼•å…¥ç®€å•è¯­æ³•çš„ä¸€é¡¹å·¥ä½œæ­£åœ¨è¿›è¡Œã€‚æ­¤å·¥ä½œå¼€å±•åœ¨ await è¯­æ³•ä¸Šï¼Œæåº¦å€Ÿé‰´äº†ä¸Šè¿°ä»¥ Promise ä¸ºåŸºç¡€çš„ä¾‹å­ã€‚å…¶åŸºæœ¬ç†å¿µæ˜¯ä½¿ç”¨ä¸€ä¸ªè¢« async æ ‡è®°çš„å‡½æ•°ï¼ˆè€Œéç”Ÿæˆå™¨ï¼‰ï¼Œå¹¶åœ¨è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°æ—¶ä½¿ç”¨ await è€Œé yield ï¼Œå°±åƒè¿™æ ·ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;config.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">doSomethingWith</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Done&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ function ä¹‹å‰çš„ async å…³é”®å­—æ ‡æ˜äº†æ­¤å‡½æ•°ä½¿ç”¨å¼‚æ­¥æ–¹å¼è¿è¡Œã€‚ await å…³é”®å­—åˆ™è¡¨ç¤ºå¯¹äº readFile(&quot;config.json&quot;) çš„å‡½æ•°è°ƒç”¨åº”è¿”å›ä¸€ä¸ª Promise ï¼Œè‹¥è¿”å›ç±»å‹ä¸å¯¹ï¼Œåˆ™ä¼šå°†å…¶åŒ…è£…ä¸º Promise ã€‚ä¸ä¸Šè¿° run() çš„å®ç°ä¸€è‡´ï¼Œ await ä¼šåœ¨ Promise è¢«æ‹’ç»çš„æƒ…å†µä¸‹æŠ›å‡ºé”™è¯¯ï¼Œå¦åˆ™å®ƒå°†è¿”å›è¯¥ Promise è¢«å†³è®®çš„å€¼ã€‚æœ€ç»ˆç»“æœæ˜¯ä½ å¯ä»¥å°†å¼‚æ­¥ä»£ç å½“ä½œåŒæ­¥ä»£ç æ¥ä¹¦å†™ï¼Œè€Œæ— é¡»ä¸ºç®¡ç†åŸºäºè¿­ä»£å™¨çš„çŠ¶æ€æœºè€Œä»˜å‡ºé¢å¤–å¼€é”€ã€‚await è¯­æ³•é¢„è®¡å°†åœ¨ ES2017 ï¼ˆå³ ES8 ï¼‰ä¸­è¢«æœ€ç»ˆæ•²å®šã€‚ï¼ˆè¯‘æ³¨ï¼šå·²è¢«çº³å…¥ ES8 ï¼‰</p><h3 id="æ€»ç»“-2" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-2" aria-hidden="true">#</a> æ€»ç»“</h3><p>Promise è¢«è®¾è®¡ç”¨äºæ”¹å–„ JS ä¸­çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œä¸äº‹ä»¶åŠå›è°ƒå‡½æ•°å¯¹æ¯”ï¼Œåœ¨å¼‚æ­¥æ“ä½œæ–¹é¢ä¸ºä½ æä¾›äº†æ›´å¤šçš„æ§åˆ¶æƒä¸ç»„åˆæ€§ã€‚ Promise è°ƒåº¦è¢«æ·»åŠ åˆ° JS å¼•æ“ä½œä¸šé˜Ÿåˆ—ï¼Œä»¥ä¾¿ç¨åæ‰§è¡Œã€‚ä¸è¿‡æ­¤å¤„æœ‰å¦ä¸€ä¸ªä½œä¸šé˜Ÿåˆ—è¿½è¸ªç€ Promise çš„å®Œæˆä¸æ‹’ç»å¤„ç†å‡½æ•°ï¼Œä»¥ç¡®ä¿é€‚å½“çš„æ‰§è¡Œã€‚Promise å…·æœ‰ä¸‰ç§çŠ¶æ€ï¼šæŒ‚èµ·ã€å·²å®Œæˆã€å·²æ‹’ç»ã€‚ä¸€ä¸ª Promise èµ·å§‹äºæŒ‚èµ·æ€ï¼Œå¹¶åœ¨æˆåŠŸæ—¶è½¬ä¸ºå®Œæˆæ€ï¼Œæˆ–åœ¨å¤±è´¥æ—¶è½¬ä¸ºæ‹’ç»æ€ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå¤„ç†å‡½æ•°éƒ½èƒ½è¢«æ·»åŠ ä»¥è¡¨æ˜ Promise ä½•æ—¶è¢«è§£å†³ã€‚ then() æ–¹æ³•å…è®¸ä½ ç»‘å®šå®Œæˆå¤„ç†å‡½æ•°ä¸æ‹’ç»å¤„ç†å‡½æ•°ï¼Œè€Œ catch(æ–¹æ³•åˆ™åªå…è®¸ä½ ç»‘å®šæ‹’ç»å¤„ç†å‡½æ•°ã€‚ä½ èƒ½ç”¨å¤šç§æ–¹å¼å°†å¤šä¸ª Promise ä¸²è”åœ¨ä¸€èµ·ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚æ¯ä¸ªå¯¹ then() çš„è°ƒç”¨éƒ½åˆ›å»ºå¹¶è¿”å›äº†ä¸€ä¸ªæ–°çš„ Promise ï¼Œåœ¨å‰ä¸€ä¸ª Promise è¢«å†³è®®æ—¶ï¼Œæ–° Promise ä¹Ÿä¼šè¢«å†³è®®ã€‚ Promise é“¾å¯è¢«ç”¨äºè§¦å‘å¯¹ä¸€ç³»åˆ—å¼‚æ­¥äº‹ä»¶çš„å“åº”ã€‚ä½ è¿˜èƒ½ä½¿ç”¨ Promise.race() ä¸ Promise.all() æ¥ç›‘è§†å¤šä¸ª Promise çš„è¿›ç¨‹ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å“åº”ã€‚ç»„åˆä½¿ç”¨ç”Ÿæˆå™¨ä¸ Promise ä¼šè®©å¼‚æ­¥ä»»åŠ¡è¿è¡Œå¾—æ›´å®¹æ˜“ï¼Œè¿™æ˜¯ç”±äº Promise æä¾›äº†å¼‚æ­¥æ“ä½œå¯è¿”å›çš„ä¸€ä¸ªé€šç”¨æ¥å£ã€‚è¿™æ ·ä½ å°±èƒ½ä½¿ç”¨ç”Ÿæˆå™¨ä¸ yield è¿ç®—ç¬¦æ¥ç­‰å¾…å¼‚æ­¥å“åº”ï¼Œå¹¶ä½œå‡ºé€‚å¤šæ•°æ–°çš„ web API éƒ½åŸºäº Promise åˆ›å»ºï¼Œå¹¶ä¸”ä½ å¯ä»¥æœŸå¾…æœªæ¥ä¼šæœ‰æ›´å¤šçš„æ•ˆä»¿ä¹‹ä½œã€‚å½“çš„åº”ç­”ã€‚</p><h2 id="ä»£ç†-proxy-å’Œåå°„-reflection-api" tabindex="-1"><a class="header-anchor" href="#ä»£ç†-proxy-å’Œåå°„-reflection-api" aria-hidden="true">#</a> ä»£ç†(Proxy)å’Œåå°„(Reflection)API</h2><h2 id="proxy-ä¸-reflect" tabindex="-1"><a class="header-anchor" href="#proxy-ä¸-reflect" aria-hidden="true">#</a> Proxy ä¸ Reflect</h2><p>Proxy å¯ä»¥å®ç°å¯¹ä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œåœ¨å†…éƒ¨æ‹¥æœ‰ set å’Œ get æ–¹æ³•ï¼Œå¯ä»¥å®ç°ä¸€äº›è‡ªå®šä¹‰æ“ä½œã€‚ Proxy ä»£ç†/æ‹¦æˆª</p><ul><li>æ‹¦æˆªè¯»å–: get (target, key)</li><li>æ‹¦æˆªè®¾ç½®ï¼šset (target, key, value, proxy)</li><li>æ‹¦æˆªæŸ¥æ‰¾: has (target, key) // æ‹¦æˆª key in obj æ“ä½œ</li><li>æ‹¦æˆªåˆ é™¤:deleteProperty (target, key)</li><li>æ‹¦æˆªéå†: ownKeys(target) // æ‹¦æˆª Object.keys,Object.getOwnPropertySymbols,Object.getOwnPropertyNames</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//åŸå§‹å¯¹è±¡å¯¹è±¡</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token string">&#39;2019-05-19&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;net&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_r</span><span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//ä»£ç†</span>
<span class="token keyword">let</span> monitor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">//æ‹¦æˆªå¯¹è±¡å±æ€§è¯»å–</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;2019&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2020&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//æ‹¦æˆªå¯¹è±¡è®¾ç½®å±æ€§</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//keyå€¼åªæœ‰æ˜¯nameæ—¶æ‰å…è®¸ä¿®æ”¹</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//æ‹¦æˆªkey in object</span>
  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//keyå€¼åªæœ‰nameæ—¶æ‰å¯ä»¥è¿”å›å€¼</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//æ‹¦æˆªdelete</span>
  <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//keyå€¼æœ‰_æ‰å¯ä»¥åˆ é™¤</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;_&#39;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ‹¦æˆªObject.keys,Object.getOwnPropertySymbols,Object.getOwnPropertyNames</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">!=</span> <span class="token string">&#39;time&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//ç”¨æˆ·åªæ“ä½œmonitor</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> monitor<span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2020-05-19</span>

monitor<span class="token punctuation">.</span>_r <span class="token operator">=</span> <span class="token string">&#39;39&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;set&#39;</span><span class="token punctuation">,</span> monitor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//123</span>
monitor<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;666&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;set&#39;</span><span class="token punctuation">,</span> monitor<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//666</span>

console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;has&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span> <span class="token keyword">in</span> monitor<span class="token punctuation">,</span> <span class="token string">&#39;time&#39;</span> <span class="token keyword">in</span> monitor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true false</span>

<span class="token keyword">delete</span> monitor<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token keyword">delete</span> monitor<span class="token punctuation">.</span>time<span class="token punctuation">;</span>
<span class="token keyword">delete</span> monitor<span class="token punctuation">.</span>_r<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;delete&#39;</span><span class="token punctuation">,</span> monitor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åªåˆ é™¤äº†_r</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ownKeys&#39;</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>monitor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åªå¾—åˆ°äº†nameå’Œ_r  timeè¢«ä¿æŠ¤èµ·æ¥äº†</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="reflect" tabindex="-1"><a class="header-anchor" href="#reflect" aria-hidden="true">#</a> Reflect</h3><p>æ˜ å°„ å’Œ<code>Proxy</code>çš„ç”¨æ³•ä¸€æ ·æœ‰è¯»å–<code>get</code>ã€è®¾ç½®<code>set</code>ã€<code>delete</code>åˆ é™¤ã€éå†</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;net&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Reflect get&#39;</span><span class="token punctuation">,</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//net</span>
Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;mukewang&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//mukewang</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;has&#39;</span><span class="token punctuation">,</span> Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç”¨æ¨¡å—å°è£…ä»£ç " tabindex="-1"><a class="header-anchor" href="#ç”¨æ¨¡å—å°è£…ä»£ç " aria-hidden="true">#</a> ç”¨æ¨¡å—å°è£…ä»£ç </h2><p>JS â€œå…±äº«ä¸€åˆ‡â€çš„ä»£ç åŠ è½½æ–¹å¼æ˜¯è¯¥è¯­è¨€æ··ä¹±ä¸”æœ€æ˜“å‡ºé”™çš„æ–¹é¢ä¹‹ä¸€ã€‚å…¶ä»–è¯­è¨€ä½¿ç”¨åŒ…ï¼ˆpackage ï¼‰ä¹‹ç±»çš„æ¦‚å¿µæ¥å®šä¹‰ä»£ç çš„ä½œç”¨åŸŸï¼Œç„¶è€Œåœ¨ ES6 ä¹‹å‰ï¼Œä¸€ä¸ªåº”ç”¨çš„æ¯ä¸ª JS æ–‡ä»¶æ‰€å®šä¹‰çš„æ‰€æœ‰å†…å®¹éƒ½ç”±å…¨å±€ä½œç”¨åŸŸå…±äº«ã€‚å½“ web åº”ç”¨å˜å¾—æ›´åŠ å¤æ‚ã€éœ€è¦ä½¿ç”¨è¶Šæ¥è¶Šå¤šçš„ JS ä»£ç æ—¶ï¼Œè¿™ç§æ–¹å¼å¯¼è‡´äº†è¯¸å¤šé—®é¢˜ï¼Œä¾‹å¦‚å‘½åå†²çªã€å®‰å…¨é—®é¢˜ç­‰ã€‚ ES6 çš„è®¾è®¡ç›®æ ‡ä¹‹ä¸€å°±æ˜¯è¦è§£å†³ä½œç”¨åŸŸé—®é¢˜ï¼Œå¹¶è®© JS åº”ç”¨å˜å¾—æ›´æœ‰æ¡ç†ã€‚è¿™ä¾¿æ˜¯æ¨¡å—çš„åˆ‡å…¥ç‚¹ã€‚</p><h3 id="ä½•ä¸ºæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#ä½•ä¸ºæ¨¡å—" aria-hidden="true">#</a> ä½•ä¸ºæ¨¡å—ï¼Ÿ</h3><p>æ¨¡å—ï¼ˆ Modules ï¼‰æ˜¯ä½¿ç”¨ä¸åŒæ–¹å¼åŠ è½½çš„ JS æ–‡ä»¶ï¼ˆä¸ JS åŸå…ˆçš„è„šæœ¬åŠ è½½æ–¹å¼ç›¸å¯¹ï¼‰ã€‚è¿™ ç§ä¸åŒæ¨¡å¼å¾ˆæœ‰å¿…è¦ï¼Œå› ä¸ºå®ƒä¸è„šæœ¬ï¼ˆ script ï¼‰æœ‰å¤§å¤§ä¸åŒçš„è¯­ä¹‰ï¼š</p><ol><li>æ¨¡å—ä»£ç è‡ªåŠ¨è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•åŠæ³•è·³å‡ºä¸¥æ ¼æ¨¡å¼ï¼›</li><li>åœ¨æ¨¡å—çš„é¡¶çº§ä½œç”¨åŸŸåˆ›å»ºçš„å˜é‡ï¼Œä¸ä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ°å…±äº«çš„å…¨å±€ä½œç”¨åŸŸï¼Œå®ƒä»¬åªä¼šåœ¨æ¨¡ å—é¡¶çº§ä½œç”¨åŸŸçš„å†…éƒ¨å­˜åœ¨ï¼›</li><li>æ¨¡å—é¡¶çº§ä½œç”¨åŸŸçš„ <code>this</code> å€¼ä¸º <code>undefined</code> ï¼›</li><li>æ¨¡å—ä¸å…è®¸åœ¨ä»£ç ä¸­ä½¿ç”¨ HTML é£æ ¼çš„æ³¨é‡Šï¼ˆè¿™æ˜¯ JS æ¥è‡ªäºæ—©æœŸæµè§ˆå™¨çš„å†å²é—ç•™ç‰¹æ€§ï¼‰ï¼›</li><li>å¯¹äºéœ€è¦è®©æ¨¡å—å¤–éƒ¨ä»£ç è®¿é—®çš„å†…å®¹ï¼Œæ¨¡å—å¿…é¡»å¯¼å‡ºå®ƒä»¬ï¼›</li><li>å…è®¸æ¨¡å—ä»å…¶ä»–æ¨¡å—å¯¼å…¥ç»‘å®šã€‚</li></ol><p>è¿™äº›å·®å¼‚ä¹ä¸€çœ‹ä¼¼ä¹å¾ˆå°ï¼Œä½†å®ƒä»¬ä»£è¡¨äº† JS ä»£ç åŠ è½½ä¸æ‰§è¡Œæ–¹é¢çš„æ˜¾è‘—æ”¹å˜ï¼Œæˆ‘å°†åœ¨æ•´ç« ä¸­å¯¹å…¶è¿›è¡Œè®ºè¿°ã€‚æ¨¡å—çš„çœŸå®åŠ›é‡æ˜¯æŒ‰éœ€å¯¼å‡ºä¸å¯¼å…¥ä»£ç çš„èƒ½åŠ›ï¼Œè€Œä¸ç”¨å°†æ‰€æœ‰å†…å®¹æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å†…ã€‚å¯¹äºå¯¼å‡ºä¸å¯¼å…¥çš„æ¸…æ¥šç†è§£ï¼Œæ˜¯è¾¨åˆ«æ¨¡å—ä¸è„šæœ¬å·®å¼‚çš„åŸºç¡€ã€‚</p><h3 id="åŸºæœ¬çš„å¯¼å‡º" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬çš„å¯¼å‡º" aria-hidden="true">#</a> åŸºæœ¬çš„å¯¼å‡º</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å¯¼å‡ºæ•°æ®</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> magicNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
<span class="token comment">// å¯¼å‡ºå‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// å¯¼å‡ºç±»</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// æ­¤å‡½æ•°ä¸ºæ¨¡å—ç§æœ‰</span>
<span class="token keyword">function</span> <span class="token function">subtract</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°â€¦â€¦</span>
<span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">*</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// â€¦â€¦ç¨åå°†å…¶å¯¼å‡º</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> multiply <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åŸºæœ¬çš„å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬çš„å¯¼å…¥" aria-hidden="true">#</a> åŸºæœ¬çš„å¯¼å…¥</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> identifier1<span class="token punctuation">,</span> identifier2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“ä»æ¨¡å—å¯¼å…¥äº†ä¸€ä¸ªç»‘å®šæ—¶ï¼Œè¯¥ç»‘å®šè¡¨ç°å¾—å°±åƒä½¿ç”¨äº† <code>const</code> çš„å®šä¹‰ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½å†å®šä¹‰å¦ä¸€ä¸ªåŒåå˜é‡ï¼ˆåŒ…æ‹¬å¯¼å…¥å¦ä¸€ä¸ªåŒåç»‘å®šï¼‰ï¼Œä¹Ÿä¸èƒ½åœ¨å¯¹åº”çš„ <code>import</code>è¯­å¥ä¹‹å‰ä½¿ç”¨æ­¤</p><h3 id="å®Œå…¨å¯¼å…¥ä¸€ä¸ªæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#å®Œå…¨å¯¼å…¥ä¸€ä¸ªæ¨¡å—" aria-hidden="true">#</a> å®Œå…¨å¯¼å…¥ä¸€ä¸ªæ¨¡å—</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å®Œå…¨å¯¼å…¥</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> example <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>example<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> example<span class="token punctuation">.</span>magicNumber<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>example<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤ä»£ç ä¸­ï¼Œ <code>example.js</code> ä¸­æ‰€æœ‰å¯¼å‡ºçš„ç»‘å®šéƒ½è¢«åŠ è½½åˆ°ä¸€ä¸ªåä¸º <code>example</code> çš„å¯¹è±¡ä¸­ï¼Œå…·åå¯¼å‡ºï¼ˆ <code>sum()</code> å‡½æ•°ã€ <code>multiple()</code> å‡½æ•°ä¸ <code>magicNumber</code> ï¼‰éƒ½æˆä¸º <code>example</code> çš„å¯ç”¨å±æ€§ã€‚è¿™ç§å¯¼å…¥æ ¼å¼è¢«ç§°ä¸ºå‘½åç©ºé—´å¯¼å…¥ï¼ˆ namespace import ï¼‰ï¼Œè¿™æ˜¯å› ä¸ºè¯¥ <code>example</code> å¯¹è±¡å¹¶ä¸å­˜åœ¨äº <code>example.js</code> æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªå‘½åç©ºé—´å¯¹è±¡è¢«åˆ›å»ºä½¿ç”¨ï¼Œå…¶ä¸­åŒ…å«äº†<code>example.js</code> çš„æ‰€æœ‰å¯¼å‡ºæˆå‘˜ã€‚</p><p>ç„¶è€Œè¦è®°ä½ï¼Œæ— è®ºä½ å¯¹åŒä¸€ä¸ªæ¨¡å—ä½¿ç”¨äº†å¤šå°‘æ¬¡ <code>import</code> è¯­å¥ï¼Œè¯¥æ¨¡å—éƒ½åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚åœ¨å¯¼å‡ºæ¨¡å—çš„ä»£ç æ‰§è¡Œä¹‹åï¼Œå·²è¢«å®ä¾‹åŒ–çš„æ¨¡å—å°±è¢«ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œå¹¶éšæ—¶éƒ½èƒ½è¢«å…¶ä»–<code>import</code> æ‰€å¼•ç”¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> sum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> multiply <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> magicNumber <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°½ç®¡æ­¤å¤„çš„æ¨¡å—ä½¿ç”¨äº†ä¸‰ä¸ª <code>import</code> è¯­å¥ï¼Œä½† <code>example.js</code> åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚è‹¥åŒä¸€ä¸ªåº”ç”¨ä¸­çš„å…¶ä»–æ¨¡å—æ‰“ç®—ä»<code>example.js</code>å¯¼å…¥ç»‘å®šï¼Œåˆ™é‚£äº›æ¨¡å—éƒ½ä¼šä½¿ç”¨è¿™æ®µä»£ç ä¸­æ‰€ç”¨çš„åŒä¸€ä¸ªæ¨¡å—å®ä¾‹ã€‚</p><h3 id="å¯¼å…¥ç»‘å®šçš„ä¸€ä¸ªå¾®å¦™æ€ªå¼‚ç‚¹" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥ç»‘å®šçš„ä¸€ä¸ªå¾®å¦™æ€ªå¼‚ç‚¹" aria-hidden="true">#</a> å¯¼å…¥ç»‘å®šçš„ä¸€ä¸ªå¾®å¦™æ€ªå¼‚ç‚¹</h3><p>ES6 çš„ <code>import</code> è¯­å¥ä¸ºå˜é‡ã€å‡½æ•°ä¸ç±»åˆ›å»ºäº†åªè¯»ç»‘å®šï¼Œè€Œä¸åƒæ™®é€šå˜é‡é‚£æ ·ç®€å•å¼•ç”¨äº†åŸå§‹ç»‘å®šã€‚å°½ç®¡å¯¼å…¥ç»‘å®šçš„æ¨¡å—æ— æ³•ä¿®æ”¹ç»‘å®šçš„å€¼ï¼Œä½†è´Ÿè´£å¯¼å‡ºçš„æ¨¡å—å´èƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ æƒ³è¦ä½¿ç”¨ä»¥ä¸‹æ¨¡å—ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> newName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ å¯¼å…¥äº†è¿™ä¸¤ä¸ªç»‘å®šåï¼Œ <code>setName()</code> å‡½æ•°è¿˜å¯ä»¥æ”¹å˜ <code>name</code> çš„å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> setName <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Nicholas&quot;</span>
<span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&#39;Greg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Greg&quot;</span>
name <span class="token operator">=</span> <span class="token string">&#39;Nicholas&#39;</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨ <code>setName(&quot;Greg&quot;)</code>ä¼šå›åˆ°å¯¼å‡º <code>setName()</code> çš„æ¨¡å—å†…éƒ¨ï¼Œå¹¶åœ¨é‚£é‡Œæ‰§è¡Œï¼Œä»è€Œå°† <code>name</code> è®¾ç½®ä¸º <code>&quot;Greg&quot;</code> ã€‚æ³¨æ„è¿™ä¸ªå˜åŒ–ä¼šè‡ªåŠ¨åæ˜ åˆ°æ‰€å¯¼å…¥çš„ <code>name</code> ç»‘å®šä¸Šï¼Œè¿™æ˜¯å› ä¸ºç»‘å®šçš„ <code>name</code>æ˜¯å¯¼å‡ºçš„ <code>name</code> æ ‡è¯†ç¬¦çš„æœ¬åœ°åç§°ï¼ŒäºŒè€…å¹¶éåŒä¸€ä¸ªäº‹ç‰©ã€‚</p><h3 id="å¯¼å‡ºé»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#å¯¼å‡ºé»˜è®¤å€¼" aria-hidden="true">#</a> å¯¼å‡ºé»˜è®¤å€¼</h3><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>default</code> å…³é”®å­—çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ¨¡å—å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºé»˜è®¤å€¼è¿›è¡Œäº†å¯¼å‡ºï¼Œ <code>default</code> å…³é”®å­—æ ‡æ˜äº†è¿™æ˜¯ä¸€ä¸ªé»˜è®¤å¯¼å‡ºã€‚æ­¤å‡½æ•°å¹¶ä¸éœ€è¦æœ‰åç§°ï¼Œå› ä¸ºå®ƒå°±ä»£è¡¨è¿™ä¸ªæ¨¡å—è‡ªèº«ã€‚ä½ ä¹Ÿèƒ½åœ¨ <code>export default</code> åé¢æ”¾ç½®ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œä»¥æŒ‡å®šé»˜è®¤çš„å¯¼å‡ºï¼Œæ­£å¦‚ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> sum<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤„ <code>sum()</code>å‡½æ•°å…ˆè¢«å®šä¹‰äº†ï¼Œéšåå®ƒä½œä¸ºæ¨¡å—çš„é»˜è®¤å€¼è¢«å¯¼å‡ºã€‚è‹¥é»˜è®¤å€¼éœ€è¦è®¡ç®—æ‰èƒ½å¾—å‡ºï¼Œä½ æˆ–è®¸ä¼šé€‰æ‹©è¿™ç§æ–¹å¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> sum <span class="token keyword">as</span> <span class="token keyword">default</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>default</code> æ ‡è¯†ç¬¦æœ‰ç‰¹åˆ«å«ä¹‰ï¼Œæ—¢ä½œä¸ºé‡å‘½åå¯¼å‡ºï¼Œåˆæ ‡æ˜äº†æ¨¡å—éœ€è¦ä½¿ç”¨çš„é»˜è®¤å€¼ã€‚ç”±äº<code>default</code> åœ¨ JS ä¸­æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒå°±ä¸èƒ½è¢«ç”¨ä½œå˜é‡ã€å‡½æ•°æˆ–ç±»çš„åç§°ï¼ˆä½†å®ƒå¯ä»¥è¢«ç”¨ä½œå±æ€§åç§°ï¼‰ã€‚å› æ­¤ä½¿ç”¨ <code>default</code> æ¥é‡å‘½åä¸€ä¸ªå¯¼å‡ºæ˜¯ä¸ªç‰¹ä¾‹ï¼Œä¸éé»˜è®¤å¯¼å‡ºçš„è¯­æ³•ä¿æŒäº†ä¸€è‡´æ€§ã€‚è‹¥ä½ æƒ³ç”¨å•ä¸ªè¯­å¥ä¸€æ¬¡æ€§è¿›è¡Œå¤šä¸ªå¯¼å‡ºï¼Œå¹¶è¦æ±‚åŒ…å«é»˜è®¤å¯¼å‡ºï¼Œè¿™ç§è¯­æ³•å°±éå¸¸æœ‰ç”¨ã€‚</p><h3 id="å¯¼å…¥é»˜è®¤å€¼" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥é»˜è®¤å€¼" aria-hidden="true">#</a> å¯¼å…¥é»˜è®¤å€¼</h3><p>ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­æ³•æ¥ä»ä¸€ä¸ªæ¨¡å—ä¸­å¯¼å…¥é»˜è®¤å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å¯¼å…¥é»˜è®¤å€¼</span>
<span class="token keyword">import</span> sum <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªå¯¼å…¥è¯­å¥ä» <code>example.js</code> æ¨¡å—å¯¼å…¥äº†å…¶é»˜è®¤å€¼ã€‚æ³¨æ„æ­¤å¤„å¹¶æœªä½¿ç”¨èŠ±æ‹¬å·ï¼Œä¸ä¹‹å‰åœ¨éé»˜è®¤çš„å¯¼å…¥ä¸­çœ‹åˆ°çš„ä¸åŒã€‚æœ¬åœ°åç§° <code>sum</code> è¢«ç”¨äºä»£è¡¨ç›®æ ‡æ¨¡å—æ‰€é»˜è®¤å¯¼å‡ºçš„å‡½æ•°ã€‚è¿™ç§è¯­æ³•æ˜¯æœ€ç®€æ´çš„ï¼Œè€Œ ES6 çš„æ ‡å‡†åˆ¶å®šè€…ä¹ŸæœŸå¾…å®ƒæˆä¸ºåœ¨ç½‘ç»œä¸Šè¿›è¡Œå¯¼å…¥çš„ä¸»è¦å½¢å¼ï¼Œè¿™æ ·ä½ å°±èƒ½å¯¼å…¥å·²å­˜åœ¨çš„å¯¹è±¡ã€‚å¯¹äºæ—¢å¯¼å‡ºäº†é»˜è®¤å€¼ã€åˆå¯¼å‡ºäº†ä¸€ä¸ªæˆ–æ›´å¤šéé»˜è®¤çš„ç»‘å®šçš„æ¨¡å—ï¼Œä½ å¯ä»¥ä½¿ç”¨å•ä¸ªè¯­å¥æ¥å¯¼å…¥å®ƒçš„æ‰€æœ‰å¯¼å‡ºç»‘å®šã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ æœ‰è¿™ä¹ˆä¸€ä¸ªæ¨¡å—ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ <code>import</code> è¯­å¥ï¼Œæ¥åŒæ—¶å¯¼å…¥<code>color</code> ä»¥åŠä½œä¸ºé»˜è®¤å€¼çš„å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> sum<span class="token punctuation">,</span> <span class="token punctuation">{</span> color <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;red&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€—å·å°†é»˜è®¤çš„æœ¬åœ°åç§°ä¸éé»˜è®¤çš„åç§°åˆ†éš”å¼€ï¼Œåè€…ä»æ—§è¢«èŠ±æ‹¬å·æ‰€åŒ…è£¹ã€‚è¦è®°ä½åœ¨ <code>import</code>è¯­å¥ä¸­é»˜è®¤åç§°å¿…é¡»ä½äºéé»˜è®¤åç§°ä¹‹å‰ã€‚</p><p>å¦‚åŒå¯¼å‡ºé»˜è®¤å€¼ï¼Œä½ ä¹Ÿèƒ½ä½¿ç”¨é‡å‘½åè¯­æ³•è¿›è¡Œé»˜è®¤å€¼çš„å¯¼å…¥ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç­‰ä»·äºä¸Šä¸ªä¾‹å­</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> sum<span class="token punctuation">,</span> color <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;example&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;red&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤ä»£ç ä¸­ï¼Œé»˜è®¤çš„å¯¼å‡º<code>ï¼ˆ default ï¼‰</code>è¢«é‡å‘½åä¸º <code>sum</code> ï¼Œå¹¶ä¸”é™„åŠ çš„ <code>color</code> å¯¼å‡ºä¹Ÿè¢«ä¸€å¹¶å¯¼å…¥äº†ã€‚æ­¤ä¾‹ä¸å‰é¢çš„ä¾‹å­æ˜¯ç­‰æ•ˆçš„ã€‚</p><h3 id="ç»‘å®šçš„å†å¯¼å‡º" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šçš„å†å¯¼å‡º" aria-hidden="true">#</a> ç»‘å®šçš„å†å¯¼å‡º</h3><p>ä¹Ÿè®¸æœ‰æ—¶ä½ ä¼šæƒ³å°†å½“å‰æ¨¡å—å·²å¯¼å…¥çš„å†…å®¹é‡æ–°å†å¯¼å‡ºï¼ˆä¾‹å¦‚ï¼Œå‡è®¾è¦ç”¨å‡ ä¸ªå°æ¨¡å—æ¥åˆ›å»ºä¸€ä¸ªåº“ï¼‰ã€‚ä½ èƒ½ä½¿ç”¨æœ¬ç« å·²æè¿°è¿‡çš„æ¨¡å¼æ¥å°†å·²å¯¼å…¥çš„å€¼å†å¯¼å‡ºï¼Œå°±åƒè¿™æ ·:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> sum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> sum <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ–¹æ³•èƒ½å¥æ•ˆï¼Œä½†è¿˜å¯ä»¥ä½¿ç”¨å•ä¸ªè¯­å¥æ¥å®Œæˆç›¸åŒä»»åŠ¡ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> sum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤å¤„ï¼Œä» <code>&quot;./example.js&quot;</code> å¯¼å…¥çš„ <code>sum</code> éšåä»¥ <code>add</code> çš„åç§°è¢«å¯¼å‡ºäº†ã€‚è‹¥ä½ æƒ³å°†æ¥è‡ªå¦ä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰å€¼å®Œå…¨å¯¼å‡ºï¼Œå¯ä»¥ä½¿ç”¨æ˜Ÿå·ï¼ˆ * ï¼‰æ¨¡å¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨å®Œå…¨å¯¼å‡ºï¼Œå°±å¯ä»¥å¯¼å‡ºç›®æ ‡æ¨¡å—çš„é»˜è®¤å€¼åŠå…¶æ‰€æœ‰å…·åå¯¼å‡ºï¼Œä½†è¿™å¯èƒ½å½±å“ä½ ä»å½“å‰æ¨¡å—æ‰€èƒ½å¯¼å‡ºçš„å€¼ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ <code>example.js</code> å…·æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼Œå½“ä½ ä½¿ç”¨è¿™ç§è¯­æ³•æ—¶ï¼Œä½ å°±æ— æ³•ä¸ºå½“å‰æ¨¡å—å¦å¤–å†å®šä¹‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºã€‚</p><h3 id="æ— ç»‘å®šçš„å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#æ— ç»‘å®šçš„å¯¼å…¥" aria-hidden="true">#</a> æ— ç»‘å®šçš„å¯¼å…¥</h3><p>æœ‰äº›æ¨¡å—ä¹Ÿè®¸æ²¡æœ‰è¿›è¡Œä»»ä½•å¯¼å‡ºï¼Œç›¸ååªæ˜¯ä¿®æ”¹å…¨å±€ä½œç”¨åŸŸçš„å¯¹è±¡ã€‚å°½ç®¡è¿™ç§æ¨¡å—çš„é¡¶çº§å˜é‡ã€å‡½æ•°æˆ–ç±»æœ€ç»ˆå¹¶ä¸ä¼šè‡ªåŠ¨è¢«åŠ å…¥å…¨å±€ä½œç”¨åŸŸï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€è¯¥æ¨¡å—æ— æ³•è®¿é—®å…¨å±€ä½œç”¨åŸŸã€‚è¯¸å¦‚ Array ä¸ Object ä¹‹ç±»çš„å†…ç½®å¯¹è±¡çš„å…±äº«å®šä¹‰åœ¨æ¨¡å—å†…éƒ¨æ˜¯å¯è®¿é—®çš„ï¼Œå¹¶ä¸”å¯¹äºè¿™äº›å¯¹è±¡çš„ä¿®æ”¹ä¼šåæ˜ åˆ°å…¶ä»–æ¨¡å—ä¸­ã€‚ä¾‹å¦‚ï¼Œè‹¥ä½ æƒ³ä¸ºæ‰€æœ‰æ•°ç»„æ·»åŠ ä¸€ä¸ª<code>pushAll()</code> æ–¹æ³•ï¼Œä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·å®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ²¡æœ‰å¯¼å‡ºä¸å¯¼å…¥çš„æ¨¡å—</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushAll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// items å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&#39;Argument must be an array.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ä½¿ç”¨å†…ç½®çš„ push() ä¸æ‰©å±•è¿ç®—ç¬¦</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ¨¡å—ï¼Œå°½ç®¡æ­¤å¤„æ²¡æœ‰ä»»ä½•å¯¼å‡ºä¸å¯¼å…¥ã€‚æ­¤ä»£ç å¯ä»¥ä½œä¸ºæ¨¡å—æˆ–è„šæœ¬æ¥ä½¿ç”¨ã€‚ç”±äºå®ƒæ²¡æœ‰å¯¼å‡ºä»»ä½•ä¸œè¥¿ï¼Œä½ å¯ä»¥ä½¿ç”¨ç®€åŒ–çš„å¯¼å…¥è¯­æ³•æ¥æ‰§è¡Œæ­¤æ¨¡å—çš„ä»£ç ï¼Œè€Œæ— é¡»å¯¼å…¥ä»»ä½•ç»‘å®šï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;./example.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
items<span class="token punctuation">.</span><span class="token function">pushAll</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ä»£ç å¯¼å…¥å¹¶æ‰§è¡Œäº†åŒ…å« <code>pushAll()</code> çš„æ¨¡å—ï¼Œäºæ˜¯ <code>pushAll()</code> å°±è¢«æ·»åŠ åˆ°æ•°ç»„çš„åŸå‹ä¸Šã€‚è¿™æ„å‘³ç€ç°åœ¨ <code>pushAll()</code> åœ¨å½“å‰æ¨¡å—å†…çš„æ‰€æœ‰æ•°ç»„ä¸Šéƒ½å¯ç”¨ã€‚</p><p>æ— ç»‘å®šçš„å¯¼å…¥æœ€æœ‰å¯èƒ½è¢«ç”¨äºåˆ›å»º<code>polyfill</code> ä¸ <code>shim</code> ï¼ˆä¸ºæ–°è¯­æ³•åœ¨æ—§ç¯å¢ƒä¸­è¿è¡Œæä¾›å‘ä¸‹å…¼å®¹çš„ä¸¤ç§æ–¹å¼ï¼‰ã€‚</p><h3 id="æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#æœ€ä½³å®è·µ" aria-hidden="true">#</a> æœ€ä½³å®è·µ</h3><h4 id="å¯¼å‡º" tabindex="-1"><a class="header-anchor" href="#å¯¼å‡º" aria-hidden="true">#</a> å¯¼å‡º</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token constant">A</span><span class="token punctuation">,</span>
  test<span class="token punctuation">,</span>
  Hello
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥" aria-hidden="true">#</a> å¯¼å…¥</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> obj <span class="token keyword">from</span> <span class="token string">&#39;./class/module.js&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ€»ç»“-3" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-3" aria-hidden="true">#</a> æ€»ç»“</h3><p>ES6 ä¸º JS è¯­è¨€æ·»åŠ äº†æ¨¡å—ï¼Œä½œä¸ºæ‰“åŒ…ä¸å°è£…åŠŸèƒ½çš„æ–¹å¼ã€‚æ¨¡å—çš„è¡Œä¸ºå¼‚äºè„šæœ¬ï¼Œå®ƒä»¬ä¸ä¼šç”¨è‡ªèº«é¡¶çº§ä½œç”¨åŸŸçš„å˜é‡ã€å‡½æ•°æˆ–ç±»å»ä¿®æ”¹å…¨å±€ä½œç”¨åŸŸï¼Œè€Œæ¨¡å—çš„ <code>this</code> å€¼ä¸º <code>undefined</code> ã€‚ä¸ºäº†å®ç°è¿™äº›è¡Œä¸ºï¼Œæ¨¡å—åœ¨è¢«åŠ è½½æ—¶ä½¿ç”¨äº†ä¸€ç§ä¸åŒçš„æ–¹å¼ã€‚</p><p>ä½ å¿…é¡»å°†æ¨¡å—ä¸­éœ€è¦å‘å¤–æä¾›çš„ä»»ä½•åŠŸèƒ½éƒ½å¯¼å‡ºï¼Œå˜é‡ã€å‡½æ•°ä¸ç±»éƒ½å¯ä»¥ï¼Œå¹¶ä¸”æ¯ä¸ªæ¨¡å—å…è®¸å­˜åœ¨ä¸€ä¸ªé»˜è®¤å¯¼å‡ºã€‚åœ¨å¯¼å‡ºä¹‹åï¼Œå¦ä¸€ä¸ªæ¨¡å—å°±èƒ½å¯¼å…¥è¯¥æ¨¡å—æ‰€å¯¼çš„ä¸€ä¸ªæˆ–å¤šä¸ªåç§°äº†ã€‚è¿™äº›å¯¼å…¥çš„åç§°å°±åƒæ˜¯è¢« <code>let</code> æ‰€å®šä¹‰çš„ï¼Œä¼šè¢«å½“ä½œå—çº§ç»‘å®šï¼Œå¹¶ä¸”ä¸å…åœ¨åŒä¸€æ¨¡å—å†…é‡å¤å£°æ˜ã€‚</p><p>å¦‚æœæ¨¡å—åªæ˜¯è¦åœ¨å…¨å±€ä½œç”¨åŸŸä¸Šè¿›è¡Œæ“çºµï¼Œé‚£ä¹ˆæ— é¡»å¯¼å‡ºä»»ä½•ç»‘å®šã€‚ä½ å®é™…ä¸Šå¯ä»¥å¯¼å…¥è¿™æ ·ä¸€ä¸ªæ¨¡å—ï¼Œè€Œä¸ä¼šåœ¨å½“å‰æ¨¡å—ä½œç”¨åŸŸä¸­å¼•å…¥ä»»ä½•ç»‘å®šã€‚</p><h2 id="é™„å½•-a" tabindex="-1"><a class="header-anchor" href="#é™„å½•-a" aria-hidden="true">#</a> é™„å½• A</h2><h2 id="é™„å½•-b" tabindex="-1"><a class="header-anchor" href="#é™„å½•-b" aria-hidden="true">#</a> é™„å½• B</h2></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://gitee.com/l544402029/blog/edit/gh-pages/å‰ç«¯ç¬”è®°/æ·±å…¥ç†è§£ ES6.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><span class="info">9/14/2022, 2:06:01 PM</span></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 544402029@qq.com">åˆ˜ä¿Šå³°</span><!--]--><!--]--></div></footer><!----><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.c9f640fb.js" defer></script>
  </body>
</html>
